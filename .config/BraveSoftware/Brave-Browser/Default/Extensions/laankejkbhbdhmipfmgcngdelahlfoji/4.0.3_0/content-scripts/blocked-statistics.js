var blockedStatistics=function(){"use strict";var RH=Object.defineProperty;var WA=Mt=>{throw TypeError(Mt)};var LH=(Mt,Pt,et)=>Pt in Mt?RH(Mt,Pt,{enumerable:!0,configurable:!0,writable:!0,value:et}):Mt[Pt]=et;var te=(Mt,Pt,et)=>LH(Mt,typeof Pt!="symbol"?Pt+"":Pt,et),Tm=(Mt,Pt,et)=>Pt.has(Mt)||WA("Cannot "+et);var O=(Mt,Pt,et)=>(Tm(Mt,Pt,"read from private field"),et?et.call(Mt):Pt.get(Mt)),Se=(Mt,Pt,et)=>Pt.has(Mt)?WA("Cannot add the same private member more than once"):Pt instanceof WeakSet?Pt.add(Mt):Pt.set(Mt,et),le=(Mt,Pt,et,On)=>(Tm(Mt,Pt,"write to private field"),On?On.call(Mt,et):Pt.set(Mt,et),et),qe=(Mt,Pt,et)=>(Tm(Mt,Pt,"access private method"),et);var nf=(Mt,Pt,et,On)=>({set _(Iu){le(Mt,Pt,Iu,et)},get _(){return O(Mt,Pt,On)}});var CA,OA,on,hn,Yr,$t,nn,Ti,Lo,ki,pr,No,tu,Fo,VA,Ei,sf,km,UA,Bo,Mi,Ua,PA,za,Di,qa,IA,jo,RA,Ya,Ga,Ds,$o,Dn,nu,Ho,Ys,si,LA,gr,NA,mr,Vn,Wo,yr,Zi,FA,Gr,Gs,su,BA,Kt,Ci,Oi,Ka,Za,Pi,Qa,Xa,jA,Xn,nt,ru,Un,Vo,Ja,Ii,Ri,iu,ec,tc,Uo,zo,Li,nc,gt,Pu,Mm,Dm,Cm,Om,Pm,Im,Rm,qA,$A,Jh,Ni;function Mt(t){return t}function Pt(t){return t}var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Iu={exports:{}};(function(t,e){(function(n,s){s(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:et,function(n){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)n.exports=globalThis.browser;else{const s="The message port closed before a response was received.",r=i=>{const o={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(o).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class a extends WeakMap{constructor(S,x=void 0){super(x),this.createItem=S}get(S){return this.has(S)||this.set(S,this.createItem(S)),super.get(S)}}const c=_=>_&&typeof _=="object"&&typeof _.then=="function",l=(_,S)=>(...x)=>{i.runtime.lastError?_.reject(new Error(i.runtime.lastError.message)):S.singleCallbackArg||x.length<=1&&S.singleCallbackArg!==!1?_.resolve(x[0]):_.resolve(x)},u=_=>_==1?"argument":"arguments",h=(_,S)=>function(E,...D){if(D.length<S.minArgs)throw new Error(`Expected at least ${S.minArgs} ${u(S.minArgs)} for ${_}(), got ${D.length}`);if(D.length>S.maxArgs)throw new Error(`Expected at most ${S.maxArgs} ${u(S.maxArgs)} for ${_}(), got ${D.length}`);return new Promise((R,N)=>{if(S.fallbackToNoCallback)try{E[_](...D,l({resolve:R,reject:N},S))}catch($){console.warn(`${_} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,$),E[_](...D),S.fallbackToNoCallback=!1,S.noCallback=!0,R()}else S.noCallback?(E[_](...D),R()):E[_](...D,l({resolve:R,reject:N},S))})},d=(_,S,x)=>new Proxy(S,{apply(E,D,R){return x.call(D,_,...R)}});let p=Function.call.bind(Object.prototype.hasOwnProperty);const g=(_,S={},x={})=>{let E=Object.create(null),D={has(N,$){return $ in _||$ in E},get(N,$,X){if($ in E)return E[$];if(!($ in _))return;let W=_[$];if(typeof W=="function")if(typeof S[$]=="function")W=d(_,_[$],S[$]);else if(p(x,$)){let q=h($,x[$]);W=d(_,_[$],q)}else W=W.bind(_);else if(typeof W=="object"&&W!==null&&(p(S,$)||p(x,$)))W=g(W,S[$],x[$]);else if(p(x,"*"))W=g(W,S[$],x["*"]);else return Object.defineProperty(E,$,{configurable:!0,enumerable:!0,get(){return _[$]},set(q){_[$]=q}}),W;return E[$]=W,W},set(N,$,X,W){return $ in E?E[$]=X:_[$]=X,!0},defineProperty(N,$,X){return Reflect.defineProperty(E,$,X)},deleteProperty(N,$){return Reflect.deleteProperty(E,$)}},R=Object.create(_);return new Proxy(R,D)},f=_=>({addListener(S,x,...E){S.addListener(_.get(x),...E)},hasListener(S,x){return S.hasListener(_.get(x))},removeListener(S,x){S.removeListener(_.get(x))}}),m=new a(_=>typeof _!="function"?_:function(x){const E=g(x,{},{getContent:{minArgs:0,maxArgs:0}});_(E)}),y=new a(_=>typeof _!="function"?_:function(x,E,D){let R=!1,N,$=new Promise(H=>{N=function(L){R=!0,H(L)}}),X;try{X=_(x,E,N)}catch(H){X=Promise.reject(H)}const W=X!==!0&&c(X);if(X!==!0&&!W&&!R)return!1;const q=H=>{H.then(L=>{D(L)},L=>{let se;L&&(L instanceof Error||typeof L.message=="string")?se=L.message:se="An unexpected error occurred",D({__mozWebExtensionPolyfillReject__:!0,message:se})}).catch(L=>{console.error("Failed to send onMessage rejected reply",L)})};return q(W?X:$),!0}),w=({reject:_,resolve:S},x)=>{i.runtime.lastError?i.runtime.lastError.message===s?S():_(new Error(i.runtime.lastError.message)):x&&x.__mozWebExtensionPolyfillReject__?_(new Error(x.message)):S(x)},v=(_,S,x,...E)=>{if(E.length<S.minArgs)throw new Error(`Expected at least ${S.minArgs} ${u(S.minArgs)} for ${_}(), got ${E.length}`);if(E.length>S.maxArgs)throw new Error(`Expected at most ${S.maxArgs} ${u(S.maxArgs)} for ${_}(), got ${E.length}`);return new Promise((D,R)=>{const N=w.bind(null,{resolve:D,reject:R});E.push(N),x.sendMessage(...E)})},b={devtools:{network:{onRequestFinished:f(m)}},runtime:{onMessage:f(y),onMessageExternal:f(y),sendMessage:v.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:v.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},T={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return o.privacy={network:{"*":T},services:{"*":T},websites:{"*":T}},g(i,b,o)};n.exports=r(chrome)}})})(Iu);var YA=Iu.exports;const Qi=On(YA);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cf(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Dt={},sa=[],sr=()=>{},GA=()=>!1,Ru=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lf=t=>t.startsWith("onUpdate:"),ln=Object.assign,uf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},KA=Object.prototype.hasOwnProperty,pt=(t,e)=>KA.call(t,e),De=Array.isArray,ra=t=>uc(t)==="[object Map]",ia=t=>uc(t)==="[object Set]",Lm=t=>uc(t)==="[object Date]",$e=t=>typeof t=="function",qt=t=>typeof t=="string",Ns=t=>typeof t=="symbol",St=t=>t!==null&&typeof t=="object",Nm=t=>(St(t)||$e(t))&&$e(t.then)&&$e(t.catch),Fm=Object.prototype.toString,uc=t=>Fm.call(t),ZA=t=>uc(t).slice(8,-1),Bm=t=>uc(t)==="[object Object]",df=t=>qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,dc=cf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},QA=/-(\w)/g,ri=Lu(t=>t.replace(QA,(e,n)=>n?n.toUpperCase():"")),XA=/\B([A-Z])/g,Xi=Lu(t=>t.replace(XA,"-$1").toLowerCase()),jm=Lu(t=>t.charAt(0).toUpperCase()+t.slice(1)),hf=Lu(t=>t?`on${jm(t)}`:""),ii=(t,e)=>!Object.is(t,e),Nu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},$m=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Hm=t=>{const e=parseFloat(t);return isNaN(e)?t:e},JA=t=>{const e=qt(t)?Number(t):NaN;return isNaN(e)?t:e};let Wm;const Fu=()=>Wm||(Wm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ff(t){if(De(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=qt(s)?s1(s):ff(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(qt(t)||St(t))return t}const e1=/;(?![^(]*\))/g,t1=/:([^]+)/,n1=/\/\*[^]*?\*\//g;function s1(t){const e={};return t.replace(n1,"").split(e1).forEach(n=>{if(n){const s=n.split(t1);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function oi(t){let e="";if(qt(t))e=t;else if(De(t))for(let n=0;n<t.length;n++){const s=oi(t[n]);s&&(e+=s+" ")}else if(St(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const r1=cf("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Vm(t){return!!t||t===""}function i1(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=hc(t[s],e[s]);return n}function hc(t,e){if(t===e)return!0;let n=Lm(t),s=Lm(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Ns(t),s=Ns(e),n||s)return t===e;if(n=De(t),s=De(e),n||s)return n&&s?i1(t,e):!1;if(n=St(t),s=St(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!hc(t[o],e[o]))return!1}}return String(t)===String(e)}function pf(t,e){return t.findIndex(n=>hc(n,e))}const Um=t=>!!(t&&t.__v_isRef===!0),Bt=t=>qt(t)?t:t==null?"":De(t)||St(t)&&(t.toString===Fm||!$e(t.toString))?Um(t)?Bt(t.value):JSON.stringify(t,zm,2):String(t),zm=(t,e)=>Um(e)?zm(t,e.value):ra(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[gf(s,i)+" =>"]=r,n),{})}:ia(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>gf(n))}:Ns(e)?gf(e):St(e)&&!De(e)&&!Bm(e)?String(e):e,gf=(t,e="")=>{var n;return Ns(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pn;class qm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pn,!e&&Pn&&(this.index=(Pn.scopes||(Pn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Pn;try{return Pn=this,e()}finally{Pn=n}}}on(){Pn=this}off(){Pn=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ym(t){return new qm(t)}function mf(){return Pn}function yf(t,e=!1){Pn&&Pn.cleanups.push(t)}let It;const bf=new WeakSet;class Gm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pn&&Pn.active&&Pn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bf.has(this)&&(bf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ty(this),Qm(this);const e=It,n=Fs;It=this,Fs=!0;try{return this.fn()}finally{Xm(this),It=e,Fs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)xf(e);this.deps=this.depsTail=void 0,ty(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_f(this)&&this.run()}get dirty(){return _f(this)}}let Km=0,fc,pc;function Zm(t,e=!1){if(t.flags|=8,e){t.next=pc,pc=t;return}t.next=fc,fc=t}function vf(){Km++}function wf(){if(--Km>0)return;if(pc){let e=pc;for(pc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;fc;){let e=fc;for(fc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Qm(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Xm(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),xf(s),o1(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function _f(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Jm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Jm(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===gc))return;t.globalVersion=gc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!_f(t)){t.flags&=-3;return}const n=It,s=Fs;It=t,Fs=!0;try{Qm(t);const r=t.fn(t._value);(e.version===0||ii(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{It=n,Fs=s,Xm(t),t.flags&=-3}}function xf(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)xf(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function o1(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Fs=!0;const ey=[];function Sr(){ey.push(Fs),Fs=!1}function Tr(){const t=ey.pop();Fs=t===void 0?!0:t}function ty(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=It;It=void 0;try{e()}finally{It=n}}}let gc=0;class a1{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Af{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!It||!Fs||It===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==It)n=this.activeLink=new a1(It,this),It.deps?(n.prevDep=It.depsTail,It.depsTail.nextDep=n,It.depsTail=n):It.deps=It.depsTail=n,ny(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=It.depsTail,n.nextDep=void 0,It.depsTail.nextDep=n,It.depsTail=n,It.deps===n&&(It.deps=s)}return n}trigger(e){this.version++,gc++,this.notify(e)}notify(e){vf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{wf()}}}function ny(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)ny(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Bu=new WeakMap,Ji=Symbol(""),Sf=Symbol(""),mc=Symbol("");function wn(t,e,n){if(Fs&&It){let s=Bu.get(t);s||Bu.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Af),r.map=s,r.key=n),r.track()}}function kr(t,e,n,s,r,i){const o=Bu.get(t);if(!o){gc++;return}const a=c=>{c&&c.trigger()};if(vf(),e==="clear")o.forEach(a);else{const c=De(t),l=c&&df(n);if(c&&n==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===mc||!Ns(d)&&d>=u)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),l&&a(o.get(mc)),e){case"add":c?l&&a(o.get("length")):(a(o.get(Ji)),ra(t)&&a(o.get(Sf)));break;case"delete":c||(a(o.get(Ji)),ra(t)&&a(o.get(Sf)));break;case"set":ra(t)&&a(o.get(Ji));break}}wf()}function c1(t,e){const n=Bu.get(t);return n&&n.get(e)}function oa(t){const e=Ye(t);return e===t?e:(wn(e,"iterate",mc),ys(t)?e:e.map(_n))}function ju(t){return wn(t=Ye(t),"iterate",mc),t}const l1={__proto__:null,[Symbol.iterator](){return Tf(this,Symbol.iterator,_n)},concat(...t){return oa(this).concat(...t.map(e=>De(e)?oa(e):e))},entries(){return Tf(this,"entries",t=>(t[1]=_n(t[1]),t))},every(t,e){return Er(this,"every",t,e,void 0,arguments)},filter(t,e){return Er(this,"filter",t,e,n=>n.map(_n),arguments)},find(t,e){return Er(this,"find",t,e,_n,arguments)},findIndex(t,e){return Er(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Er(this,"findLast",t,e,_n,arguments)},findLastIndex(t,e){return Er(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Er(this,"forEach",t,e,void 0,arguments)},includes(...t){return kf(this,"includes",t)},indexOf(...t){return kf(this,"indexOf",t)},join(t){return oa(this).join(t)},lastIndexOf(...t){return kf(this,"lastIndexOf",t)},map(t,e){return Er(this,"map",t,e,void 0,arguments)},pop(){return yc(this,"pop")},push(...t){return yc(this,"push",t)},reduce(t,...e){return sy(this,"reduce",t,e)},reduceRight(t,...e){return sy(this,"reduceRight",t,e)},shift(){return yc(this,"shift")},some(t,e){return Er(this,"some",t,e,void 0,arguments)},splice(...t){return yc(this,"splice",t)},toReversed(){return oa(this).toReversed()},toSorted(t){return oa(this).toSorted(t)},toSpliced(...t){return oa(this).toSpliced(...t)},unshift(...t){return yc(this,"unshift",t)},values(){return Tf(this,"values",_n)}};function Tf(t,e,n){const s=ju(t),r=s[e]();return s!==t&&!ys(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const u1=Array.prototype;function Er(t,e,n,s,r,i){const o=ju(t),a=o!==t&&!ys(t),c=o[e];if(c!==u1[e]){const h=c.apply(t,i);return a?_n(h):h}let l=n;o!==t&&(a?l=function(h,d){return n.call(this,_n(h),d,t)}:n.length>2&&(l=function(h,d){return n.call(this,h,d,t)}));const u=c.call(o,l,s);return a&&r?r(u):u}function sy(t,e,n,s){const r=ju(t);let i=n;return r!==t&&(ys(t)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,t)}):i=function(o,a,c){return n.call(this,o,_n(a),c,t)}),r[e](i,...s)}function kf(t,e,n){const s=Ye(t);wn(s,"iterate",mc);const r=s[e](...n);return(r===-1||r===!1)&&bc(n[0])?(n[0]=Ye(n[0]),s[e](...n)):r}function yc(t,e,n=[]){Sr(),vf();const s=Ye(t)[e].apply(t,n);return wf(),Tr(),s}const d1=cf("__proto__,__v_isRef,__isVue"),ry=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ns));function h1(t){Ns(t)||(t=String(t));const e=Ye(this);return wn(e,"has",t),e.hasOwnProperty(t)}class iy{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?dy:uy:i?ly:cy).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=De(e);if(!r){let c;if(o&&(c=l1[n]))return c;if(n==="hasOwnProperty")return h1}const a=Reflect.get(e,n,ht(e)?e:s);return(Ns(n)?ry.has(n):d1(n))||(r||wn(e,"get",n),i)?a:ht(a)?o&&df(n)?a:a.value:St(a)?r?Uu(a):Vu(a):a}}class oy extends iy{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const c=eo(i);if(!ys(s)&&!eo(s)&&(i=Ye(i),s=Ye(s)),!De(e)&&ht(i)&&!ht(s))return c?!1:(i.value=s,!0)}const o=De(e)&&df(n)?Number(n)<e.length:pt(e,n),a=Reflect.set(e,n,s,ht(e)?e:r);return e===Ye(r)&&(o?ii(s,i)&&kr(e,"set",n,s):kr(e,"add",n,s)),a}deleteProperty(e,n){const s=pt(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&kr(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Ns(n)||!ry.has(n))&&wn(e,"has",n),s}ownKeys(e){return wn(e,"iterate",De(e)?"length":Ji),Reflect.ownKeys(e)}}class ay extends iy{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const f1=new oy,p1=new ay,g1=new oy(!0),m1=new ay(!0),Ef=t=>t,$u=t=>Reflect.getPrototypeOf(t);function y1(t,e,n){return function(...s){const r=this.__v_raw,i=Ye(r),o=ra(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),u=n?Ef:e?Df:_n;return!e&&wn(i,"iterate",c?Sf:Ji),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Hu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function b1(t,e){const n={get(r){const i=this.__v_raw,o=Ye(i),a=Ye(r);t||(ii(r,a)&&wn(o,"get",r),wn(o,"get",a));const{has:c}=$u(o),l=e?Ef:t?Df:_n;if(c.call(o,r))return l(i.get(r));if(c.call(o,a))return l(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&wn(Ye(r),"iterate",Ji),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Ye(i),a=Ye(r);return t||(ii(r,a)&&wn(o,"has",r),wn(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,c=Ye(a),l=e?Ef:t?Df:_n;return!t&&wn(c,"iterate",Ji),a.forEach((u,h)=>r.call(i,l(u),l(h),o))}};return ln(n,t?{add:Hu("add"),set:Hu("set"),delete:Hu("delete"),clear:Hu("clear")}:{add(r){!e&&!ys(r)&&!eo(r)&&(r=Ye(r));const i=Ye(this);return $u(i).has.call(i,r)||(i.add(r),kr(i,"add",r,r)),this},set(r,i){!e&&!ys(i)&&!eo(i)&&(i=Ye(i));const o=Ye(this),{has:a,get:c}=$u(o);let l=a.call(o,r);l||(r=Ye(r),l=a.call(o,r));const u=c.call(o,r);return o.set(r,i),l?ii(i,u)&&kr(o,"set",r,i):kr(o,"add",r,i),this},delete(r){const i=Ye(this),{has:o,get:a}=$u(i);let c=o.call(i,r);c||(r=Ye(r),c=o.call(i,r)),a&&a.call(i,r);const l=i.delete(r);return c&&kr(i,"delete",r,void 0),l},clear(){const r=Ye(this),i=r.size!==0,o=r.clear();return i&&kr(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=y1(r,t,e)}),n}function Wu(t,e){const n=b1(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(pt(n,r)&&r in s?n:s,r,i)}const v1={get:Wu(!1,!1)},w1={get:Wu(!1,!0)},_1={get:Wu(!0,!1)},x1={get:Wu(!0,!0)},cy=new WeakMap,ly=new WeakMap,uy=new WeakMap,dy=new WeakMap;function A1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function S1(t){return t.__v_skip||!Object.isExtensible(t)?0:A1(ZA(t))}function Vu(t){return eo(t)?t:zu(t,!1,f1,v1,cy)}function hy(t){return zu(t,!1,g1,w1,ly)}function Uu(t){return zu(t,!0,p1,_1,uy)}function BH(t){return zu(t,!0,m1,x1,dy)}function zu(t,e,n,s,r){if(!St(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=S1(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Mr(t){return eo(t)?Mr(t.__v_raw):!!(t&&t.__v_isReactive)}function eo(t){return!!(t&&t.__v_isReadonly)}function ys(t){return!!(t&&t.__v_isShallow)}function bc(t){return t?!!t.__v_raw:!1}function Ye(t){const e=t&&t.__v_raw;return e?Ye(e):t}function Mf(t){return!pt(t,"__v_skip")&&Object.isExtensible(t)&&$m(t,"__v_skip",!0),t}const _n=t=>St(t)?Vu(t):t,Df=t=>St(t)?Uu(t):t;function ht(t){return t?t.__v_isRef===!0:!1}function Tt(t){return fy(t,!1)}function aa(t){return fy(t,!0)}function fy(t,e){return ht(t)?t:new T1(t,e)}class T1{constructor(e,n){this.dep=new Af,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ye(e),this._value=n?e:_n(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ys(e)||eo(e);e=s?e:Ye(e),ii(e,n)&&(this._rawValue=e,this._value=s?e:_n(e),this.dep.trigger())}}function me(t){return ht(t)?t.value:t}const k1={get:(t,e,n)=>e==="__v_raw"?t:me(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return ht(r)&&!ht(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function py(t){return Mr(t)?t:new Proxy(t,k1)}function gy(t){const e=De(t)?new Array(t.length):{};for(const n in t)e[n]=yy(t,n);return e}class E1{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return c1(Ye(this._object),this._key)}}class M1{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function my(t,e,n){return ht(t)?t:$e(t)?new M1(t):St(t)&&arguments.length>1?yy(t,e,n):Tt(t)}function yy(t,e,n){const s=t[e];return ht(s)?s:new E1(t,e,n)}class D1{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Af(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&It!==this)return Zm(this,!0),!0}get value(){const e=this.dep.track();return Jm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function C1(t,e,n=!1){let s,r;return $e(t)?s=t:(s=t.get,r=t.set),new D1(s,r,n)}const qu={},Yu=new WeakMap;let to;function O1(t,e=!1,n=to){if(n){let s=Yu.get(n);s||Yu.set(n,s=[]),s.push(t)}}function P1(t,e,n=Dt){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:c}=n,l=b=>r?b:ys(b)||r===!1||r===0?Dr(b,1):Dr(b);let u,h,d,p,g=!1,f=!1;if(ht(t)?(h=()=>t.value,g=ys(t)):Mr(t)?(h=()=>l(t),g=!0):De(t)?(f=!0,g=t.some(b=>Mr(b)||ys(b)),h=()=>t.map(b=>{if(ht(b))return b.value;if(Mr(b))return l(b);if($e(b))return c?c(b,2):b()})):$e(t)?e?h=c?()=>c(t,2):t:h=()=>{if(d){Sr();try{d()}finally{Tr()}}const b=to;to=u;try{return c?c(t,3,[p]):t(p)}finally{to=b}}:h=sr,e&&r){const b=h,T=r===!0?1/0:r;h=()=>Dr(b(),T)}const m=mf(),y=()=>{u.stop(),m&&m.active&&uf(m.effects,u)};if(i&&e){const b=e;e=(...T)=>{b(...T),y()}}let w=f?new Array(t.length).fill(qu):qu;const v=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(e){const T=u.run();if(r||g||(f?T.some((_,S)=>ii(_,w[S])):ii(T,w))){d&&d();const _=to;to=u;try{const S=[T,w===qu?void 0:f&&w[0]===qu?[]:w,p];c?c(e,3,S):e(...S),w=T}finally{to=_}}}else u.run()};return a&&a(v),u=new Gm(h),u.scheduler=o?()=>o(v,!1):v,p=b=>O1(b,!1,u),d=u.onStop=()=>{const b=Yu.get(u);if(b){if(c)c(b,4);else for(const T of b)T();Yu.delete(u)}},e?s?v(!0):w=u.run():o?o(v.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function Dr(t,e=1/0,n){if(e<=0||!St(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ht(t))Dr(t.value,e,n);else if(De(t))for(let s=0;s<t.length;s++)Dr(t[s],e,n);else if(ia(t)||ra(t))t.forEach(s=>{Dr(s,e,n)});else if(Bm(t)){for(const s in t)Dr(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Dr(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const vc=[];let Cf=!1;function jH(t,...e){if(Cf)return;Cf=!0,Sr();const n=vc.length?vc[vc.length-1].component:null,s=n&&n.appContext.config.warnHandler,r=I1();if(s)ca(s,n,11,[t+e.map(i=>{var o,a;return(a=(o=i.toString)==null?void 0:o.call(i))!=null?a:JSON.stringify(i)}).join(""),n&&n.proxy,r.map(({vnode:i})=>`at <${mb(n,i.type)}>`).join(`
`),r]);else{const i=[`[Vue warn]: ${t}`,...e];r.length&&i.push(`
`,...R1(r)),console.warn(...i)}Tr(),Cf=!1}function I1(){let t=vc[vc.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const s=t.component&&t.component.parent;t=s&&s.vnode}return e}function R1(t){const e=[];return t.forEach((n,s)=>{e.push(...s===0?[]:[`
`],...L1(n))}),e}function L1({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",s=t.component?t.component.parent==null:!1,r=` at <${mb(t.component,t.type,s)}`,i=">"+n;return t.props?[r,...N1(t.props),i]:[r+i]}function N1(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(s=>{e.push(...by(s,t[s]))}),n.length>3&&e.push(" ..."),e}function by(t,e,n){return qt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:ht(e)?(e=by(t,Ye(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):$e(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ye(e),n?e:[`${t}=`,e])}function ca(t,e,n,s){try{return s?t(...s):t()}catch(r){Gu(r,e,n)}}function Bs(t,e,n,s){if($e(t)){const r=ca(t,e,n,s);return r&&Nm(r)&&r.catch(i=>{Gu(i,e,n)}),r}if(De(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Bs(t[i],e,n,s));return r}}function Gu(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Dt;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,c,l)===!1)return}a=a.parent}if(i){Sr(),ca(i,null,10,[t,c,l]),Tr();return}}F1(t,n,r,s,o)}function F1(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const In=[];let rr=-1;const la=[];let ai=null,ua=0;const vy=Promise.resolve();let Ku=null;function no(t){const e=Ku||vy;return t?e.then(this?t.bind(this):t):e}function B1(t){let e=rr+1,n=In.length;for(;e<n;){const s=e+n>>>1,r=In[s],i=wc(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Of(t){if(!(t.flags&1)){const e=wc(t),n=In[In.length-1];!n||!(t.flags&2)&&e>=wc(n)?In.push(t):In.splice(B1(e),0,t),t.flags|=1,wy()}}function wy(){Ku||(Ku=vy.then(Ay))}function j1(t){De(t)?la.push(...t):ai&&t.id===-1?ai.splice(ua+1,0,t):t.flags&1||(la.push(t),t.flags|=1),wy()}function _y(t,e,n=rr+1){for(;n<In.length;n++){const s=In[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;In.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function xy(t){if(la.length){const e=[...new Set(la)].sort((n,s)=>wc(n)-wc(s));if(la.length=0,ai){ai.push(...e);return}for(ai=e,ua=0;ua<ai.length;ua++){const n=ai[ua];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ai=null,ua=0}}const wc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ay(t){try{for(rr=0;rr<In.length;rr++){const e=In[rr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ca(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;rr<In.length;rr++){const e=In[rr];e&&(e.flags&=-2)}rr=-1,In.length=0,xy(),Ku=null,(In.length||la.length)&&Ay()}}let un=null,Sy=null;function Zu(t){const e=un;return un=t,Sy=t&&t.type.__scopeId||null,e}function Pf(t,e=un,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&cb(-1);const i=Zu(e);let o;try{o=t(...r)}finally{Zu(i),s._d&&cb(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function If(t,e){if(un===null)return t;const n=od(un),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,c=Dt]=e[r];i&&($e(i)&&(i={mounted:i,updated:i}),i.deep&&Dr(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function so(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(Sr(),Bs(c,n,8,[t.el,a,t,e]),Tr())}}const $1=Symbol("_vte"),Ty=t=>t.__isTeleport,ci=Symbol("_leaveCb"),Qu=Symbol("_enterCb");function H1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ha(()=>{t.isMounted=!0}),Ry(()=>{t.isUnmounting=!0}),t}const bs=[Function,Array],ky={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bs,onEnter:bs,onAfterEnter:bs,onEnterCancelled:bs,onBeforeLeave:bs,onLeave:bs,onAfterLeave:bs,onLeaveCancelled:bs,onBeforeAppear:bs,onAppear:bs,onAfterAppear:bs,onAppearCancelled:bs},Ey=t=>{const e=t.subTree;return e.component?Ey(e.component):e},W1={name:"BaseTransition",props:ky,setup(t,{slots:e}){const n=db(),s=H1();return()=>{const r=e.default&&Oy(e.default(),!0);if(!r||!r.length)return;const i=My(r),o=Ye(t),{mode:a}=o;if(s.isLeaving)return Lf(i);const c=Cy(i);if(!c)return Lf(i);let l=Rf(c,o,s,n,h=>l=h);c.type!==Nn&&_c(c,l);let u=n.subTree&&Cy(n.subTree);if(u&&u.type!==Nn&&!ao(c,u)&&Ey(n).type!==Nn){let h=Rf(u,o,s,n);if(_c(u,h),a==="out-in"&&c.type!==Nn)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,u=void 0},Lf(i);a==="in-out"&&c.type!==Nn?h.delayLeave=(d,p,g)=>{const f=Dy(s,u);f[String(u.key)]=u,d[ci]=()=>{p(),d[ci]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{g(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function My(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Nn){e=n;break}}return e}const V1=W1;function Dy(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Rf(t,e,n,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:f,onBeforeAppear:m,onAppear:y,onAfterAppear:w,onAppearCancelled:v}=e,b=String(t.key),T=Dy(n,t),_=(E,D)=>{E&&Bs(E,s,9,D)},S=(E,D)=>{const R=D[1];_(E,D),De(E)?E.every(N=>N.length<=1)&&R():E.length<=1&&R()},x={mode:o,persisted:a,beforeEnter(E){let D=c;if(!n.isMounted)if(i)D=m||c;else return;E[ci]&&E[ci](!0);const R=T[b];R&&ao(t,R)&&R.el[ci]&&R.el[ci](),_(D,[E])},enter(E){let D=l,R=u,N=h;if(!n.isMounted)if(i)D=y||l,R=w||u,N=v||h;else return;let $=!1;const X=E[Qu]=W=>{$||($=!0,W?_(N,[E]):_(R,[E]),x.delayedLeave&&x.delayedLeave(),E[Qu]=void 0)};D?S(D,[E,X]):X()},leave(E,D){const R=String(t.key);if(E[Qu]&&E[Qu](!0),n.isUnmounting)return D();_(d,[E]);let N=!1;const $=E[ci]=X=>{N||(N=!0,D(),X?_(f,[E]):_(g,[E]),E[ci]=void 0,T[R]===t&&delete T[R])};T[R]=t,p?S(p,[E,$]):$()},clone(E){const D=Rf(E,e,n,s,r);return r&&r(D),D}};return x}function Lf(t){if(Ju(t))return t=li(t),t.children=null,t}function Cy(t){if(!Ju(t))return Ty(t.type)&&t.children?My(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&$e(n.default))return n.default()}}function _c(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_c(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Oy(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ln?(o.patchFlag&128&&r++,s=s.concat(Oy(o.children,e,a))):(e||o.type!==Nn)&&s.push(a!=null?li(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function vs(t,e){return $e(t)?ln({name:t.name},e,{setup:t}):t}function Py(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Xu(t,e,n,s,r=!1){if(De(t)){t.forEach((g,f)=>Xu(g,e&&(De(e)?e[f]:e),n,s,r));return}if(da(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Xu(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?od(s.component):s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Dt?a.refs={}:a.refs,h=a.setupState,d=Ye(h),p=h===Dt?()=>!1:g=>pt(d,g);if(l!=null&&l!==c&&(qt(l)?(u[l]=null,p(l)&&(h[l]=null)):ht(l)&&(l.value=null)),$e(c))ca(c,a,12,[o,u]);else{const g=qt(c),f=ht(c);if(g||f){const m=()=>{if(t.f){const y=g?p(c)?h[c]:u[c]:c.value;r?De(y)&&uf(y,i):De(y)?y.includes(i)||y.push(i):g?(u[c]=[i],p(c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else g?(u[c]=o,p(c)&&(h[c]=o)):f&&(c.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,rs(m,n)):m()}}}Fu().requestIdleCallback,Fu().cancelIdleCallback;const da=t=>!!t.type.__asyncLoader,Ju=t=>t.type.__isKeepAlive;function U1(t,e){Iy(t,"a",e)}function z1(t,e){Iy(t,"da",e)}function Iy(t,e,n=mn){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ed(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Ju(r.parent.vnode)&&q1(s,e,n,r),r=r.parent}}function q1(t,e,n,s){const r=ed(e,t,s,!0);xc(()=>{uf(s[e],r)},n)}function ed(t,e,n=mn,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Sr();const a=Dc(n),c=Bs(e,n,t,o);return a(),Tr(),c});return s?r.unshift(i):r.push(i),i}}const Cr=t=>(e,n=mn)=>{(!Cc||t==="sp")&&ed(t,(...s)=>e(...s),n)},Y1=Cr("bm"),ha=Cr("m"),G1=Cr("bu"),K1=Cr("u"),Ry=Cr("bum"),xc=Cr("um"),Z1=Cr("sp"),Q1=Cr("rtg"),X1=Cr("rtc");function J1(t,e=mn){ed("ec",t,e)}const eS=Symbol.for("v-ndc");function tS(t,e,n,s){let r;const i=n,o=De(t);if(o||qt(t)){const a=o&&Mr(t);let c=!1;a&&(c=!ys(t),t=ju(t)),r=new Array(t.length);for(let l=0,u=t.length;l<u;l++)r[l]=e(c?_n(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(St(t))if(t[Symbol.iterator])r=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];r[c]=e(t[u],u,c,i)}}else r=[];return r}function nS(t,e,n={},s,r){if(un.ce||un.parent&&da(un.parent)&&un.parent.ce)return rt(),js(Ln,null,[jt("slot",n,s)],64);let i=t[e];i&&i._c&&(i._d=!1),rt();const o=i&&Ly(i(n)),a=n.key||o&&o.key,c=js(Ln,{key:(a&&!Ns(a)?a:`_${e}`)+""},o||[],o&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function Ly(t){return t.some(e=>Ec(e)?!(e.type===Nn||e.type===Ln&&!Ly(e.children)):!0)?t:null}const Nf=t=>t?fb(t)?od(t):Nf(t.parent):null,Ac=ln(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Nf(t.parent),$root:t=>Nf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>jy(t),$forceUpdate:t=>t.f||(t.f=()=>{Of(t.update)}),$nextTick:t=>t.n||(t.n=no.bind(t.proxy)),$watch:t=>TS.bind(t)}),Ff=(t,e)=>t!==Dt&&!t.__isScriptSetup&&pt(t,e),sS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Ff(s,e))return o[e]=1,s[e];if(r!==Dt&&pt(r,e))return o[e]=2,r[e];if((l=t.propsOptions[0])&&pt(l,e))return o[e]=3,i[e];if(n!==Dt&&pt(n,e))return o[e]=4,n[e];Bf&&(o[e]=0)}}const u=Ac[e];let h,d;if(u)return e==="$attrs"&&wn(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Dt&&pt(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,pt(d,e))return d[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Ff(r,e)?(r[e]=n,!0):s!==Dt&&pt(s,e)?(s[e]=n,!0):pt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Dt&&pt(t,o)||Ff(e,o)||(a=i[0])&&pt(a,o)||pt(s,o)||pt(Ac,o)||pt(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:pt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ny(t){return De(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Bf=!0;function rS(t){const e=jy(t),n=t.proxy,s=t.ctx;Bf=!1,e.beforeCreate&&Fy(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:p,updated:g,activated:f,deactivated:m,beforeDestroy:y,beforeUnmount:w,destroyed:v,unmounted:b,render:T,renderTracked:_,renderTriggered:S,errorCaptured:x,serverPrefetch:E,expose:D,inheritAttrs:R,components:N,directives:$,filters:X}=e;if(l&&iS(l,s,null),o)for(const H in o){const L=o[H];$e(L)&&(s[H]=L.bind(n))}if(r){const H=r.call(n,n);St(H)&&(t.data=Vu(H))}if(Bf=!0,i)for(const H in i){const L=i[H],se=$e(L)?L.bind(n,n):$e(L.get)?L.get.bind(n,n):sr,ye=!$e(L)&&$e(L.set)?L.set.bind(n):sr,Le=Re({get:se,set:ye});Object.defineProperty(s,H,{enumerable:!0,configurable:!0,get:()=>Le.value,set:Be=>Le.value=Be})}if(a)for(const H in a)By(a[H],s,n,H);if(c){const H=$e(c)?c.call(n):c;Reflect.ownKeys(H).forEach(L=>{dS(L,H[L])})}u&&Fy(u,t,"c");function q(H,L){De(L)?L.forEach(se=>H(se.bind(n))):L&&H(L.bind(n))}if(q(Y1,h),q(ha,d),q(G1,p),q(K1,g),q(U1,f),q(z1,m),q(J1,x),q(X1,_),q(Q1,S),q(Ry,w),q(xc,b),q(Z1,E),De(D))if(D.length){const H=t.exposed||(t.exposed={});D.forEach(L=>{Object.defineProperty(H,L,{get:()=>n[L],set:se=>n[L]=se})})}else t.exposed||(t.exposed={});T&&t.render===sr&&(t.render=T),R!=null&&(t.inheritAttrs=R),N&&(t.components=N),$&&(t.directives=$),E&&Py(t)}function iS(t,e,n=sr){De(t)&&(t=jf(t));for(const s in t){const r=t[s];let i;St(r)?"default"in r?i=io(r.from||s,r.default,!0):i=io(r.from||s):i=io(r),ht(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Fy(t,e,n){Bs(De(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function By(t,e,n,s){let r=s.includes(".")?sb(n,s):()=>n[s];if(qt(t)){const i=e[t];$e(i)&&tn(r,i)}else if($e(t))tn(r,t.bind(n));else if(St(t))if(De(t))t.forEach(i=>By(i,e,n,s));else{const i=$e(t.handler)?t.handler.bind(n):e[t.handler];$e(i)&&tn(r,i,t)}}function jy(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>td(c,l,o,!0)),td(c,e,o)),St(e)&&i.set(e,c),c}function td(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&td(t,i,n,!0),r&&r.forEach(o=>td(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=oS[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const oS={data:$y,props:Hy,emits:Hy,methods:Sc,computed:Sc,beforeCreate:Rn,created:Rn,beforeMount:Rn,mounted:Rn,beforeUpdate:Rn,updated:Rn,beforeDestroy:Rn,beforeUnmount:Rn,destroyed:Rn,unmounted:Rn,activated:Rn,deactivated:Rn,errorCaptured:Rn,serverPrefetch:Rn,components:Sc,directives:Sc,watch:cS,provide:$y,inject:aS};function $y(t,e){return e?t?function(){return ln($e(t)?t.call(this,this):t,$e(e)?e.call(this,this):e)}:e:t}function aS(t,e){return Sc(jf(t),jf(e))}function jf(t){if(De(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rn(t,e){return t?[...new Set([].concat(t,e))]:e}function Sc(t,e){return t?ln(Object.create(null),t,e):e}function Hy(t,e){return t?De(t)&&De(e)?[...new Set([...t,...e])]:ln(Object.create(null),Ny(t),Ny(e??{})):e}function cS(t,e){if(!t)return e;if(!e)return t;const n=ln(Object.create(null),t);for(const s in e)n[s]=Rn(t[s],e[s]);return n}function Wy(){return{app:null,config:{isNativeTag:GA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lS=0;function uS(t,e){return function(s,r=null){$e(s)||(s=ln({},s)),r!=null&&!St(r)&&(r=null);const i=Wy(),o=new WeakSet,a=[];let c=!1;const l=i.app={_uid:lS++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:yb,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&$e(u.install)?(o.add(u),u.install(l,...h)):$e(u)&&(o.add(u),u(l,...h))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,h){return h?(i.components[u]=h,l):i.components[u]},directive(u,h){return h?(i.directives[u]=h,l):i.directives[u]},mount(u,h,d){if(!c){const p=l._ceVNode||jt(s,r);return p.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(p,u,d),c=!0,l._container=u,u.__vue_app__=l,od(p.component)}},onUnmount(u){a.push(u)},unmount(){c&&(Bs(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,h){return i.provides[u]=h,l},runWithContext(u){const h=ro;ro=l;try{return u()}finally{ro=h}}};return l}}let ro=null;function dS(t,e){if(mn){let n=mn.provides;const s=mn.parent&&mn.parent.provides;s===n&&(n=mn.provides=Object.create(s)),n[t]=e}}function io(t,e,n=!1){const s=mn||un;if(s||ro){const r=ro?ro._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&$e(e)?e.call(s&&s.proxy):e}}function Vy(){return!!(mn||un||ro)}const Uy={},zy=()=>Object.create(Uy),qy=t=>Object.getPrototypeOf(t)===Uy;function hS(t,e,n,s=!1){const r={},i=zy();t.propsDefaults=Object.create(null),Yy(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:hy(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function fS(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Ye(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(nd(t.emitsOptions,d))continue;const p=e[d];if(c)if(pt(i,d))p!==i[d]&&(i[d]=p,l=!0);else{const g=ri(d);r[g]=$f(c,a,g,p,t,!1)}else p!==i[d]&&(i[d]=p,l=!0)}}}else{Yy(t,e,r,i)&&(l=!0);let u;for(const h in a)(!e||!pt(e,h)&&((u=Xi(h))===h||!pt(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=$f(c,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!pt(e,h))&&(delete i[h],l=!0)}l&&kr(t.attrs,"set","")}function Yy(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(dc(c))continue;const l=e[c];let u;r&&pt(r,u=ri(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:nd(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=Ye(n),l=a||Dt;for(let u=0;u<i.length;u++){const h=i[u];n[h]=$f(r,c,h,l[h],t,!pt(l,h))}}return o}function $f(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=pt(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&$e(c)){const{propsDefaults:l}=r;if(n in l)s=l[n];else{const u=Dc(r);s=l[n]=c.call(null,e),u()}}else s=c;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Xi(n))&&(s=!0))}return s}const pS=new WeakMap;function Gy(t,e,n=!1){const s=n?pS:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!$e(t)){const u=h=>{c=!0;const[d,p]=Gy(h,e,!0);ln(o,d),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return St(t)&&s.set(t,sa),sa;if(De(i))for(let u=0;u<i.length;u++){const h=ri(i[u]);Ky(h)&&(o[h]=Dt)}else if(i)for(const u in i){const h=ri(u);if(Ky(h)){const d=i[u],p=o[h]=De(d)||$e(d)?{type:d}:ln({},d),g=p.type;let f=!1,m=!0;if(De(g))for(let y=0;y<g.length;++y){const w=g[y],v=$e(w)&&w.name;if(v==="Boolean"){f=!0;break}else v==="String"&&(m=!1)}else f=$e(g)&&g.name==="Boolean";p[0]=f,p[1]=m,(f||pt(p,"default"))&&a.push(h)}}const l=[o,a];return St(t)&&s.set(t,l),l}function Ky(t){return t[0]!=="$"&&!dc(t)}const Zy=t=>t[0]==="_"||t==="$stable",Hf=t=>De(t)?t.map(ir):[ir(t)],gS=(t,e,n)=>{if(e._n)return e;const s=Pf((...r)=>Hf(e(...r)),n);return s._c=!1,s},Qy=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Zy(r))continue;const i=t[r];if($e(i))e[r]=gS(r,i,s);else if(i!=null){const o=Hf(i);e[r]=()=>o}}},Xy=(t,e)=>{const n=Hf(e);t.slots.default=()=>n},Jy=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},mS=(t,e,n)=>{const s=t.slots=zy();if(t.vnode.shapeFlag&32){const r=e._;r?(Jy(s,e,n),n&&$m(s,"_",r,!0)):Qy(e,s)}else e&&Xy(t,e)},yS=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Dt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Jy(r,e,n):(i=!e.$stable,Qy(e,r)),o=e}else e&&(Xy(t,e),o={default:1});if(i)for(const a in r)!Zy(a)&&o[a]==null&&delete r[a]},rs=PS;function bS(t){return vS(t)}function vS(t,e){const n=Fu();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:p=sr,insertStaticContent:g}=t,f=(I,F,U,K=null,G=null,Z=null,ce=void 0,ie=null,ae=!!F.dynamicChildren)=>{if(I===F)return;I&&!ao(I,F)&&(K=ge(I),Be(I,G,Z,!0),I=null),F.patchFlag===-2&&(ae=!1,F.dynamicChildren=null);const{type:J,ref:ke,shapeFlag:oe}=F;switch(J){case sd:m(I,F,U,K);break;case Nn:y(I,F,U,K);break;case Uf:I==null&&w(F,U,K,ce);break;case Ln:N(I,F,U,K,G,Z,ce,ie,ae);break;default:oe&1?T(I,F,U,K,G,Z,ce,ie,ae):oe&6?$(I,F,U,K,G,Z,ce,ie,ae):(oe&64||oe&128)&&J.process(I,F,U,K,G,Z,ce,ie,ae,ot)}ke!=null&&G&&Xu(ke,I&&I.ref,Z,F||I,!F)},m=(I,F,U,K)=>{if(I==null)s(F.el=a(F.children),U,K);else{const G=F.el=I.el;F.children!==I.children&&l(G,F.children)}},y=(I,F,U,K)=>{I==null?s(F.el=c(F.children||""),U,K):F.el=I.el},w=(I,F,U,K)=>{[I.el,I.anchor]=g(I.children,F,U,K,I.el,I.anchor)},v=({el:I,anchor:F},U,K)=>{let G;for(;I&&I!==F;)G=d(I),s(I,U,K),I=G;s(F,U,K)},b=({el:I,anchor:F})=>{let U;for(;I&&I!==F;)U=d(I),r(I),I=U;r(F)},T=(I,F,U,K,G,Z,ce,ie,ae)=>{F.type==="svg"?ce="svg":F.type==="math"&&(ce="mathml"),I==null?_(F,U,K,G,Z,ce,ie,ae):E(I,F,G,Z,ce,ie,ae)},_=(I,F,U,K,G,Z,ce,ie)=>{let ae,J;const{props:ke,shapeFlag:oe,transition:xe,dirs:Me}=I;if(ae=I.el=o(I.type,Z,ke&&ke.is,ke),oe&8?u(ae,I.children):oe&16&&x(I.children,ae,null,K,G,Wf(I,Z),ce,ie),Me&&so(I,null,K,"created"),S(ae,I,I.scopeId,ce,K),ke){for(const ve in ke)ve!=="value"&&!dc(ve)&&i(ae,ve,null,ke[ve],Z,K);"value"in ke&&i(ae,"value",null,ke.value,Z),(J=ke.onVnodeBeforeMount)&&or(J,K,I)}Me&&so(I,null,K,"beforeMount");const he=wS(G,xe);he&&xe.beforeEnter(ae),s(ae,F,U),((J=ke&&ke.onVnodeMounted)||he||Me)&&rs(()=>{J&&or(J,K,I),he&&xe.enter(ae),Me&&so(I,null,K,"mounted")},G)},S=(I,F,U,K,G)=>{if(U&&p(I,U),K)for(let Z=0;Z<K.length;Z++)p(I,K[Z]);if(G){let Z=G.subTree;if(F===Z||ab(Z.type)&&(Z.ssContent===F||Z.ssFallback===F)){const ce=G.vnode;S(I,ce,ce.scopeId,ce.slotScopeIds,G.parent)}}},x=(I,F,U,K,G,Z,ce,ie,ae=0)=>{for(let J=ae;J<I.length;J++){const ke=I[J]=ie?ui(I[J]):ir(I[J]);f(null,ke,F,U,K,G,Z,ce,ie)}},E=(I,F,U,K,G,Z,ce)=>{const ie=F.el=I.el;let{patchFlag:ae,dynamicChildren:J,dirs:ke}=F;ae|=I.patchFlag&16;const oe=I.props||Dt,xe=F.props||Dt;let Me;if(U&&oo(U,!1),(Me=xe.onVnodeBeforeUpdate)&&or(Me,U,F,I),ke&&so(F,I,U,"beforeUpdate"),U&&oo(U,!0),(oe.innerHTML&&xe.innerHTML==null||oe.textContent&&xe.textContent==null)&&u(ie,""),J?D(I.dynamicChildren,J,ie,U,K,Wf(F,G),Z):ce||L(I,F,ie,null,U,K,Wf(F,G),Z,!1),ae>0){if(ae&16)R(ie,oe,xe,U,G);else if(ae&2&&oe.class!==xe.class&&i(ie,"class",null,xe.class,G),ae&4&&i(ie,"style",oe.style,xe.style,G),ae&8){const he=F.dynamicProps;for(let ve=0;ve<he.length;ve++){const ue=he[ve],Ne=oe[ue],Ge=xe[ue];(Ge!==Ne||ue==="value")&&i(ie,ue,Ne,Ge,G,U)}}ae&1&&I.children!==F.children&&u(ie,F.children)}else!ce&&J==null&&R(ie,oe,xe,U,G);((Me=xe.onVnodeUpdated)||ke)&&rs(()=>{Me&&or(Me,U,F,I),ke&&so(F,I,U,"updated")},K)},D=(I,F,U,K,G,Z,ce)=>{for(let ie=0;ie<F.length;ie++){const ae=I[ie],J=F[ie],ke=ae.el&&(ae.type===Ln||!ao(ae,J)||ae.shapeFlag&70)?h(ae.el):U;f(ae,J,ke,null,K,G,Z,ce,!0)}},R=(I,F,U,K,G)=>{if(F!==U){if(F!==Dt)for(const Z in F)!dc(Z)&&!(Z in U)&&i(I,Z,F[Z],null,G,K);for(const Z in U){if(dc(Z))continue;const ce=U[Z],ie=F[Z];ce!==ie&&Z!=="value"&&i(I,Z,ie,ce,G,K)}"value"in U&&i(I,"value",F.value,U.value,G)}},N=(I,F,U,K,G,Z,ce,ie,ae)=>{const J=F.el=I?I.el:a(""),ke=F.anchor=I?I.anchor:a("");let{patchFlag:oe,dynamicChildren:xe,slotScopeIds:Me}=F;Me&&(ie=ie?ie.concat(Me):Me),I==null?(s(J,U,K),s(ke,U,K),x(F.children||[],U,ke,G,Z,ce,ie,ae)):oe>0&&oe&64&&xe&&I.dynamicChildren?(D(I.dynamicChildren,xe,U,G,Z,ce,ie),(F.key!=null||G&&F===G.subTree)&&eb(I,F,!0)):L(I,F,U,ke,G,Z,ce,ie,ae)},$=(I,F,U,K,G,Z,ce,ie,ae)=>{F.slotScopeIds=ie,I==null?F.shapeFlag&512?G.ctx.activate(F,U,K,ce,ae):X(F,U,K,G,Z,ce,ae):W(I,F,ae)},X=(I,F,U,K,G,Z,ce)=>{const ie=I.component=jS(I,K,G);if(Ju(I)&&(ie.ctx.renderer=ot),$S(ie,!1,ce),ie.asyncDep){if(G&&G.registerDep(ie,q,ce),!I.el){const ae=ie.subTree=jt(Nn);y(null,ae,F,U)}}else q(ie,I,F,U,G,Z,ce)},W=(I,F,U)=>{const K=F.component=I.component;if(CS(I,F,U))if(K.asyncDep&&!K.asyncResolved){H(K,F,U);return}else K.next=F,K.update();else F.el=I.el,K.vnode=F},q=(I,F,U,K,G,Z,ce)=>{const ie=()=>{if(I.isMounted){let{next:oe,bu:xe,u:Me,parent:he,vnode:ve}=I;{const Pe=tb(I);if(Pe){oe&&(oe.el=ve.el,H(I,oe,ce)),Pe.asyncDep.then(()=>{I.isUnmounted||ie()});return}}let ue=oe,Ne;oo(I,!1),oe?(oe.el=ve.el,H(I,oe,ce)):oe=ve,xe&&Nu(xe),(Ne=oe.props&&oe.props.onVnodeBeforeUpdate)&&or(Ne,he,oe,ve),oo(I,!0);const Ge=ib(I),wt=I.subTree;I.subTree=Ge,f(wt,Ge,h(wt.el),ge(wt),I,G,Z),oe.el=Ge.el,ue===null&&OS(I,Ge.el),Me&&rs(Me,G),(Ne=oe.props&&oe.props.onVnodeUpdated)&&rs(()=>or(Ne,he,oe,ve),G)}else{let oe;const{el:xe,props:Me}=F,{bm:he,m:ve,parent:ue,root:Ne,type:Ge}=I,wt=da(F);oo(I,!1),he&&Nu(he),!wt&&(oe=Me&&Me.onVnodeBeforeMount)&&or(oe,ue,F),oo(I,!0);{Ne.ce&&Ne.ce._injectChildStyle(Ge);const Pe=I.subTree=ib(I);f(null,Pe,U,K,I,G,Z),F.el=Pe.el}if(ve&&rs(ve,G),!wt&&(oe=Me&&Me.onVnodeMounted)){const Pe=F;rs(()=>or(oe,ue,Pe),G)}(F.shapeFlag&256||ue&&da(ue.vnode)&&ue.vnode.shapeFlag&256)&&I.a&&rs(I.a,G),I.isMounted=!0,F=U=K=null}};I.scope.on();const ae=I.effect=new Gm(ie);I.scope.off();const J=I.update=ae.run.bind(ae),ke=I.job=ae.runIfDirty.bind(ae);ke.i=I,ke.id=I.uid,ae.scheduler=()=>Of(ke),oo(I,!0),J()},H=(I,F,U)=>{F.component=I;const K=I.vnode.props;I.vnode=F,I.next=null,fS(I,F.props,K,U),yS(I,F.children,U),Sr(),_y(I),Tr()},L=(I,F,U,K,G,Z,ce,ie,ae=!1)=>{const J=I&&I.children,ke=I?I.shapeFlag:0,oe=F.children,{patchFlag:xe,shapeFlag:Me}=F;if(xe>0){if(xe&128){ye(J,oe,U,K,G,Z,ce,ie,ae);return}else if(xe&256){se(J,oe,U,K,G,Z,ce,ie,ae);return}}Me&8?(ke&16&&ft(J,G,Z),oe!==J&&u(U,oe)):ke&16?Me&16?ye(J,oe,U,K,G,Z,ce,ie,ae):ft(J,G,Z,!0):(ke&8&&u(U,""),Me&16&&x(oe,U,K,G,Z,ce,ie,ae))},se=(I,F,U,K,G,Z,ce,ie,ae)=>{I=I||sa,F=F||sa;const J=I.length,ke=F.length,oe=Math.min(J,ke);let xe;for(xe=0;xe<oe;xe++){const Me=F[xe]=ae?ui(F[xe]):ir(F[xe]);f(I[xe],Me,U,null,G,Z,ce,ie,ae)}J>ke?ft(I,G,Z,!0,!1,oe):x(F,U,K,G,Z,ce,ie,ae,oe)},ye=(I,F,U,K,G,Z,ce,ie,ae)=>{let J=0;const ke=F.length;let oe=I.length-1,xe=ke-1;for(;J<=oe&&J<=xe;){const Me=I[J],he=F[J]=ae?ui(F[J]):ir(F[J]);if(ao(Me,he))f(Me,he,U,null,G,Z,ce,ie,ae);else break;J++}for(;J<=oe&&J<=xe;){const Me=I[oe],he=F[xe]=ae?ui(F[xe]):ir(F[xe]);if(ao(Me,he))f(Me,he,U,null,G,Z,ce,ie,ae);else break;oe--,xe--}if(J>oe){if(J<=xe){const Me=xe+1,he=Me<ke?F[Me].el:K;for(;J<=xe;)f(null,F[J]=ae?ui(F[J]):ir(F[J]),U,he,G,Z,ce,ie,ae),J++}}else if(J>xe)for(;J<=oe;)Be(I[J],G,Z,!0),J++;else{const Me=J,he=J,ve=new Map;for(J=he;J<=xe;J++){const Ct=F[J]=ae?ui(F[J]):ir(F[J]);Ct.key!=null&&ve.set(Ct.key,J)}let ue,Ne=0;const Ge=xe-he+1;let wt=!1,Pe=0;const we=new Array(Ge);for(J=0;J<Ge;J++)we[J]=0;for(J=Me;J<=oe;J++){const Ct=I[J];if(Ne>=Ge){Be(Ct,G,Z,!0);continue}let _t;if(Ct.key!=null)_t=ve.get(Ct.key);else for(ue=he;ue<=xe;ue++)if(we[ue-he]===0&&ao(Ct,F[ue])){_t=ue;break}_t===void 0?Be(Ct,G,Z,!0):(we[_t-he]=J+1,_t>=Pe?Pe=_t:wt=!0,f(Ct,F[_t],U,null,G,Z,ce,ie,ae),Ne++)}const Nt=wt?_S(we):sa;for(ue=Nt.length-1,J=Ge-1;J>=0;J--){const Ct=he+J,_t=F[Ct],zn=Ct+1<ke?F[Ct+1].el:K;we[J]===0?f(null,_t,U,zn,G,Z,ce,ie,ae):wt&&(ue<0||J!==Nt[ue]?Le(_t,U,zn,2):ue--)}}},Le=(I,F,U,K,G=null)=>{const{el:Z,type:ce,transition:ie,children:ae,shapeFlag:J}=I;if(J&6){Le(I.component.subTree,F,U,K);return}if(J&128){I.suspense.move(F,U,K);return}if(J&64){ce.move(I,F,U,ot);return}if(ce===Ln){s(Z,F,U);for(let oe=0;oe<ae.length;oe++)Le(ae[oe],F,U,K);s(I.anchor,F,U);return}if(ce===Uf){v(I,F,U);return}if(K!==2&&J&1&&ie)if(K===0)ie.beforeEnter(Z),s(Z,F,U),rs(()=>ie.enter(Z),G);else{const{leave:oe,delayLeave:xe,afterLeave:Me}=ie,he=()=>s(Z,F,U),ve=()=>{oe(Z,()=>{he(),Me&&Me()})};xe?xe(Z,he,ve):ve()}else s(Z,F,U)},Be=(I,F,U,K=!1,G=!1)=>{const{type:Z,props:ce,ref:ie,children:ae,dynamicChildren:J,shapeFlag:ke,patchFlag:oe,dirs:xe,cacheIndex:Me}=I;if(oe===-2&&(G=!1),ie!=null&&Xu(ie,null,U,I,!0),Me!=null&&(F.renderCache[Me]=void 0),ke&256){F.ctx.deactivate(I);return}const he=ke&1&&xe,ve=!da(I);let ue;if(ve&&(ue=ce&&ce.onVnodeBeforeUnmount)&&or(ue,F,I),ke&6)Ce(I.component,U,K);else{if(ke&128){I.suspense.unmount(U,K);return}he&&so(I,null,F,"beforeUnmount"),ke&64?I.type.remove(I,F,U,ot,K):J&&!J.hasOnce&&(Z!==Ln||oe>0&&oe&64)?ft(J,F,U,!1,!0):(Z===Ln&&oe&384||!G&&ke&16)&&ft(ae,F,U),K&&st(I)}(ve&&(ue=ce&&ce.onVnodeUnmounted)||he)&&rs(()=>{ue&&or(ue,F,I),he&&so(I,null,F,"unmounted")},U)},st=I=>{const{type:F,el:U,anchor:K,transition:G}=I;if(F===Ln){dt(U,K);return}if(F===Uf){b(I);return}const Z=()=>{r(U),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(I.shapeFlag&1&&G&&!G.persisted){const{leave:ce,delayLeave:ie}=G,ae=()=>ce(U,Z);ie?ie(I.el,Z,ae):ae()}else Z()},dt=(I,F)=>{let U;for(;I!==F;)U=d(I),r(I),I=U;r(F)},Ce=(I,F,U)=>{const{bum:K,scope:G,job:Z,subTree:ce,um:ie,m:ae,a:J}=I;nb(ae),nb(J),K&&Nu(K),G.stop(),Z&&(Z.flags|=8,Be(ce,I,F,U)),ie&&rs(ie,F),rs(()=>{I.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},ft=(I,F,U,K=!1,G=!1,Z=0)=>{for(let ce=Z;ce<I.length;ce++)Be(I[ce],F,U,K,G)},ge=I=>{if(I.shapeFlag&6)return ge(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const F=d(I.anchor||I.el),U=F&&F[$1];return U?d(U):F};let Et=!1;const Zt=(I,F,U)=>{I==null?F._vnode&&Be(F._vnode,null,null,!0):f(F._vnode||null,I,F,null,null,null,U),F._vnode=I,Et||(Et=!0,_y(),xy(),Et=!1)},ot={p:f,um:Be,m:Le,r:st,mt:X,mc:x,pc:L,pbc:D,n:ge,o:t};return{render:Zt,hydrate:void 0,createApp:uS(Zt)}}function Wf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function oo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function wS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function eb(t,e,n=!1){const s=t.children,r=e.children;if(De(s)&&De(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ui(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&eb(o,a)),a.type===sd&&(a.el=o.el)}}function _S(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function tb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:tb(e)}function nb(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const xS=Symbol.for("v-scx"),AS=()=>io(xS);function SS(t,e){return Vf(t,null,e)}function tn(t,e,n){return Vf(t,e,n)}function Vf(t,e,n=Dt){const{immediate:s,deep:r,flush:i,once:o}=n,a=ln({},n),c=e&&s||!e&&i!=="post";let l;if(Cc){if(i==="sync"){const p=AS();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=sr,p.resume=sr,p.pause=sr,p}}const u=mn;a.call=(p,g,f)=>Bs(p,u,g,f);let h=!1;i==="post"?a.scheduler=p=>{rs(p,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():Of(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const d=P1(t,e,a);return Cc&&(l?l.push(d):c&&d()),d}function TS(t,e,n){const s=this.proxy,r=qt(t)?t.includes(".")?sb(s,t):()=>s[t]:t.bind(s,s);let i;$e(e)?i=e:(i=e.handler,n=e);const o=Dc(this),a=Vf(r,i.bind(s),n);return o(),a}function sb(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const kS=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ri(e)}Modifiers`]||t[`${Xi(e)}Modifiers`];function ES(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Dt;let r=n;const i=e.startsWith("update:"),o=i&&kS(s,e.slice(7));o&&(o.trim&&(r=n.map(u=>qt(u)?u.trim():u)),o.number&&(r=n.map(Hm)));let a,c=s[a=hf(e)]||s[a=hf(ri(e))];!c&&i&&(c=s[a=hf(Xi(e))]),c&&Bs(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Bs(l,t,6,r)}}function rb(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!$e(t)){const c=l=>{const u=rb(l,e,!0);u&&(a=!0,ln(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(St(t)&&s.set(t,null),null):(De(i)?i.forEach(c=>o[c]=null):ln(o,i),St(t)&&s.set(t,o),o)}function nd(t,e){return!t||!Ru(e)?!1:(e=e.slice(2).replace(/Once$/,""),pt(t,e[0].toLowerCase()+e.slice(1))||pt(t,Xi(e))||pt(t,e))}function $H(){}function ib(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:h,data:d,setupState:p,ctx:g,inheritAttrs:f}=t,m=Zu(t);let y,w;try{if(n.shapeFlag&4){const b=r||s,T=b;y=ir(l.call(T,b,u,h,p,d,g)),w=a}else{const b=e;y=ir(b.length>1?b(h,{attrs:a,slots:o,emit:c}):b(h,null)),w=e.props?a:MS(a)}}catch(b){Tc.length=0,Gu(b,t,1),y=jt(Nn)}let v=y;if(w&&f!==!1){const b=Object.keys(w),{shapeFlag:T}=v;b.length&&T&7&&(i&&b.some(lf)&&(w=DS(w,i)),v=li(v,w,!1,!0))}return n.dirs&&(v=li(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&_c(v,n.transition),y=v,Zu(m),y}const MS=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ru(n))&&((e||(e={}))[n]=t[n]);return e},DS=(t,e)=>{const n={};for(const s in t)(!lf(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function CS(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?ob(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!nd(l,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?ob(s,o,l):!0:!!o;return!1}function ob(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!nd(n,i))return!0}return!1}function OS({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const ab=t=>t.__isSuspense;function PS(t,e){e&&e.pendingBranch?De(t)?e.effects.push(...t):e.effects.push(t):j1(t)}const Ln=Symbol.for("v-fgt"),sd=Symbol.for("v-txt"),Nn=Symbol.for("v-cmt"),Uf=Symbol.for("v-stc"),Tc=[];let is=null;function rt(t=!1){Tc.push(is=t?null:[])}function IS(){Tc.pop(),is=Tc[Tc.length-1]||null}let kc=1;function cb(t,e=!1){kc+=t,t<0&&is&&e&&(is.hasOnce=!0)}function lb(t){return t.dynamicChildren=kc>0?is||sa:null,IS(),kc>0&&is&&is.push(t),t}function Wt(t,e,n,s,r,i){return lb(Ie(t,e,n,s,r,i,!0))}function js(t,e,n,s,r){return lb(jt(t,e,n,s,r,!0))}function Ec(t){return t?t.__v_isVNode===!0:!1}function ao(t,e){return t.type===e.type&&t.key===e.key}const ub=({key:t})=>t??null,rd=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qt(t)||ht(t)||$e(t)?{i:un,r:t,k:e,f:!!n}:t:null);function Ie(t,e=null,n=null,s=0,r=null,i=t===Ln?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ub(e),ref:e&&rd(e),scopeId:Sy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:un};return a?(zf(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=qt(n)?8:16),kc>0&&!o&&is&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&is.push(c),c}const jt=RS;function RS(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===eS)&&(t=Nn),Ec(t)){const a=li(t,e,!0);return n&&zf(a,n),kc>0&&!i&&is&&(a.shapeFlag&6?is[is.indexOf(t)]=a:is.push(a)),a.patchFlag=-2,a}if(YS(t)&&(t=t.__vccOpts),e){e=LS(e);let{class:a,style:c}=e;a&&!qt(a)&&(e.class=oi(a)),St(c)&&(bc(c)&&!De(c)&&(c=ln({},c)),e.style=ff(c))}const o=qt(t)?1:ab(t)?128:Ty(t)?64:St(t)?4:$e(t)?2:0;return Ie(t,e,n,s,r,o,i,!0)}function LS(t){return t?bc(t)||qy(t)?ln({},t):t:null}function li(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:c}=t,l=e?NS(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&ub(l),ref:e&&e.ref?n&&i?De(i)?i.concat(rd(e)):[i,rd(e)]:rd(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ln?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&li(t.ssContent),ssFallback:t.ssFallback&&li(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&_c(u,c.clone(u)),u}function Mc(t=" ",e=0){return jt(sd,null,t,e)}function Or(t="",e=!1){return e?(rt(),js(Nn,null,t)):jt(Nn,null,t)}function ir(t){return t==null||typeof t=="boolean"?jt(Nn):De(t)?jt(Ln,null,t.slice()):Ec(t)?ui(t):jt(sd,null,String(t))}function ui(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:li(t)}function zf(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(De(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),zf(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!qy(e)?e._ctx=un:r===3&&un&&(un.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else $e(e)?(e={default:e,_ctx:un},n=32):(e=String(e),s&64?(n=16,e=[Mc(e)]):n=8);t.children=e,t.shapeFlag|=n}function NS(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=oi([e.class,s.class]));else if(r==="style")e.style=ff([e.style,s.style]);else if(Ru(r)){const i=e[r],o=s[r];o&&i!==o&&!(De(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function or(t,e,n,s=null){Bs(t,e,7,[n,s])}const FS=Wy();let BS=0;function jS(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||FS,i={uid:BS++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gy(s,r),emitsOptions:rb(s,r),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:s.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=ES.bind(null,i),t.ce&&t.ce(i),i}let mn=null;const db=()=>mn||un;let id,qf;{const t=Fu(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};id=e("__VUE_INSTANCE_SETTERS__",n=>mn=n),qf=e("__VUE_SSR_SETTERS__",n=>Cc=n)}const Dc=t=>{const e=mn;return id(t),t.scope.on(),()=>{t.scope.off(),id(e)}},hb=()=>{mn&&mn.scope.off(),id(null)};function fb(t){return t.vnode.shapeFlag&4}let Cc=!1;function $S(t,e=!1,n=!1){e&&qf(e);const{props:s,children:r}=t.vnode,i=fb(t);hS(t,s,i,e),mS(t,r,n);const o=i?HS(t,e):void 0;return e&&qf(!1),o}function HS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sS);const{setup:s}=n;if(s){Sr();const r=t.setupContext=s.length>1?VS(t):null,i=Dc(t),o=ca(s,t,0,[t.props,r]),a=Nm(o);if(Tr(),i(),(a||t.sp)&&!da(t)&&Py(t),a){if(o.then(hb,hb),e)return o.then(c=>{pb(t,c)}).catch(c=>{Gu(c,t,0)});t.asyncDep=o}else pb(t,o)}else gb(t)}function pb(t,e,n){$e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:St(e)&&(t.setupState=py(e)),gb(t)}function gb(t,e,n){const s=t.type;t.render||(t.render=s.render||sr);{const r=Dc(t);Sr();try{rS(t)}finally{Tr(),r()}}}const WS={get(t,e){return wn(t,"get",""),t[e]}};function VS(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,WS),slots:t.slots,emit:t.emit,expose:e}}function od(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(py(Mf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ac)return Ac[n](t)},has(e,n){return n in e||n in Ac}})):t.proxy}const US=/(?:^|[-_])(\w)/g,zS=t=>t.replace(US,e=>e.toUpperCase()).replace(/[-_]/g,"");function qS(t,e=!0){return $e(t)?t.displayName||t.name:t.name||e&&t.__name}function mb(t,e,n=!1){let s=qS(e);if(!s&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(s=r[1])}if(!s&&t&&t.parent){const r=i=>{for(const o in i)if(i[o]===e)return o};s=r(t.components||t.parent.type.components)||r(t.appContext.components)}return s?zS(s):n?"App":"Anonymous"}function YS(t){return $e(t)&&"__vccOpts"in t}const Re=(t,e)=>C1(t,e,Cc);function ad(t,e,n){const s=arguments.length;return s===2?St(e)&&!De(e)?Ec(e)?jt(t,null,[e]):jt(t,e):jt(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ec(n)&&(n=[n]),jt(t,e,n))}const yb="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yf;const bb=typeof window<"u"&&window.trustedTypes;if(bb)try{Yf=bb.createPolicy("vue",{createHTML:t=>t})}catch{}const vb=Yf?t=>Yf.createHTML(t):t=>t,GS="http://www.w3.org/2000/svg",KS="http://www.w3.org/1998/Math/MathML",Pr=typeof document<"u"?document:null,wb=Pr&&Pr.createElement("template"),ZS={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Pr.createElementNS(GS,t):e==="mathml"?Pr.createElementNS(KS,t):n?Pr.createElement(t,{is:n}):Pr.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Pr.createTextNode(t),createComment:t=>Pr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{wb.innerHTML=vb(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=wb.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},di="transition",Oc="animation",Pc=Symbol("_vtc"),_b={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},QS=ln({},ky,_b),XS=(t=>(t.displayName="Transition",t.props=QS,t))((t,{slots:e})=>ad(V1,JS(t),e)),co=(t,e=[])=>{De(t)?t.forEach(n=>n(...e)):t&&t(...e)},xb=t=>t?De(t)?t.some(e=>e.length>1):t.length>1:!1;function JS(t){const e={};for(const N in t)N in _b||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=eT(r),f=g&&g[0],m=g&&g[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:v,onLeave:b,onLeaveCancelled:T,onBeforeAppear:_=y,onAppear:S=w,onAppearCancelled:x=v}=e,E=(N,$,X,W)=>{N._enterCancelled=W,lo(N,$?u:a),lo(N,$?l:o),X&&X()},D=(N,$)=>{N._isLeaving=!1,lo(N,h),lo(N,p),lo(N,d),$&&$()},R=N=>($,X)=>{const W=N?S:w,q=()=>E($,N,X);co(W,[$,q]),Ab(()=>{lo($,N?c:i),Ir($,N?u:a),xb(W)||Sb($,s,f,q)})};return ln(e,{onBeforeEnter(N){co(y,[N]),Ir(N,i),Ir(N,o)},onBeforeAppear(N){co(_,[N]),Ir(N,c),Ir(N,l)},onEnter:R(!1),onAppear:R(!0),onLeave(N,$){N._isLeaving=!0;const X=()=>D(N,$);Ir(N,h),N._enterCancelled?(Ir(N,d),Eb()):(Eb(),Ir(N,d)),Ab(()=>{N._isLeaving&&(lo(N,h),Ir(N,p),xb(b)||Sb(N,s,m,X))}),co(b,[N,X])},onEnterCancelled(N){E(N,!1,void 0,!0),co(v,[N])},onAppearCancelled(N){E(N,!0,void 0,!0),co(x,[N])},onLeaveCancelled(N){D(N),co(T,[N])}})}function eT(t){if(t==null)return null;if(St(t))return[Gf(t.enter),Gf(t.leave)];{const e=Gf(t);return[e,e]}}function Gf(t){return JA(t)}function Ir(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Pc]||(t[Pc]=new Set)).add(e)}function lo(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Pc];n&&(n.delete(e),n.size||(t[Pc]=void 0))}function Ab(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let tT=0;function Sb(t,e,n,s){const r=t._endId=++tT,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=nT(t,e);if(!o)return s();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,d),i()},d=p=>{p.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(l,d)}function nT(t,e){const n=window.getComputedStyle(t),s=g=>(n[g]||"").split(", "),r=s(`${di}Delay`),i=s(`${di}Duration`),o=Tb(r,i),a=s(`${Oc}Delay`),c=s(`${Oc}Duration`),l=Tb(a,c);let u=null,h=0,d=0;e===di?o>0&&(u=di,h=o,d=i.length):e===Oc?l>0&&(u=Oc,h=l,d=c.length):(h=Math.max(o,l),u=h>0?o>l?di:Oc:null,d=u?u===di?i.length:c.length:0);const p=u===di&&/\b(transform|all)(,|$)/.test(s(`${di}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:p}}function Tb(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>kb(n)+kb(t[s])))}function kb(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Eb(){return document.body.offsetHeight}function sT(t,e,n){const s=t[Pc];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Mb=Symbol("_vod"),rT=Symbol("_vsh"),iT=Symbol(""),oT=/(^|;)\s*display\s*:/;function aT(t,e,n){const s=t.style,r=qt(n);let i=!1;if(n&&!r){if(e)if(qt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&cd(s,a,"")}else for(const o in e)n[o]==null&&cd(s,o,"");for(const o in n)o==="display"&&(i=!0),cd(s,o,n[o])}else if(r){if(e!==n){const o=s[iT];o&&(n+=";"+o),s.cssText=n,i=oT.test(n)}}else e&&t.removeAttribute("style");Mb in t&&(t[Mb]=i?s.display:"",t[rT]&&(s.display="none"))}const Db=/\s*!important$/;function cd(t,e,n){if(De(n))n.forEach(s=>cd(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=cT(t,e);Db.test(n)?t.setProperty(Xi(s),n.replace(Db,""),"important"):t[s]=n}}const Cb=["Webkit","Moz","ms"],Kf={};function cT(t,e){const n=Kf[e];if(n)return n;let s=ri(e);if(s!=="filter"&&s in t)return Kf[e]=s;s=jm(s);for(let r=0;r<Cb.length;r++){const i=Cb[r]+s;if(i in t)return Kf[e]=i}return e}const Ob="http://www.w3.org/1999/xlink";function Pb(t,e,n,s,r,i=r1(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ob,e.slice(6,e.length)):t.setAttributeNS(Ob,e,n):n==null||i&&!Vm(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Ns(n)?String(n):n)}function Ib(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?vb(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Vm(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Zf(t,e,n,s){t.addEventListener(e,n,s)}function lT(t,e,n,s){t.removeEventListener(e,n,s)}const Rb=Symbol("_vei");function uT(t,e,n,s,r=null){const i=t[Rb]||(t[Rb]={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=dT(e);if(s){const l=i[e]=pT(s,r);Zf(t,a,l,c)}else o&&(lT(t,a,o,c),i[e]=void 0)}}const Lb=/(?:Once|Passive|Capture)$/;function dT(t){let e;if(Lb.test(t)){e={};let s;for(;s=t.match(Lb);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xi(t.slice(2)),e]}let Qf=0;const hT=Promise.resolve(),fT=()=>Qf||(hT.then(()=>Qf=0),Qf=Date.now());function pT(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Bs(gT(s,n.value),e,5,[s])};return n.value=t,n.attached=fT(),n}function gT(t,e){if(De(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Nb=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,mT=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?sT(t,s,o):e==="style"?aT(t,n,s):Ru(e)?lf(e)||uT(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yT(t,e,s,o))?(Ib(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Pb(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qt(s))?Ib(t,ri(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Pb(t,e,s,o))};function yT(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Nb(e)&&$e(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Nb(e)&&qt(n)?!1:e in t}const ld=t=>{const e=t.props["onUpdate:modelValue"]||!1;return De(e)?n=>Nu(e,n):e},fa=Symbol("_assign"),bT={deep:!0,created(t,e,n){t[fa]=ld(n),Zf(t,"change",()=>{const s=t._modelValue,r=Ic(t),i=t.checked,o=t[fa];if(De(s)){const a=pf(s,r),c=a!==-1;if(i&&!c)o(s.concat(r));else if(!i&&c){const l=[...s];l.splice(a,1),o(l)}}else if(ia(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o($b(t,i))})},mounted:Fb,beforeUpdate(t,e,n){t[fa]=ld(n),Fb(t,e,n)}};function Fb(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(De(e))r=pf(e,s.props.value)>-1;else if(ia(e))r=e.has(s.props.value);else{if(e===n)return;r=hc(e,$b(t,!0))}t.checked!==r&&(t.checked=r)}const Bb={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=ia(e);Zf(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Hm(Ic(o)):Ic(o));t[fa](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,no(()=>{t._assigning=!1})}),t[fa]=ld(s)},mounted(t,{value:e}){jb(t,e)},beforeUpdate(t,e,n){t[fa]=ld(n)},updated(t,{value:e}){t._assigning||jb(t,e)}};function jb(t,e){const n=t.multiple,s=De(e);if(!(n&&!s&&!ia(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=Ic(o);if(n)if(s){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(l=>String(l)===String(a)):o.selected=pf(e,a)>-1}else o.selected=e.has(a);else if(hc(Ic(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ic(t){return"_value"in t?t._value:t.value}function $b(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const vT=ln({patchProp:mT},ZS);let Hb;function wT(){return Hb||(Hb=bS(vT))}const _T=(...t)=>{const e=wT().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=AT(s);if(!r)return;const i=e._component;!$e(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,xT(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function xT(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function AT(t){return qt(t)?document.querySelector(t):t}var Xf=(t=>(t.Stayfocusd="Stayfocusd",t))(Xf||{});function Wb(t){return mf()?(yf(t),!0):!1}function Rr(t){return typeof t=="function"?t():me(t)}const Vb=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ST=Object.prototype.toString,TT=t=>ST.call(t)==="[object Object]",Lr=()=>{};function kT(t,e){function n(...s){return new Promise((r,i)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(r).catch(i)})}return n}const Ub=t=>t();function ET(t=Ub){const e=Tt(!0);function n(){e.value=!1}function s(){e.value=!0}const r=(...i)=>{e.value&&t(...i)};return{isActive:Uu(e),pause:n,resume:s,eventFilter:r}}function Jf(t,e=!1,n="Timeout"){return new Promise((s,r)=>{setTimeout(e?()=>r(n):s,t)})}function MT(t){return db()}function DT(t,e,n={}){const{eventFilter:s=Ub,...r}=n;return tn(t,kT(s,e),r)}function CT(t,e,n={}){const{eventFilter:s,...r}=n,{eventFilter:i,pause:o,resume:a,isActive:c}=ET(s);return{stop:DT(t,e,{...r,eventFilter:i}),pause:o,resume:a,isActive:c}}function OT(t,e=!0,n){MT()?ha(t,n):e?t():no(t)}function ep(t,e=!1){function n(h,{flush:d="sync",deep:p=!1,timeout:g,throwOnTimeout:f}={}){let m=null;const w=[new Promise(v=>{m=tn(t,b=>{h(b)!==e&&(m==null||m(),v(b))},{flush:d,deep:p,immediate:!0})})];return g!=null&&w.push(Jf(g,f).then(()=>Rr(t)).finally(()=>m==null?void 0:m())),Promise.race(w)}function s(h,d){if(!ht(h))return n(b=>b===h,d);const{flush:p="sync",deep:g=!1,timeout:f,throwOnTimeout:m}=d??{};let y=null;const v=[new Promise(b=>{y=tn([t,h],([T,_])=>{e!==(T===_)&&(y==null||y(),b(T))},{flush:p,deep:g,immediate:!0})})];return f!=null&&v.push(Jf(f,m).then(()=>Rr(t)).finally(()=>(y==null||y(),Rr(t)))),Promise.race(v)}function r(h){return n(d=>!!d,h)}function i(h){return s(null,h)}function o(h){return s(void 0,h)}function a(h){return n(Number.isNaN,h)}function c(h,d){return n(p=>{const g=Array.from(p);return g.includes(h)||g.includes(Rr(h))},d)}function l(h){return u(1,h)}function u(h=1,d){let p=-1;return n(()=>(p+=1,p>=h),d)}return Array.isArray(Rr(t))?{toMatch:n,toContains:c,changed:l,changedTimes:u,get not(){return ep(t,!e)}}:{toMatch:n,toBe:s,toBeTruthy:r,toBeNull:i,toBeNaN:a,toBeUndefined:o,changed:l,changedTimes:u,get not(){return ep(t,!e)}}}function PT(t){return ep(t)}function IT(t,e,n={}){const{immediate:s=!0}=n,r=Tt(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function a(){r.value=!1,o()}function c(...l){o(),r.value=!0,i=setTimeout(()=>{r.value=!1,i=null,t(...l)},Rr(e))}return s&&(r.value=!0,Vb&&c()),Wb(a),{isPending:Uu(r),start:c,stop:a}}function zb(t,e,n){let s;ht(n)?s={evaluating:n}:s={};const{lazy:r=!1,evaluating:i=void 0,shallow:o=!0,onError:a=Lr}=s,c=Tt(!r),l=o?aa(e):Tt(e);let u=0;return SS(async h=>{if(!c.value)return;u++;const d=u;let p=!1;i&&Promise.resolve().then(()=>{i.value=!0});try{const g=await t(f=>{h(()=>{i&&(i.value=!1),p||f()})});d===u&&(l.value=g)}catch(g){a(g)}finally{i&&d===u&&(i.value=!1),p=!0}}),r?Re(()=>(c.value=!0,l.value)):l}function RT(t){var e;const n=Rr(t);return(e=n==null?void 0:n.$el)!=null?e:n}const ud=Vb?window:void 0;function qb(...t){let e,n,s,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,s,r]=t,e=ud):[e,n,s,r]=t,!e)return Lr;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],o=()=>{i.forEach(u=>u()),i.length=0},a=(u,h,d,p)=>(u.addEventListener(h,d,p),()=>u.removeEventListener(h,d,p)),c=tn(()=>[RT(e),Rr(r)],([u,h])=>{if(o(),!u)return;const d=TT(h)?{...h}:h;i.push(...n.flatMap(p=>s.map(g=>a(u,p,g,d))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return Wb(l),l}function Yb(t,e,n){const{immediate:s=!0,delay:r=0,onError:i=Lr,onSuccess:o=Lr,resetOnExecute:a=!0,shallow:c=!0,throwError:l}=n??{},u=c?aa(e):Tt(e),h=Tt(!1),d=Tt(!1),p=aa(void 0);async function g(y=0,...w){a&&(u.value=e),p.value=void 0,h.value=!1,d.value=!0,y>0&&await Jf(y);const v=typeof t=="function"?t(...w):t;try{const b=await v;u.value=b,h.value=!0,o(b)}catch(b){if(p.value=b,i(b),l)throw b}finally{d.value=!1}return u.value}s&&g(r);const f={state:u,isReady:h,isLoading:d,error:p,execute:g};function m(){return new Promise((y,w)=>{PT(d).toBe(!1).then(()=>y(f)).catch(w)})}return{...f,then(y,w){return m().then(y,w)}}}const dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hd="__vueuse_ssr_handlers__",LT=NT();function NT(){return hd in dd||(dd[hd]=dd[hd]||{}),dd[hd]}function FT(t,e){return LT[t]||e}function BT(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const jT={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Gb="vueuse-storage";function $T(t,e,n,s={}){var r;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:u,window:h=ud,eventFilter:d,onError:p=D=>{console.error(D)},initOnMounted:g}=s,f=(u?aa:Tt)(typeof e=="function"?e():e);if(!n)try{n=FT("getDefaultStorage",()=>{var D;return(D=ud)==null?void 0:D.localStorage})()}catch(D){p(D)}if(!n)return f;const m=Rr(e),y=BT(m),w=(r=s.serializer)!=null?r:jT[y],{pause:v,resume:b}=CT(f,()=>_(f.value),{flush:i,deep:o,eventFilter:d});h&&a&&OT(()=>{qb(h,"storage",x),qb(h,Gb,E),g&&x()}),g||x();function T(D,R){h&&h.dispatchEvent(new CustomEvent(Gb,{detail:{key:t,oldValue:D,newValue:R,storageArea:n}}))}function _(D){try{const R=n.getItem(t);if(D==null)T(R,null),n.removeItem(t);else{const N=w.write(D);R!==N&&(n.setItem(t,N),T(R,N))}}catch(R){p(R)}}function S(D){const R=D?D.newValue:n.getItem(t);if(R==null)return c&&m!=null&&n.setItem(t,w.write(m)),m;if(!D&&l){const N=w.read(R);return typeof l=="function"?l(N,m):y==="object"&&!Array.isArray(N)?{...m,...N}:N}else return typeof R!="string"?R:w.read(R)}function x(D){if(!(D&&D.storageArea!==n)){if(D&&D.key==null){f.value=m;return}if(!(D&&D.key!==t)){v();try{(D==null?void 0:D.newValue)!==w.write(f.value)&&(f.value=S(D))}catch(R){p(R)}finally{D?no(b):b()}}}}function E(D){x(D.detail)}return f}function HT(t,e,n={}){const{window:s=ud}=n;return $T(t,e,s==null?void 0:s.sessionStorage,n)}const Rc={debug:Lr,log:Lr,info:Lr,warn:Lr,error:Lr};function WT(...t){Rc.debug(...t)}function tp(...t){Rc.log(...t)}function VT(...t){Rc.info(...t)}function UT(...t){Rc.warn(...t)}function Kb(...t){Rc.error(...t)}const zT={debug:WT,log:tp,info:VT,warn:UT,error:Kb};var Zb=Object.prototype.hasOwnProperty;function np(t,e){var n,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((s=t.length)===e.length)for(;s--&&np(t[s],e[s]););return s===-1}if(!n||typeof t=="object"){s=0;for(n in t)if(Zb.call(t,n)&&++s&&!Zb.call(e,n)||!(n in e)||!np(t[n],e[n]))return!1;return Object.keys(e).length===s}}return t!==t&&e!==e}const qT=new Error("request for lock canceled");var YT=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(h){o(h)}}function c(u){try{l(s.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};let GT=class{constructor(e,n=qT){this._value=e,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(e=1,n=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((s,r)=>{const i={resolve:s,reject:r,weight:e,priority:n},o=Qb(this._queue,a=>n<=a.priority);o===-1&&e<=this._value?this._dispatchItem(i):this._queue.splice(o+1,0,i)})}runExclusive(e){return YT(this,arguments,void 0,function*(n,s=1,r=0){const[i,o]=yield this.acquire(s,r);try{return yield n(i)}finally{o()}})}waitForUnlock(e=1,n=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return this._couldLockImmediately(e,n)?Promise.resolve():new Promise(s=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),KT(this._weightedWaiters[e-1],{resolve:s,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatchQueue()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatchQueue()}cancel(){this._queue.forEach(e=>e.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(e){const n=this._value;this._value-=e.weight,e.resolve([n,this._newReleaser(e.weight)])}_newReleaser(e){let n=!1;return()=>{n||(n=!0,this.release(e))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let e=this._value;e>0;e--){const n=this._weightedWaiters[e-1];n&&(n.forEach(s=>s.resolve()),this._weightedWaiters[e-1]=[])}else{const e=this._queue[0].priority;for(let n=this._value;n>0;n--){const s=this._weightedWaiters[n-1];if(!s)continue;const r=s.findIndex(i=>i.priority<=e);(r===-1?s:s.splice(0,r)).forEach(i=>i.resolve())}}}_couldLockImmediately(e,n){return(this._queue.length===0||this._queue[0].priority<n)&&e<=this._value}};function KT(t,e){const n=Qb(t,s=>e.priority<=s.priority);t.splice(n+1,0,e)}function Qb(t,e){for(let n=t.length-1;n>=0;n--)if(e(t[n]))return n;return-1}var ZT=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(h){o(h)}}function c(u){try{l(s.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};let fd=class{constructor(e){this._semaphore=new GT(1,e)}acquire(){return ZT(this,arguments,void 0,function*(e=0){const[,n]=yield this._semaphore.acquire(1,e);return n})}runExclusive(e,n=0){return this._semaphore.runExclusive(()=>e(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(e=0){return this._semaphore.waitForUnlock(1,e)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};const pd=((OA=(CA=globalThis.browser)==null?void 0:CA.runtime)==null?void 0:OA.id)==null?globalThis.chrome:globalThis.browser,pa=QT();function QT(){const t={local:gd("local"),session:gd("session"),sync:gd("sync"),managed:gd("managed")},e=f=>{const m=t[f];if(m==null){const y=Object.keys(t).join(", ");throw Error(`Invalid area "${f}". Options: ${y}`)}return m},n=f=>{const m=f.indexOf(":"),y=f.substring(0,m),w=f.substring(m+1);if(w==null)throw Error(`Storage key should be in the form of "area:key", but received "${f}"`);return{driverArea:y,driverKey:w,driver:e(y)}},s=f=>f+"$",r=(f,m)=>{const y={...f};return Object.entries(m).forEach(([w,v])=>{v==null?delete y[w]:y[w]=v}),y},i=(f,m)=>f??m??null,o=f=>typeof f=="object"&&!Array.isArray(f)?f:{},a=async(f,m,y)=>{const w=await f.getItem(m);return i(w,(y==null?void 0:y.fallback)??(y==null?void 0:y.defaultValue))},c=async(f,m)=>{const y=s(m),w=await f.getItem(y);return o(w)},l=async(f,m,y)=>{await f.setItem(m,y??null)},u=async(f,m,y)=>{const w=s(m),v=o(await f.getItem(w));await f.setItem(w,r(v,y))},h=async(f,m,y)=>{if(await f.removeItem(m),y!=null&&y.removeMeta){const w=s(m);await f.removeItem(w)}},d=async(f,m,y)=>{const w=s(m);if(y==null)await f.removeItem(w);else{const v=o(await f.getItem(w));[y].flat().forEach(b=>delete v[b]),await f.setItem(w,v)}},p=(f,m,y)=>f.watch(m,y);return{getItem:async(f,m)=>{const{driver:y,driverKey:w}=n(f);return await a(y,w,m)},getItems:async f=>{const m=new Map,y=new Map,w=[];f.forEach(b=>{let T,_;typeof b=="string"?T=b:"getValue"in b?(T=b.key,_={fallback:b.fallback}):(T=b.key,_=b.options),w.push(T);const{driverArea:S,driverKey:x}=n(T),E=m.get(S)??[];m.set(S,E.concat(x)),y.set(T,_)});const v=new Map;return await Promise.all(Array.from(m.entries()).map(async([b,T])=>{(await t[b].getItems(T)).forEach(S=>{const x=`${b}:${S.key}`,E=y.get(x),D=i(S.value,(E==null?void 0:E.fallback)??(E==null?void 0:E.defaultValue));v.set(x,D)})})),w.map(b=>({key:b,value:v.get(b)}))},getMeta:async f=>{const{driver:m,driverKey:y}=n(f);return await c(m,y)},getMetas:async f=>{const m=f.map(v=>{const b=typeof v=="string"?v:v.key,{driverArea:T,driverKey:_}=n(b);return{key:b,driverArea:T,driverKey:_,driverMetaKey:s(_)}}),y=m.reduce((v,b)=>{var T;return v[T=b.driverArea]??(v[T]=[]),v[b.driverArea].push(b),v},{}),w={};return await Promise.all(Object.entries(y).map(async([v,b])=>{const T=await pd.storage[v].get(b.map(_=>_.driverMetaKey));b.forEach(_=>{w[_.key]=T[_.driverMetaKey]??{}})})),m.map(v=>({key:v.key,meta:w[v.key]}))},setItem:async(f,m)=>{const{driver:y,driverKey:w}=n(f);await l(y,w,m)},setItems:async f=>{const m={};f.forEach(y=>{const{driverArea:w,driverKey:v}=n("key"in y?y.key:y.item.key);m[w]??(m[w]=[]),m[w].push({key:v,value:y.value})}),await Promise.all(Object.entries(m).map(async([y,w])=>{await e(y).setItems(w)}))},setMeta:async(f,m)=>{const{driver:y,driverKey:w}=n(f);await u(y,w,m)},setMetas:async f=>{const m={};f.forEach(y=>{const{driverArea:w,driverKey:v}=n("key"in y?y.key:y.item.key);m[w]??(m[w]=[]),m[w].push({key:v,properties:y.meta})}),await Promise.all(Object.entries(m).map(async([y,w])=>{const v=e(y),b=w.map(({key:x})=>s(x));console.log(y,b);const T=await v.getItems(b),_=Object.fromEntries(T.map(({key:x,value:E})=>[x,o(E)])),S=w.map(({key:x,properties:E})=>{const D=s(x);return{key:D,value:r(_[D]??{},E)}});await v.setItems(S)}))},removeItem:async(f,m)=>{const{driver:y,driverKey:w}=n(f);await h(y,w,m)},removeItems:async f=>{const m={};f.forEach(y=>{let w,v;typeof y=="string"?w=y:"getValue"in y?w=y.key:"item"in y?(w=y.item.key,v=y.options):(w=y.key,v=y.options);const{driverArea:b,driverKey:T}=n(w);m[b]??(m[b]=[]),m[b].push(T),v!=null&&v.removeMeta&&m[b].push(s(T))}),await Promise.all(Object.entries(m).map(async([y,w])=>{await e(y).removeItems(w)}))},clear:async f=>{await e(f).clear()},removeMeta:async(f,m)=>{const{driver:y,driverKey:w}=n(f);await d(y,w,m)},snapshot:async(f,m)=>{var v;const w=await e(f).snapshot();return(v=m==null?void 0:m.excludeKeys)==null||v.forEach(b=>{delete w[b],delete w[s(b)]}),w},restoreSnapshot:async(f,m)=>{await e(f).restoreSnapshot(m)},watch:(f,m)=>{const{driver:y,driverKey:w}=n(f);return p(y,w,m)},unwatch(){Object.values(t).forEach(f=>{f.unwatch()})},defineItem:(f,m)=>{const{driver:y,driverKey:w}=n(f),{version:v=1,migrations:b={}}=m??{};if(v<1)throw Error("Storage item version cannot be less than 1. Initial versions should be set to 1, not 0.");const T=async()=>{var q;const D=s(w),[{value:R},{value:N}]=await y.getItems([w,D]);if(R==null)return;const $=(N==null?void 0:N.v)??1;if($>v)throw Error(`Version downgrade detected (v${$} -> v${v}) for "${f}"`);if($===v)return;console.debug(`[@wxt-dev/storage] Running storage migration for ${f}: v${$} -> v${v}`);const X=Array.from({length:v-$},(H,L)=>$+L+1);let W=R;for(const H of X)try{W=await((q=b==null?void 0:b[H])==null?void 0:q.call(b,W))??W}catch(L){throw new XT(f,H,{cause:L})}await y.setItems([{key:w,value:W},{key:D,value:{...N,v}}]),console.debug(`[@wxt-dev/storage] Storage migration completed for ${f} v${v}`,{migratedValue:W})},_=(m==null?void 0:m.migrations)==null?Promise.resolve():T().catch(D=>{console.error(`[@wxt-dev/storage] Migration failed for ${f}`,D)}),S=new fd,x=()=>(m==null?void 0:m.fallback)??(m==null?void 0:m.defaultValue)??null,E=()=>S.runExclusive(async()=>{const D=await y.getItem(w);if(D!=null||(m==null?void 0:m.init)==null)return D;const R=await m.init();return await y.setItem(w,R),R});return _.then(E),{key:f,get defaultValue(){return x()},get fallback(){return x()},getValue:async()=>(await _,m!=null&&m.init?await E():await a(y,w,m)),getMeta:async()=>(await _,await c(y,w)),setValue:async D=>(await _,await l(y,w,D)),setMeta:async D=>(await _,await u(y,w,D)),removeValue:async D=>(await _,await h(y,w,D)),removeMeta:async D=>(await _,await d(y,w,D)),watch:D=>p(y,w,(R,N)=>D(R??x(),N??x())),migrate:T}}}}function gd(t){const e=()=>{if(pd.runtime==null)throw Error(["'wxt/storage' must be loaded in a web extension environment",`
 - If thrown during a build, see https://github.com/wxt-dev/wxt/issues/371`,` - If thrown during tests, mock 'wxt/browser' correctly. See https://wxt.dev/guide/go-further/testing.html
`].join(`
`));if(pd.storage==null)throw Error("You must add the 'storage' permission to your manifest to use 'wxt/storage'");const s=pd.storage[t];if(s==null)throw Error(`"browser.storage.${t}" is undefined`);return s},n=new Set;return{getItem:async s=>(await e().get(s))[s],getItems:async s=>{const r=await e().get(s);return s.map(i=>({key:i,value:r[i]??null}))},setItem:async(s,r)=>{r==null?await e().remove(s):await e().set({[s]:r})},setItems:async s=>{const r=s.reduce((i,{key:o,value:a})=>(i[o]=a,i),{});await e().set(r)},removeItem:async s=>{await e().remove(s)},removeItems:async s=>{await e().remove(s)},clear:async()=>{await e().clear()},snapshot:async()=>await e().get(),restoreSnapshot:async s=>{await e().set(s)},watch(s,r){const i=o=>{const a=o[s];a!=null&&(np(a.newValue,a.oldValue)||r(a.newValue??null,a.oldValue??null))};return e().onChanged.addListener(i),n.add(i),()=>{e().onChanged.removeListener(i),n.delete(i)}},unwatch(){n.forEach(s=>{e().onChanged.removeListener(s)}),n.clear()}}}class XT extends Error{constructor(e,n,s){super(`v${n} migration failed for "${e}"`,s),this.key=e,this.version=n}}const Xb=6048e5,JT=864e5,Jb=Symbol.for("constructDateFrom");function hi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Jb in t?t[Jb](e):t instanceof Date?new t.constructor(e):new Date(e)}function $s(t,e){return hi(e||t,t)}let ek={};function md(){return ek}function Lc(t,e){var a,c,l,u;const n=md(),s=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,r=$s(t,e==null?void 0:e.in),i=r.getDay(),o=(i<s?7:0)+i-s;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function yd(t,e){return Lc(t,{...e,weekStartsOn:1})}function ev(t,e){const n=$s(t,e==null?void 0:e.in),s=n.getFullYear(),r=hi(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=yd(r),o=hi(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=yd(o);return n.getTime()>=i.getTime()?s+1:n.getTime()>=a.getTime()?s:s-1}function tv(t){const e=$s(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function tk(t,...e){const n=hi.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function nv(t,e){const n=$s(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function nk(t,e,n){const[s,r]=tk(n==null?void 0:n.in,t,e),i=nv(s),o=nv(r),a=+i-tv(i),c=+o-tv(o);return Math.round((a-c)/JT)}function sk(t,e){const n=ev(t,e),s=hi(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),yd(s)}function rk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ik(t){return!(!rk(t)&&typeof t!="number"||isNaN(+$s(t)))}function ok(t,e){const n=$s(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ak={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ck=(t,e,n)=>{let s;const r=ak[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function sp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const lk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hk={date:sp({formats:lk,defaultWidth:"full"}),time:sp({formats:uk,defaultWidth:"full"}),dateTime:sp({formats:dk,defaultWidth:"full"})},fk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pk=(t,e,n,s)=>fk[t];function Nc(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const gk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_k={ordinalNumber:(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Nc({values:gk,defaultWidth:"wide"}),quarter:Nc({values:mk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Nc({values:yk,defaultWidth:"wide"}),day:Nc({values:bk,defaultWidth:"wide"}),dayPeriod:Nc({values:vk,defaultWidth:"wide",formattingValues:wk,defaultFormattingWidth:"wide"})};function Fc(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const o=i[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?Ak(a,h=>h.test(o)):xk(a,h=>h.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function xk(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Ak(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Sk(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(r.length);return{value:o,rest:a}}}const Tk=/^(\d+)(th|st|nd|rd)?/i,kk=/\d+/i,Ek={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mk={any:[/^b/i,/^(a|c)/i]},Dk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ck={any:[/1/i,/2/i,/3/i,/4/i]},Ok={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ik={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fk={ordinalNumber:Sk({matchPattern:Tk,parsePattern:kk,valueCallback:t=>parseInt(t,10)}),era:Fc({matchPatterns:Ek,defaultMatchWidth:"wide",parsePatterns:Mk,defaultParseWidth:"any"}),quarter:Fc({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Ck,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fc({matchPatterns:Ok,defaultMatchWidth:"wide",parsePatterns:Pk,defaultParseWidth:"any"}),day:Fc({matchPatterns:Ik,defaultMatchWidth:"wide",parsePatterns:Rk,defaultParseWidth:"any"}),dayPeriod:Fc({matchPatterns:Lk,defaultMatchWidth:"any",parsePatterns:Nk,defaultParseWidth:"any"})},Bk={code:"en-US",formatDistance:ck,formatLong:hk,formatRelative:pk,localize:_k,match:Fk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jk(t,e){const n=$s(t,e==null?void 0:e.in);return nk(n,ok(n))+1}function $k(t,e){const n=$s(t,e==null?void 0:e.in),s=+yd(n)-+sk(n);return Math.round(s/Xb)+1}function sv(t,e){var u,h,d,p;const n=$s(t,e==null?void 0:e.in),s=n.getFullYear(),r=md(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,o=hi((e==null?void 0:e.in)||t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const a=Lc(o,e),c=hi((e==null?void 0:e.in)||t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const l=Lc(c,e);return+n>=+a?s+1:+n>=+l?s:s-1}function Hk(t,e){var a,c,l,u;const n=md(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,r=sv(t,e),i=hi((e==null?void 0:e.in)||t,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),Lc(i,e)}function Wk(t,e){const n=$s(t,e==null?void 0:e.in),s=+Lc(n,e)-+Hk(n,e);return Math.round(s/Xb)+1}function yt(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const fi={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return yt(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):yt(n+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return yt(r,e.length)}},ga={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rv={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return fi.y(t,e)},Y:function(t,e,n,s){const r=sv(t,s),i=r>0?r:1-r;if(e==="YY"){const o=i%100;return yt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):yt(i,e.length)},R:function(t,e){const n=ev(t);return yt(n,e.length)},u:function(t,e){const n=t.getFullYear();return yt(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return yt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return yt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return fi.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return yt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=Wk(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):yt(r,e.length)},I:function(t,e,n){const s=$k(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):yt(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):fi.d(t,e)},D:function(t,e,n){const s=jk(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):yt(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return yt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return yt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return yt(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=ga.noon:s===0?r=ga.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=ga.evening:s>=12?r=ga.afternoon:s>=4?r=ga.morning:r=ga.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return fi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):fi.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):yt(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):yt(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):fi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):fi.s(t,e)},S:function(t,e){return fi.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return ov(s);case"XXXX":case"XX":return uo(s);case"XXXXX":case"XXX":default:return uo(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return ov(s);case"xxxx":case"xx":return uo(s);case"xxxxx":case"xxx":default:return uo(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iv(s,":");case"OOOO":default:return"GMT"+uo(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iv(s,":");case"zzzz":default:return"GMT"+uo(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return yt(s,e.length)},T:function(t,e,n){return yt(+t,e.length)}};function iv(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+yt(i,2)}function ov(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):uo(t,e)}function uo(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=yt(Math.trunc(s/60),2),i=yt(s%60,2);return n+r+e+i}const av=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cv=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Vk={p:cv,P:(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return av(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",av(s,e)).replace("{{time}}",cv(r,e))}},Uk=/^D+$/,zk=/^Y+$/,qk=["D","DD","YY","YYYY"];function Yk(t){return Uk.test(t)}function Gk(t){return zk.test(t)}function Kk(t,e,n){const s=Zk(t,e,n);if(console.warn(s),qk.includes(t))throw new RangeError(s)}function Zk(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jk=/^'([^]*?)'?$/,eE=/''/g,tE=/[a-zA-Z]/;function nE(t,e,n){var u,h,d,p;const s=md(),r=s.locale??Bk,i=s.firstWeekContainsDate??((h=(u=s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=s.weekStartsOn??((p=(d=s.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,a=$s(t,n==null?void 0:n.in);if(!ik(a))throw new RangeError("Invalid time value");let c=e.match(Xk).map(g=>{const f=g[0];if(f==="p"||f==="P"){const m=Vk[f];return m(g,r.formatLong)}return g}).join("").match(Qk).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const f=g[0];if(f==="'")return{isToken:!1,value:sE(g)};if(rv[f])return{isToken:!0,value:g};if(f.match(tE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:g}});r.localize.preprocessor&&(c=r.localize.preprocessor(a,c));const l={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return c.map(g=>{if(!g.isToken)return g.value;const f=g.value;(Gk(f)||Yk(f))&&Kk(f,e,String(t));const m=rv[f[0]];return m(a,f,r.localize,l)}).join("")}function sE(t){const e=t.match(Jk);return e?e[1].replace(eE,"'"):t}function Bc(){return nE(new Date,"OOOO")}const rE=13,lv="abcdefghijklmnopqrstuvwxyz0123456789",iE=lv.length;function oE(){let t="";for(let e=0;e<rE;e++)t+=lv.charAt(Math.floor(Math.random()*iE));return t}function bd(t,e){if(typeof t=="string"&&(t=aE(t.trim())),!t)return;const n=t.searchParams.toString()||void 0;let s=t.hostname;return s=s.replace(/^(m|mobile|amp|www|www1|www2|www3|tab|item|checkout|secure|user|account|accounts|web|app|open|i|v|preview|cdn|l|id|nid|user|sso|signin|login|auth0|play|api|click|detail|dashboard|console|manage|support|help)\./,"").replace(/.*\.zoom\.us/,"zoom.us").replace(/.*\.slack\.com/,"slack.com").replace(/.*\.wikipedia\.org/,"wikipedia.org").replace(/.*\.amazonaws\.com/,"amazonaws.com").replace(/.*\.netsuite\.com/,"netsuite.com").replace(/.*\.tumblr\.com/,"tumblr.com").replace(/.*\.deviantart\.com/,"deviantart.com"),{hostname:s,path:cE(t.pathname),query:n}}function aE(t){if(!t)return;const e=n=>{const s=new URL(n);if(!/^https?:/.test(s.protocol))throw Error("Invalid URL, ignored protocol found");if(!s.hostname)throw Error("Invalid URL, no hostname");if(s.hostname.lastIndexOf(".")>=s.hostname.length-2)throw Error("Invalid URL, bad domain ending");return s};try{return e(t)}catch{}if(!t.includes("://"))try{return e("https://"+t)}catch{}}function cE(t){return t.endsWith("/")?t.substring(0,Math.max(1,t.length-1)):t}const lE=new Error("request for lock canceled");var uE=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(h){o(h)}}function c(u){try{l(s.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};class dE{constructor(e,n=lE){this._value=e,this._cancelError=n,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((n,s)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:n,reject:s}),this._dispatch()})}runExclusive(e,n=1){return uE(this,void 0,void 0,function*(){const[s,r]=yield this.acquire(n);try{return yield e(s)}finally{r()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(n=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(n),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(n=>n.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let n=this._value;n>0;n--){const s=(e=this._weightedQueues[n-1])===null||e===void 0?void 0:e.shift();if(!s)continue;const r=this._value,i=n;this._value-=n,n=this._value+1,s.resolve([r,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let n=!1;return()=>{n||(n=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(n=>n()),this._weightedWaiters[e-1]=[])}}var hE=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(h){o(h)}}function c(u){try{l(s.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};class fE{constructor(e){this._semaphore=new dE(1,e)}acquire(){return hE(this,void 0,void 0,function*(){const[,e]=yield this._semaphore.acquire();return e})}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const pE=new fE,gE="local:installId",uv="local:install-id";function jc(){return pE.runExclusive(async()=>{const t=await pa.getItem(uv),e=await pa.getItem(gE);if(t&&e)return t;if(e)return e;if(t)return t;const n=oE();return await pa.setItem(uv,n),n})}var it;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const i={};for(const o of r)i[o]=o;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),o={};for(const a of i)o[a]=r[a];return t.objectValues(o)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.push(o);return i},t.find=(r,i)=>{for(const o of r)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(it||(it={}));var rp;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(rp||(rp={}));const be=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nr=t=>{switch(typeof t){case"undefined":return be.undefined;case"string":return be.string;case"number":return isNaN(t)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(t)?be.array:t===null?be.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?be.promise:typeof Map<"u"&&t instanceof Map?be.map:typeof Set<"u"&&t instanceof Set?be.set:typeof Date<"u"&&t instanceof Date?be.date:be.object;default:return be.unknown}},ne=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),mE=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class os extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},s={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let a=s,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return r(this),s}static assert(e){if(!(e instanceof os))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}os.create=t=>new os(t);const ma=(t,e)=>{let n;switch(t.code){case ne.invalid_type:t.received===be.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,it.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${it.joinValues(t.keys,", ")}`;break;case ne.invalid_union:n="Invalid input";break;case ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${it.joinValues(t.options)}`;break;case ne.invalid_enum_value:n=`Invalid enum value. Expected ${it.joinValues(t.options)}, received '${t.received}'`;break;case ne.invalid_arguments:n="Invalid function arguments";break;case ne.invalid_return_type:n="Invalid function return type";break;case ne.invalid_date:n="Invalid date";break;case ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:it.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ne.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ne.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ne.custom:n="Invalid input";break;case ne.invalid_intersection_types:n="Intersection results could not be merged";break;case ne.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ne.not_finite:n="Number must be finite";break;default:n=e.defaultError,it.assertNever(t)}return{message:n}};let dv=ma;function yE(t){dv=t}function vd(){return dv}const wd=t=>{const{data:e,path:n,errorMaps:s,issueData:r}=t,i=[...n,...r.path||[]],o={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let a="";const c=s.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...r,path:i,message:a}},bE=[];function fe(t,e){const n=vd(),s=wd({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ma?void 0:ma].filter(r=>!!r)});t.common.issues.push(s)}class xn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const r of n){if(r.status==="aborted")return je;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const r of n){const i=await r.key,o=await r.value;s.push({key:i,value:o})}return xn.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const r of n){const{key:i,value:o}=r;if(i.status==="aborted"||o.status==="aborted")return je;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(s[i.value]=o.value)}return{status:e.value,value:s}}}const je=Object.freeze({status:"aborted"}),ya=t=>({status:"dirty",value:t}),Fn=t=>({status:"valid",value:t}),ip=t=>t.status==="aborted",op=t=>t.status==="dirty",ho=t=>t.status==="valid",$c=t=>typeof Promise<"u"&&t instanceof Promise;function _d(t,e,n,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function hv(t,e,n,s,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}typeof SuppressedError=="function"&&SuppressedError;var Te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Te||(Te={}));var Hc,Wc;class ar{constructor(e,n,s,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fv=(t,e)=>{if(ho(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new os(t.common.issues);return this._error=n,this._error}}};function ze(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:r}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,a)=>{var c,l;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}},description:r}}class Ke{get description(){return this._def.description}_getType(e){return Nr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Nr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xn,ctx:{common:e.parent.common,data:e.data,parsedType:Nr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if($c(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){var s;const r={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nr(e)},i=this._parseSync({data:e,path:r.path,parent:r});return fv(r,i)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return ho(i)?{value:i.value}:{issues:r.common.issues}}catch(i){!((s=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>ho(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nr(e)},r=this._parse({data:e,path:s.path,parent:s}),i=await($c(r)?r:Promise.resolve(r));return fv(s,i)}refine(e,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const o=e(r),a=()=>i.addIssue({code:ne.custom,...s(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(e){return new Vs({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return lr.create(this,this._def)}nullable(){return yi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ws.create(this)}promise(){return _a.create(this,this._def)}or(e){return qc.create([this,e],this._def)}and(e){return Yc.create(this,e,this._def)}transform(e){return new Vs({...ze(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Xc({...ze(this._def),innerType:this,defaultValue:n,typeName:Fe.ZodDefault})}brand(){return new lp({typeName:Fe.ZodBranded,type:this,...ze(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Jc({...ze(this._def),innerType:this,catchValue:n,typeName:Fe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return el.create(this,e)}readonly(){return tl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vE=/^c[^\s-]{8,}$/i,wE=/^[0-9a-z]+$/,_E=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AE=/^[a-z0-9_-]{21}$/i,SE=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TE=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kE=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,EE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ap;const ME=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,CE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,OE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,PE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,IE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,pv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",RE=new RegExp(`^${pv}$`);function gv(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function LE(t){return new RegExp(`^${gv(t)}$`)}function mv(t){let e=`${pv}T${gv(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function NE(t,e){return!!((e==="v4"||!e)&&ME.test(t)||(e==="v6"||!e)&&CE.test(t))}function FE(t,e){if(!SE.test(t))return!1;try{const[n]=t.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function BE(t,e){return!!((e==="v4"||!e)&&DE.test(t)||(e==="v6"||!e)&&OE.test(t))}class Hs extends Ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==be.string){const i=this._getOrReturnCtx(e);return fe(i,{code:ne.invalid_type,expected:be.string,received:i.parsedType}),je}const s=new xn;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(r=this._getOrReturnCtx(e,r),o?fe(r,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&fe(r,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")kE.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"email",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")ap||(ap=new RegExp(EE,"u")),ap.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"emoji",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")xE.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"uuid",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")AE.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"nanoid",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")vE.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"cuid",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")wE.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"cuid2",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")_E.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"ulid",code:ne.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),fe(r,{validation:"url",code:ne.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"regex",code:ne.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?mv(i).test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?RE.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?LE(i).test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?TE.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"duration",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?NE(e.data,i.version)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"ip",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?FE(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"jwt",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?BE(e.data,i.version)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"cidr",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?PE.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"base64",code:ne.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?IE.test(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{validation:"base64url",code:ne.invalid_string,message:i.message}),s.dirty()):it.assertNever(i);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(r=>e.test(r),{validation:n,code:ne.invalid_string,...Te.errToObj(s)})}_addCheck(e){return new Hs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Te.errToObj(e)})}datetime(e){var n,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...Te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Te.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Te.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Te.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Te.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Te.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Te.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Te.errToObj(n)})}nonempty(e){return this.min(1,Te.errToObj(e))}trim(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hs.create=t=>{var e;return new Hs({checks:[],typeName:Fe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};function jE(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=n>s?n:s,i=parseInt(t.toFixed(r).replace(".","")),o=parseInt(e.toFixed(r).replace(".",""));return i%o/Math.pow(10,r)}class pi extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==be.number){const i=this._getOrReturnCtx(e);return fe(i,{code:ne.invalid_type,expected:be.number,received:i.parsedType}),je}let s;const r=new xn;for(const i of this._def.checks)i.kind==="int"?it.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:ne.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?jE(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:ne.not_finite,message:i.message}),r.dirty()):it.assertNever(i);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,s,r){return new pi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:Te.toString(r)}]})}_addCheck(e){return new pi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&it.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}pi.create=t=>new pi({checks:[],typeName:Fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class gi extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==be.bigint)return this._getInvalidInput(e);let s;const r=new xn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),fe(s,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):it.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return fe(n,{code:ne.invalid_type,expected:be.bigint,received:n.parsedType}),je}gte(e,n){return this.setLimit("min",e,!0,Te.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Te.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Te.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Te.toString(n))}setLimit(e,n,s,r){return new gi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:Te.toString(r)}]})}_addCheck(e){return new gi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}gi.create=t=>{var e;return new gi({checks:[],typeName:Fe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};class Vc extends Ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==be.boolean){const s=this._getOrReturnCtx(e);return fe(s,{code:ne.invalid_type,expected:be.boolean,received:s.parsedType}),je}return Fn(e.data)}}Vc.create=t=>new Vc({typeName:Fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class fo extends Ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==be.date){const i=this._getOrReturnCtx(e);return fe(i,{code:ne.invalid_type,expected:be.date,received:i.parsedType}),je}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return fe(i,{code:ne.invalid_date}),je}const s=new xn;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),fe(r,{code:ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):it.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Te.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Te.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}fo.create=t=>new fo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Fe.ZodDate,...ze(t)});class xd extends Ke{_parse(e){if(this._getType(e)!==be.symbol){const s=this._getOrReturnCtx(e);return fe(s,{code:ne.invalid_type,expected:be.symbol,received:s.parsedType}),je}return Fn(e.data)}}xd.create=t=>new xd({typeName:Fe.ZodSymbol,...ze(t)});class Uc extends Ke{_parse(e){if(this._getType(e)!==be.undefined){const s=this._getOrReturnCtx(e);return fe(s,{code:ne.invalid_type,expected:be.undefined,received:s.parsedType}),je}return Fn(e.data)}}Uc.create=t=>new Uc({typeName:Fe.ZodUndefined,...ze(t)});class zc extends Ke{_parse(e){if(this._getType(e)!==be.null){const s=this._getOrReturnCtx(e);return fe(s,{code:ne.invalid_type,expected:be.null,received:s.parsedType}),je}return Fn(e.data)}}zc.create=t=>new zc({typeName:Fe.ZodNull,...ze(t)});class ba extends Ke{constructor(){super(...arguments),this._any=!0}_parse(e){return Fn(e.data)}}ba.create=t=>new ba({typeName:Fe.ZodAny,...ze(t)});class po extends Ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fn(e.data)}}po.create=t=>new po({typeName:Fe.ZodUnknown,...ze(t)});class Fr extends Ke{_parse(e){const n=this._getOrReturnCtx(e);return fe(n,{code:ne.invalid_type,expected:be.never,received:n.parsedType}),je}}Fr.create=t=>new Fr({typeName:Fe.ZodNever,...ze(t)});class Ad extends Ke{_parse(e){if(this._getType(e)!==be.undefined){const s=this._getOrReturnCtx(e);return fe(s,{code:ne.invalid_type,expected:be.void,received:s.parsedType}),je}return Fn(e.data)}}Ad.create=t=>new Ad({typeName:Fe.ZodVoid,...ze(t)});class Ws extends Ke{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),r=this._def;if(n.parsedType!==be.array)return fe(n,{code:ne.invalid_type,expected:be.array,received:n.parsedType}),je;if(r.exactLength!==null){const o=n.data.length>r.exactLength.value,a=n.data.length<r.exactLength.value;(o||a)&&(fe(n,{code:o?ne.too_big:ne.too_small,minimum:a?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(fe(n,{code:ne.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(fe(n,{code:ne.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>r.type._parseAsync(new ar(n,o,n.path,a)))).then(o=>xn.mergeArray(s,o));const i=[...n.data].map((o,a)=>r.type._parseSync(new ar(n,o,n.path,a)));return xn.mergeArray(s,i)}get element(){return this._def.type}min(e,n){return new Ws({...this._def,minLength:{value:e,message:Te.toString(n)}})}max(e,n){return new Ws({...this._def,maxLength:{value:e,message:Te.toString(n)}})}length(e,n){return new Ws({...this._def,exactLength:{value:e,message:Te.toString(n)}})}nonempty(e){return this.min(1,e)}}Ws.create=(t,e)=>new Ws({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...ze(e)});function va(t){if(t instanceof Vt){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=lr.create(va(s))}return new Vt({...t._def,shape:()=>e})}else return t instanceof Ws?new Ws({...t._def,type:va(t.element)}):t instanceof lr?lr.create(va(t.unwrap())):t instanceof yi?yi.create(va(t.unwrap())):t instanceof cr?cr.create(t.items.map(e=>va(e))):t}class Vt extends Ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=it.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==be.object){const l=this._getOrReturnCtx(e);return fe(l,{code:ne.invalid_type,expected:be.object,received:l.parsedType}),je}const{status:s,ctx:r}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Fr&&this._def.unknownKeys==="strip"))for(const l in r.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],h=r.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ar(r,h,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof Fr){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")a.length>0&&(fe(r,{code:ne.unrecognized_keys,keys:a}),s.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const h=r.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ar(r,h,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const h=await u.key,d=await u.value;l.push({key:h,value:d,alwaysSet:u.alwaysSet})}return l}).then(l=>xn.mergeObjectSync(s,l)):xn.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return Te.errToObj,new Vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var r,i,o,a;const c=(o=(i=(r=this._def).errorMap)===null||i===void 0?void 0:i.call(r,n,s).message)!==null&&o!==void 0?o:s.defaultError;return n.code==="unrecognized_keys"?{message:(a=Te.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Vt({...this._def,unknownKeys:"strip"})}passthrough(){return new Vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Fe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Vt({...this._def,catchall:e})}pick(e){const n={};return it.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new Vt({...this._def,shape:()=>n})}omit(e){const n={};return it.objectKeys(this.shape).forEach(s=>{e[s]||(n[s]=this.shape[s])}),new Vt({...this._def,shape:()=>n})}deepPartial(){return va(this)}partial(e){const n={};return it.objectKeys(this.shape).forEach(s=>{const r=this.shape[s];e&&!e[s]?n[s]=r:n[s]=r.optional()}),new Vt({...this._def,shape:()=>n})}required(e){const n={};return it.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof lr;)i=i._def.innerType;n[s]=i}}),new Vt({...this._def,shape:()=>n})}keyof(){return yv(it.objectKeys(this.shape))}}Vt.create=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strip",catchall:Fr.create(),typeName:Fe.ZodObject,...ze(e)}),Vt.strictCreate=(t,e)=>new Vt({shape:()=>t,unknownKeys:"strict",catchall:Fr.create(),typeName:Fe.ZodObject,...ze(e)}),Vt.lazycreate=(t,e)=>new Vt({shape:t,unknownKeys:"strip",catchall:Fr.create(),typeName:Fe.ZodObject,...ze(e)});class qc extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function r(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new os(a.ctx.common.issues));return fe(n,{code:ne.invalid_union,unionErrors:o}),je}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(r);{let i;const o=[];for(const c of s){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new os(c));return fe(n,{code:ne.invalid_union,unionErrors:a}),je}}get options(){return this._def.options}}qc.create=(t,e)=>new qc({options:t,typeName:Fe.ZodUnion,...ze(e)});const Br=t=>t instanceof Kc?Br(t.schema):t instanceof Vs?Br(t.innerType()):t instanceof Zc?[t.value]:t instanceof mi?t.options:t instanceof Qc?it.objectValues(t.enum):t instanceof Xc?Br(t._def.innerType):t instanceof Uc?[void 0]:t instanceof zc?[null]:t instanceof lr?[void 0,...Br(t.unwrap())]:t instanceof yi?[null,...Br(t.unwrap())]:t instanceof lp||t instanceof tl?Br(t.unwrap()):t instanceof Jc?Br(t._def.innerType):[];class Sd extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.object)return fe(n,{code:ne.invalid_type,expected:be.object,received:n.parsedType}),je;const s=this.discriminator,r=n.data[s],i=this.optionsMap.get(r);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(fe(n,{code:ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const r=new Map;for(const i of n){const o=Br(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(r.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);r.set(a,i)}}return new Sd({typeName:Fe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...ze(s)})}}function cp(t,e){const n=Nr(t),s=Nr(e);if(t===e)return{valid:!0,data:t};if(n===be.object&&s===be.object){const r=it.objectKeys(e),i=it.objectKeys(t).filter(a=>r.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=cp(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===be.array&&s===be.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=cp(o,a);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===be.date&&s===be.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Yc extends Ke{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=(i,o)=>{if(ip(i)||ip(o))return je;const a=cp(i.value,o.value);return a.valid?((op(i)||op(o))&&n.dirty(),{status:n.value,value:a.data}):(fe(s,{code:ne.invalid_intersection_types}),je)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>r(i,o)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Yc.create=(t,e,n)=>new Yc({left:t,right:e,typeName:Fe.ZodIntersection,...ze(n)});class cr extends Ke{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==be.array)return fe(s,{code:ne.invalid_type,expected:be.array,received:s.parsedType}),je;if(s.data.length<this._def.items.length)return fe(s,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),je;!this._def.rest&&s.data.length>this._def.items.length&&(fe(s,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new ar(s,o,s.path,a)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>xn.mergeArray(n,o)):xn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new cr({...this._def,rest:e})}}cr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cr({items:t,typeName:Fe.ZodTuple,rest:null,...ze(e)})};class Gc extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==be.object)return fe(s,{code:ne.invalid_type,expected:be.object,received:s.parsedType}),je;const r=[],i=this._def.keyType,o=this._def.valueType;for(const a in s.data)r.push({key:i._parse(new ar(s,a,s.path,a)),value:o._parse(new ar(s,s.data[a],s.path,a)),alwaysSet:a in s.data});return s.common.async?xn.mergeObjectAsync(n,r):xn.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof Ke?new Gc({keyType:e,valueType:n,typeName:Fe.ZodRecord,...ze(s)}):new Gc({keyType:Hs.create(),valueType:e,typeName:Fe.ZodRecord,...ze(n)})}}class Td extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==be.map)return fe(s,{code:ne.invalid_type,expected:be.map,received:s.parsedType}),je;const r=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([a,c],l)=>({key:r._parse(new ar(s,a,s.path,[l,"key"])),value:i._parse(new ar(s,c,s.path,[l,"value"]))}));if(s.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return je;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return je;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}Td.create=(t,e,n)=>new Td({valueType:e,keyType:t,typeName:Fe.ZodMap,...ze(n)});class go extends Ke{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==be.set)return fe(s,{code:ne.invalid_type,expected:be.set,received:s.parsedType}),je;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(fe(s,{code:ne.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(fe(s,{code:ne.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return je;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...s.data.values()].map((c,l)=>i._parse(new ar(s,c,s.path,l)));return s.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new go({...this._def,minSize:{value:e,message:Te.toString(n)}})}max(e,n){return new go({...this._def,maxSize:{value:e,message:Te.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}go.create=(t,e)=>new go({valueType:t,minSize:null,maxSize:null,typeName:Fe.ZodSet,...ze(e)});class wa extends Ke{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.function)return fe(n,{code:ne.invalid_type,expected:be.function,received:n.parsedType}),je;function s(a,c){return wd({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vd(),ma].filter(l=>!!l),issueData:{code:ne.invalid_arguments,argumentsError:c}})}function r(a,c){return wd({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vd(),ma].filter(l=>!!l),issueData:{code:ne.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof _a){const a=this;return Fn(async function(...c){const l=new os([]),u=await a._def.args.parseAsync(c,i).catch(p=>{throw l.addIssue(s(c,p)),l}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,i).catch(p=>{throw l.addIssue(r(h,p)),l})})}else{const a=this;return Fn(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new os([s(c,l.error)]);const u=Reflect.apply(o,this,l.data),h=a._def.returns.safeParse(u,i);if(!h.success)throw new os([r(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new wa({...this._def,args:cr.create(e).rest(po.create())})}returns(e){return new wa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new wa({args:e||cr.create([]).rest(po.create()),returns:n||po.create(),typeName:Fe.ZodFunction,...ze(s)})}}class Kc extends Ke{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Kc.create=(t,e)=>new Kc({getter:t,typeName:Fe.ZodLazy,...ze(e)});class Zc extends Ke{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return fe(n,{received:n.data,code:ne.invalid_literal,expected:this._def.value}),je}return{status:"valid",value:e.data}}get value(){return this._def.value}}Zc.create=(t,e)=>new Zc({value:t,typeName:Fe.ZodLiteral,...ze(e)});function yv(t,e){return new mi({values:t,typeName:Fe.ZodEnum,...ze(e)})}class mi extends Ke{constructor(){super(...arguments),Hc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return fe(n,{expected:it.joinValues(s),received:n.parsedType,code:ne.invalid_type}),je}if(_d(this,Hc)||hv(this,Hc,new Set(this._def.values)),!_d(this,Hc).has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return fe(n,{received:n.data,code:ne.invalid_enum_value,options:s}),je}return Fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return mi.create(e,{...this._def,...n})}exclude(e,n=this._def){return mi.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}Hc=new WeakMap,mi.create=yv;class Qc extends Ke{constructor(){super(...arguments),Wc.set(this,void 0)}_parse(e){const n=it.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==be.string&&s.parsedType!==be.number){const r=it.objectValues(n);return fe(s,{expected:it.joinValues(r),received:s.parsedType,code:ne.invalid_type}),je}if(_d(this,Wc)||hv(this,Wc,new Set(it.getValidEnumValues(this._def.values))),!_d(this,Wc).has(e.data)){const r=it.objectValues(n);return fe(s,{received:s.data,code:ne.invalid_enum_value,options:r}),je}return Fn(e.data)}get enum(){return this._def.values}}Wc=new WeakMap,Qc.create=(t,e)=>new Qc({values:t,typeName:Fe.ZodNativeEnum,...ze(e)});class _a extends Ke{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.promise&&n.common.async===!1)return fe(n,{code:ne.invalid_type,expected:be.promise,received:n.parsedType}),je;const s=n.parsedType===be.promise?n.data:Promise.resolve(n.data);return Fn(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_a.create=(t,e)=>new _a({type:t,typeName:Fe.ZodPromise,...ze(e)});class Vs extends Ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:o=>{fe(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const o=r.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return je;const c=await this._def.schema._parseAsync({data:a,path:s.path,parent:s});return c.status==="aborted"?je:c.status==="dirty"||n.value==="dirty"?ya(c.value):c});{if(n.value==="aborted")return je;const a=this._def.schema._parseSync({data:o,path:s.path,parent:s});return a.status==="aborted"?je:a.status==="dirty"||n.value==="dirty"?ya(a.value):a}}if(r.type==="refinement"){const o=a=>{const c=r.refinement(a,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?je:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>a.status==="aborted"?je:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(r.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ho(o))return o;const a=r.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>ho(o)?Promise.resolve(r.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);it.assertNever(r)}}Vs.create=(t,e,n)=>new Vs({schema:t,typeName:Fe.ZodEffects,effect:e,...ze(n)}),Vs.createWithPreprocess=(t,e,n)=>new Vs({schema:e,effect:{type:"preprocess",transform:t},typeName:Fe.ZodEffects,...ze(n)});class lr extends Ke{_parse(e){return this._getType(e)===be.undefined?Fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lr.create=(t,e)=>new lr({innerType:t,typeName:Fe.ZodOptional,...ze(e)});class yi extends Ke{_parse(e){return this._getType(e)===be.null?Fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yi.create=(t,e)=>new yi({innerType:t,typeName:Fe.ZodNullable,...ze(e)});class Xc extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===be.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Xc.create=(t,e)=>new Xc({innerType:t,typeName:Fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ze(e)});class Jc extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return $c(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new os(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new os(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Jc.create=(t,e)=>new Jc({innerType:t,typeName:Fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ze(e)});class kd extends Ke{_parse(e){if(this._getType(e)!==be.nan){const s=this._getOrReturnCtx(e);return fe(s,{code:ne.invalid_type,expected:be.nan,received:s.parsedType}),je}return{status:"valid",value:e.data}}}kd.create=t=>new kd({typeName:Fe.ZodNaN,...ze(t)});const $E=Symbol("zod_brand");class lp extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class el extends Ke{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?je:i.status==="dirty"?(n.dirty(),ya(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?je:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,n){return new el({in:e,out:n,typeName:Fe.ZodPipeline})}}class tl extends Ke{_parse(e){const n=this._def.innerType._parse(e),s=r=>(ho(r)&&(r.value=Object.freeze(r.value)),r);return $c(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}tl.create=(t,e)=>new tl({innerType:t,typeName:Fe.ZodReadonly,...ze(e)});function bv(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function vv(t,e={},n){return t?ba.create().superRefine((s,r)=>{var i,o;const a=t(s);if(a instanceof Promise)return a.then(c=>{var l,u;if(!c){const h=bv(e,s),d=(u=(l=h.fatal)!==null&&l!==void 0?l:n)!==null&&u!==void 0?u:!0;r.addIssue({code:"custom",...h,fatal:d})}});if(!a){const c=bv(e,s),l=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;r.addIssue({code:"custom",...c,fatal:l})}}):ba.create()}const HE={object:Vt.lazycreate};var Fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const WE=(t,e={message:`Input not instance of ${t.name}`})=>vv(n=>n instanceof t,e),kt=Hs.create,Yt=pi.create,VE=kd.create,UE=gi.create,Ed=Vc.create,zE=fo.create,qE=xd.create,YE=Uc.create,GE=zc.create,wv=ba.create,KE=po.create,ZE=Fr.create,QE=Ad.create,XE=Ws.create,ws=Vt.create,JE=Vt.strictCreate,up=qc.create,eM=Sd.create,tM=Yc.create,nM=cr.create,_v=Gc.create,sM=Td.create,rM=go.create,iM=wa.create,oM=Kc.create,aM=Zc.create,xa=mi.create,cM=Qc.create,lM=_a.create,xv=Vs.create,uM=lr.create,dM=yi.create,hM=Vs.createWithPreprocess,fM=el.create;for(var Ee=Object.freeze({__proto__:null,defaultErrorMap:ma,setErrorMap:yE,getErrorMap:vd,makeIssue:wd,EMPTY_PATH:bE,addIssueToContext:fe,ParseStatus:xn,INVALID:je,DIRTY:ya,OK:Fn,isAborted:ip,isDirty:op,isValid:ho,isAsync:$c,get util(){return it},get objectUtil(){return rp},ZodParsedType:be,getParsedType:Nr,ZodType:Ke,datetimeRegex:mv,ZodString:Hs,ZodNumber:pi,ZodBigInt:gi,ZodBoolean:Vc,ZodDate:fo,ZodSymbol:xd,ZodUndefined:Uc,ZodNull:zc,ZodAny:ba,ZodUnknown:po,ZodNever:Fr,ZodVoid:Ad,ZodArray:Ws,ZodObject:Vt,ZodUnion:qc,ZodDiscriminatedUnion:Sd,ZodIntersection:Yc,ZodTuple:cr,ZodRecord:Gc,ZodMap:Td,ZodSet:go,ZodFunction:wa,ZodLazy:Kc,ZodLiteral:Zc,ZodEnum:mi,ZodNativeEnum:Qc,ZodPromise:_a,ZodEffects:Vs,ZodTransformer:Vs,ZodOptional:lr,ZodNullable:yi,ZodDefault:Xc,ZodCatch:Jc,ZodNaN:kd,BRAND:$E,ZodBranded:lp,ZodPipeline:el,ZodReadonly:tl,custom:vv,Schema:Ke,ZodSchema:Ke,late:HE,get ZodFirstPartyTypeKind(){return Fe},coerce:{string:t=>Hs.create({...t,coerce:!0}),number:t=>pi.create({...t,coerce:!0}),boolean:t=>Vc.create({...t,coerce:!0}),bigint:t=>gi.create({...t,coerce:!0}),date:t=>fo.create({...t,coerce:!0})},any:wv,array:XE,bigint:UE,boolean:Ed,date:zE,discriminatedUnion:eM,effect:xv,enum:xa,function:iM,instanceof:WE,intersection:tM,lazy:oM,literal:aM,map:sM,nan:VE,nativeEnum:cM,never:ZE,null:GE,nullable:dM,number:Yt,object:ws,oboolean:()=>Ed().optional(),onumber:()=>Yt().optional(),optional:uM,ostring:()=>kt().optional(),pipeline:fM,preprocess:hM,promise:lM,record:_v,set:rM,strictObject:JE,string:kt,symbol:qE,transformer:xv,tuple:nM,undefined:YE,union:up,unknown:KE,void:QE,NEVER:je,ZodIssueCode:ne,quotelessJson:mE,ZodError:os}),yn=[],dp=0;dp<256;++dp)yn.push((dp+256).toString(16).slice(1));function pM(t,e=0){return(yn[t[e+0]]+yn[t[e+1]]+yn[t[e+2]]+yn[t[e+3]]+"-"+yn[t[e+4]]+yn[t[e+5]]+"-"+yn[t[e+6]]+yn[t[e+7]]+"-"+yn[t[e+8]]+yn[t[e+9]]+"-"+yn[t[e+10]]+yn[t[e+11]]+yn[t[e+12]]+yn[t[e+13]]+yn[t[e+14]]+yn[t[e+15]]).toLowerCase()}var Md,gM=new Uint8Array(16);function mM(){if(!Md&&(Md=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Md))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Md(gM)}var yM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Av={randomUUID:yM};function nl(t,e,n){if(Av.randomUUID&&!t)return Av.randomUUID();t=t||{};var s=t.random||(t.rng||mM)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,pM(s)}class bM{constructor(e,n=Date.now()){this.logMethod=e,this.startedAt=n}log(e){const n=Date.now()-this.startedAt;this.logMethod(e.replace(/\{duration\}/g,`${(n/1e3).toFixed(3)}s`))}}const Dd=1e3,hp=60*Dd,vM=60*hp;function wM(){return new Promise(t=>setTimeout(t,0))}function _M(t){const e=new fd;return(...n)=>e.runExclusive(()=>t(...n))}function xM(){let t,e;return[new Promise((s,r)=>{t=s,e=r}),t,e]}function Sv(t){const e=t.objectStoreNames.length,n=[];for(let s=0;s<e;s++){const r=t.objectStoreNames.item(s);r&&n.push(r)}return n}const fp=(t,e)=>e.some(n=>t instanceof n);let Tv,kv;function AM(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SM(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pp=new WeakMap,gp=new WeakMap,Cd=new WeakMap;function TM(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(mo(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return Cd.set(e,t),e}function kM(t){if(pp.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});pp.set(t,e)}let mp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ev(t){mp=t(mp)}function EM(t){return SM().includes(t)?function(...e){return t.apply(yp(this),e),mo(this.request)}:function(...e){return mo(t.apply(yp(this),e))}}function MM(t){return typeof t=="function"?EM(t):(t instanceof IDBTransaction&&kM(t),fp(t,AM())?new Proxy(t,mp):t)}function mo(t){if(t instanceof IDBRequest)return TM(t);if(gp.has(t))return gp.get(t);const e=MM(t);return e!==t&&(gp.set(t,e),Cd.set(e,t)),e}const yp=t=>Cd.get(t);function DM(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=mo(o);return s&&o.addEventListener("upgradeneeded",c=>{s(mo(o.result),c.oldVersion,c.newVersion,mo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const CM=["get","getKey","getAll","getAllKeys","count"],OM=["put","add","delete","clear"],bp=new Map;function Mv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=OM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||CM.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return bp.set(e,i),i}Ev(t=>({...t,get:(e,n,s)=>Mv(e,n)||t.get(e,n,s),has:(e,n)=>!!Mv(e,n)||t.has(e,n)}));const PM=["continue","continuePrimaryKey","advance"],Dv={},vp=new WeakMap,Cv=new WeakMap,IM={get(t,e){if(!PM.includes(e))return t[e];let n=Dv[e];return n||(n=Dv[e]=function(...s){vp.set(this,Cv.get(this)[e](...s))}),n}};async function*RM(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,IM);for(Cv.set(n,e),Cd.set(n,yp(e));e;)yield n,e=await(vp.get(n)||e.continue()),vp.delete(n)}function Ov(t,e){return e===Symbol.asyncIterator&&fp(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&fp(t,[IDBIndex,IDBObjectStore])}Ev(t=>({...t,get(e,n,s){return Ov(e,n)?RM:t.get(e,n,s)},has(e,n){return Ov(e,n)||t.has(e,n)}}));var LM=Pv;function Pv(t,e,n){t instanceof RegExp&&(t=Iv(t,n)),e instanceof RegExp&&(e=Iv(e,n));var s=Rv(t,e,n);return s&&{start:s[0],end:s[1],pre:n.slice(0,s[0]),body:n.slice(s[0]+t.length,s[1]),post:n.slice(s[1]+e.length)}}function Iv(t,e){var n=e.match(t);return n?n[0]:null}Pv.range=Rv;function Rv(t,e,n){var s,r,i,o,a,c=n.indexOf(t),l=n.indexOf(e,c+1),u=c;if(c>=0&&l>0){if(t===e)return[c,l];for(s=[],i=n.length;u>=0&&!a;)u==c?(s.push(u),c=n.indexOf(t,u+1)):s.length==1?a=[s.pop(),l]:(r=s.pop(),r<i&&(i=r,o=l),l=n.indexOf(e,u+1)),u=c<l&&c>=0?c:l;s.length&&(a=[i,o])}return a}var Lv=LM,NM=jM,Nv="\0SLASH"+Math.random()+"\0",Fv="\0OPEN"+Math.random()+"\0",wp="\0CLOSE"+Math.random()+"\0",Bv="\0COMMA"+Math.random()+"\0",jv="\0PERIOD"+Math.random()+"\0";function _p(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function FM(t){return t.split("\\\\").join(Nv).split("\\{").join(Fv).split("\\}").join(wp).split("\\,").join(Bv).split("\\.").join(jv)}function BM(t){return t.split(Nv).join("\\").split(Fv).join("{").split(wp).join("}").split(Bv).join(",").split(jv).join(".")}function $v(t){if(!t)return[""];var e=[],n=Lv("{","}",t);if(!n)return t.split(",");var s=n.pre,r=n.body,i=n.post,o=s.split(",");o[o.length-1]+="{"+r+"}";var a=$v(i);return i.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function jM(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),sl(FM(t),!0).map(BM)):[]}function $M(t){return"{"+t+"}"}function HM(t){return/^-?0\d/.test(t)}function WM(t,e){return t<=e}function VM(t,e){return t>=e}function sl(t,e){var n=[],s=Lv("{","}",t);if(!s)return[t];var r=s.pre,i=s.post.length?sl(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<i.length;o++){var a=r+"{"+s.body+"}"+i[o];n.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),u=c||l,h=s.body.indexOf(",")>=0;if(!u&&!h)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+wp+s.post,sl(t)):[t];var d;if(u)d=s.body.split(/\.\./);else if(d=$v(s.body),d.length===1&&(d=sl(d[0],!1).map($M),d.length===1))return i.map(function(D){return s.pre+d[0]+D});var p;if(u){var g=_p(d[0]),f=_p(d[1]),m=Math.max(d[0].length,d[1].length),y=d.length==3?Math.abs(_p(d[2])):1,w=WM,v=f<g;v&&(y*=-1,w=VM);var b=d.some(HM);p=[];for(var T=g;w(T,f);T+=y){var _;if(l)_=String.fromCharCode(T),_==="\\"&&(_="");else if(_=String(T),b){var S=m-_.length;if(S>0){var x=new Array(S+1).join("0");T<0?_="-"+x+_.slice(1):_=x+_}}p.push(_)}}else{p=[];for(var E=0;E<d.length;E++)p.push.apply(p,sl(d[E],!1))}for(var E=0;E<p.length;E++)for(var o=0;o<i.length;o++){var a=r+p[E]+i[o];(!e||u||a)&&n.push(a)}}return n}const UM=On(NM),zM=1024*64,Od=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>zM)throw new TypeError("pattern is too long")},qM={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},rl=t=>t.replace(/[[\]\\-]/g,"\\$&"),YM=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Hv=t=>t.join(""),GM=(t,e)=>{const n=e;if(t.charAt(n)!=="[")throw new Error("not in a brace expression");const s=[],r=[];let i=n+1,o=!1,a=!1,c=!1,l=!1,u=n,h="";e:for(;i<t.length;){const f=t.charAt(i);if((f==="!"||f==="^")&&i===n+1){l=!0,i++;continue}if(f==="]"&&o&&!c){u=i+1;break}if(o=!0,f==="\\"&&!c){c=!0,i++;continue}if(f==="["&&!c){for(const[m,[y,w,v]]of Object.entries(qM))if(t.startsWith(m,i)){if(h)return["$.",!1,t.length-n,!0];i+=m.length,v?r.push(y):s.push(y),a=a||w;continue e}}if(c=!1,h){f>h?s.push(rl(h)+"-"+rl(f)):f===h&&s.push(rl(f)),h="",i++;continue}if(t.startsWith("-]",i+1)){s.push(rl(f+"-")),i+=2;continue}if(t.startsWith("-",i+1)){h=f,i+=2;continue}s.push(rl(f)),i++}if(u<i)return["",!1,0,!1];if(!s.length&&!r.length)return["$.",!1,t.length-n,!0];if(r.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!l){const f=s[0].length===2?s[0].slice(-1):s[0];return[YM(f),!1,u-n,!1]}const d="["+(l?"^":"")+Hv(s)+"]",p="["+(l?"":"^")+Hv(r)+"]";return[s.length&&r.length?"("+d+"|"+p+")":s.length?d:p,a,u-n,!0]},il=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),KM=new Set(["!","?","+","*","@"]),Wv=t=>KM.has(t),ZM="(?!(?:^|/)\\.\\.?(?:$|/))",xp="(?!\\.)",QM=new Set(["[","."]),XM=new Set(["..","."]),JM=new Set("().*{}+?[]^$\\!"),eD=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ap="[^/]",Vv=Ap+"*?",Uv=Ap+"+?",Wn=class Wn{constructor(e,n,s={}){Se(this,Fo);te(this,"type");Se(this,on);Se(this,hn);Se(this,Yr,!1);Se(this,$t,[]);Se(this,nn);Se(this,Ti);Se(this,Lo);Se(this,ki,!1);Se(this,pr);Se(this,No);Se(this,tu,!1);this.type=e,e&&le(this,hn,!0),le(this,nn,n),le(this,on,O(this,nn)?O(O(this,nn),on):this),le(this,pr,O(this,on)===this?s:O(O(this,on),pr)),le(this,Lo,O(this,on)===this?[]:O(O(this,on),Lo)),e==="!"&&!O(O(this,on),ki)&&O(this,Lo).push(this),le(this,Ti,O(this,nn)?O(O(this,nn),$t).length:0)}get hasMagic(){if(O(this,hn)!==void 0)return O(this,hn);for(const e of O(this,$t))if(typeof e!="string"&&(e.type||e.hasMagic))return le(this,hn,!0);return O(this,hn)}toString(){return O(this,No)!==void 0?O(this,No):this.type?le(this,No,this.type+"("+O(this,$t).map(e=>String(e)).join("|")+")"):le(this,No,O(this,$t).map(e=>String(e)).join(""))}push(...e){for(const n of e)if(n!==""){if(typeof n!="string"&&!(n instanceof Wn&&O(n,nn)===this))throw new Error("invalid part: "+n);O(this,$t).push(n)}}toJSON(){var n;const e=this.type===null?O(this,$t).slice().map(s=>typeof s=="string"?s:s.toJSON()):[this.type,...O(this,$t).map(s=>s.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===O(this,on)||O(O(this,on),ki)&&((n=O(this,nn))==null?void 0:n.type)==="!")&&e.push({}),e}isStart(){var n;if(O(this,on)===this)return!0;if(!((n=O(this,nn))!=null&&n.isStart()))return!1;if(O(this,Ti)===0)return!0;const e=O(this,nn);for(let s=0;s<O(this,Ti);s++){const r=O(e,$t)[s];if(!(r instanceof Wn&&r.type==="!"))return!1}return!0}isEnd(){var n,s,r;if(O(this,on)===this||((n=O(this,nn))==null?void 0:n.type)==="!")return!0;if(!((s=O(this,nn))!=null&&s.isEnd()))return!1;if(!this.type)return(r=O(this,nn))==null?void 0:r.isEnd();const e=O(this,nn)?O(O(this,nn),$t).length:0;return O(this,Ti)===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){const n=new Wn(this.type,e);for(const s of O(this,$t))n.copyIn(s);return n}static fromGlob(e,n={}){var r;const s=new Wn(null,void 0,n);return qe(r=Wn,Ei,sf).call(r,e,s,0,n),s}toMMPattern(){if(this!==O(this,on))return O(this,on).toMMPattern();const e=this.toString(),[n,s,r,i]=this.toRegExpSource();if(!(r||O(this,hn)||O(this,pr).nocase&&!O(this,pr).nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return s;const a=(O(this,pr).nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${n}$`,a),{_src:n,_glob:e})}get options(){return O(this,pr)}toRegExpSource(e){var c;const n=e??!!O(this,pr).dot;if(O(this,on)===this&&qe(this,Fo,VA).call(this),!this.type){const l=this.isStart()&&this.isEnd(),u=O(this,$t).map(g=>{var v;const[f,m,y,w]=typeof g=="string"?qe(v=Wn,Ei,UA).call(v,g,O(this,hn),l):g.toRegExpSource(e);return le(this,hn,O(this,hn)||y),le(this,Yr,O(this,Yr)||w),f}).join("");let h="";if(this.isStart()&&typeof O(this,$t)[0]=="string"&&!(O(this,$t).length===1&&XM.has(O(this,$t)[0]))){const f=QM,m=n&&f.has(u.charAt(0))||u.startsWith("\\.")&&f.has(u.charAt(2))||u.startsWith("\\.\\.")&&f.has(u.charAt(4)),y=!n&&!e&&f.has(u.charAt(0));h=m?ZM:y?xp:""}let d="";return this.isEnd()&&O(O(this,on),ki)&&((c=O(this,nn))==null?void 0:c.type)==="!"&&(d="(?:$|\\/)"),[h+u+d,il(u),le(this,hn,!!O(this,hn)),O(this,Yr)]}const s=this.type==="*"||this.type==="+",r=this.type==="!"?"(?:(?!(?:":"(?:";let i=qe(this,Fo,km).call(this,n);if(this.isStart()&&this.isEnd()&&!i&&this.type!=="!"){const l=this.toString();return le(this,$t,[l]),this.type=null,le(this,hn,void 0),[l,il(this.toString()),!1,!1]}let o=!s||e||n?"":qe(this,Fo,km).call(this,!0);o===i&&(o=""),o&&(i=`(?:${i})(?:${o})*?`);let a="";if(this.type==="!"&&O(this,tu))a=(this.isStart()&&!n?xp:"")+Uv;else{const l=this.type==="!"?"))"+(this.isStart()&&!n&&!e?xp:"")+Vv+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=r+i+l}return[a,il(i),le(this,hn,!!O(this,hn)),O(this,Yr)]}};on=new WeakMap,hn=new WeakMap,Yr=new WeakMap,$t=new WeakMap,nn=new WeakMap,Ti=new WeakMap,Lo=new WeakMap,ki=new WeakMap,pr=new WeakMap,No=new WeakMap,tu=new WeakMap,Fo=new WeakSet,VA=function(){if(this!==O(this,on))throw new Error("should only call on root");if(O(this,ki))return this;this.toString(),le(this,ki,!0);let e;for(;e=O(this,Lo).pop();){if(e.type!=="!")continue;let n=e,s=O(n,nn);for(;s;){for(let r=O(n,Ti)+1;!s.type&&r<O(s,$t).length;r++)for(const i of O(e,$t)){if(typeof i=="string")throw new Error("string part in extglob AST??");i.copyIn(O(s,$t)[r])}n=s,s=O(n,nn)}}return this},Ei=new WeakSet,sf=function(e,n,s,r){var p,g;let i=!1,o=!1,a=-1,c=!1;if(n.type===null){let f=s,m="";for(;f<e.length;){const y=e.charAt(f++);if(i||y==="\\"){i=!i,m+=y;continue}if(o){f===a+1?(y==="^"||y==="!")&&(c=!0):y==="]"&&!(f===a+2&&c)&&(o=!1),m+=y;continue}else if(y==="["){o=!0,a=f,c=!1,m+=y;continue}if(!r.noext&&Wv(y)&&e.charAt(f)==="("){n.push(m),m="";const w=new Wn(y,n);f=qe(p=Wn,Ei,sf).call(p,e,w,f,r),n.push(w);continue}m+=y}return n.push(m),f}let l=s+1,u=new Wn(null,n);const h=[];let d="";for(;l<e.length;){const f=e.charAt(l++);if(i||f==="\\"){i=!i,d+=f;continue}if(o){l===a+1?(f==="^"||f==="!")&&(c=!0):f==="]"&&!(l===a+2&&c)&&(o=!1),d+=f;continue}else if(f==="["){o=!0,a=l,c=!1,d+=f;continue}if(Wv(f)&&e.charAt(l)==="("){u.push(d),d="";const m=new Wn(f,u);u.push(m),l=qe(g=Wn,Ei,sf).call(g,e,m,l,r);continue}if(f==="|"){u.push(d),d="",h.push(u),u=new Wn(null,n);continue}if(f===")")return d===""&&O(n,$t).length===0&&le(n,tu,!0),u.push(d),d="",n.push(...h,u),l;d+=f}return n.type=null,le(n,hn,void 0),le(n,$t,[e.substring(s-1)]),l},km=function(e){return O(this,$t).map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[s,r,i,o]=n.toRegExpSource(e);return le(this,Yr,O(this,Yr)||o),s}).filter(n=>!(this.isStart()&&this.isEnd())||!!n).join("|")},UA=function(e,n,s=!1){let r=!1,i="",o=!1;for(let a=0;a<e.length;a++){const c=e.charAt(a);if(r){r=!1,i+=(JM.has(c)?"\\":"")+c;continue}if(c==="\\"){a===e.length-1?i+="\\\\":r=!0;continue}if(c==="["){const[l,u,h,d]=GM(e,a);if(h){i+=l,o=o||u,a+=h-1,n=n||d;continue}}if(c==="*"){s&&e==="*"?i+=Uv:i+=Vv,n=!0;continue}if(c==="?"){i+=Ap,n=!0;continue}i+=eD(c)}return[i,il(e),!!n,o]},Se(Wn,Ei);let Pd=Wn;const tD=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),Bn=(t,e,n={})=>(Od(e),!n.nocomment&&e.charAt(0)==="#"?!1:new Id(e,n).match(t)),nD=/^\*+([^+@!?\*\[\(]*)$/,sD=t=>e=>!e.startsWith(".")&&e.endsWith(t),rD=t=>e=>e.endsWith(t),iD=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),oD=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),aD=/^\*+\.\*+$/,cD=t=>!t.startsWith(".")&&t.includes("."),lD=t=>t!=="."&&t!==".."&&t.includes("."),uD=/^\.\*+$/,dD=t=>t!=="."&&t!==".."&&t.startsWith("."),hD=/^\*+$/,fD=t=>t.length!==0&&!t.startsWith("."),pD=t=>t.length!==0&&t!=="."&&t!=="..",gD=/^\?+([^+@!?\*\[\(]*)?$/,mD=([t,e=""])=>{const n=zv([t]);return e?(e=e.toLowerCase(),s=>n(s)&&s.toLowerCase().endsWith(e)):n},yD=([t,e=""])=>{const n=qv([t]);return e?(e=e.toLowerCase(),s=>n(s)&&s.toLowerCase().endsWith(e)):n},bD=([t,e=""])=>{const n=qv([t]);return e?s=>n(s)&&s.endsWith(e):n},vD=([t,e=""])=>{const n=zv([t]);return e?s=>n(s)&&s.endsWith(e):n},zv=([t])=>{const e=t.length;return n=>n.length===e&&!n.startsWith(".")},qv=([t])=>{const e=t.length;return n=>n.length===e&&n!=="."&&n!==".."},Yv=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Gv={win32:{sep:"\\"},posix:{sep:"/"}},wD=Yv==="win32"?Gv.win32.sep:Gv.posix.sep;Bn.sep=wD;const _s=Symbol("globstar **");Bn.GLOBSTAR=_s;const _D="[^/]"+"*?",xD="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",AD="(?:(?!(?:\\/|^)\\.).)*?",SD=(t,e={})=>n=>Bn(n,t,e);Bn.filter=SD;const xs=(t,e={})=>Object.assign({},t,e),TD=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Bn;const e=Bn;return Object.assign((s,r,i={})=>e(s,r,xs(t,i)),{Minimatch:class extends e.Minimatch{constructor(r,i={}){super(r,xs(t,i))}static defaults(r){return e.defaults(xs(t,r)).Minimatch}},AST:class extends e.AST{constructor(r,i,o={}){super(r,i,xs(t,o))}static fromGlob(r,i={}){return e.AST.fromGlob(r,xs(t,i))}},unescape:(s,r={})=>e.unescape(s,xs(t,r)),escape:(s,r={})=>e.escape(s,xs(t,r)),filter:(s,r={})=>e.filter(s,xs(t,r)),defaults:s=>e.defaults(xs(t,s)),makeRe:(s,r={})=>e.makeRe(s,xs(t,r)),braceExpand:(s,r={})=>e.braceExpand(s,xs(t,r)),match:(s,r,i={})=>e.match(s,r,xs(t,i)),sep:e.sep,GLOBSTAR:_s})};Bn.defaults=TD;const Kv=(t,e={})=>(Od(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:UM(t));Bn.braceExpand=Kv;const kD=(t,e={})=>new Id(t,e).makeRe();Bn.makeRe=kD;const ED=(t,e,n={})=>{const s=new Id(e,n);return t=t.filter(r=>s.match(r)),s.options.nonull&&!t.length&&t.push(e),t};Bn.match=ED;const Zv=/[?*]|[+@!]\(.*?\)|\[|\]/,MD=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Id{constructor(e,n={}){te(this,"options");te(this,"set");te(this,"pattern");te(this,"windowsPathsNoEscape");te(this,"nonegate");te(this,"negate");te(this,"comment");te(this,"empty");te(this,"preserveMultipleSlashes");te(this,"partial");te(this,"globSet");te(this,"globParts");te(this,"nocase");te(this,"isWindows");te(this,"platform");te(this,"windowsNoMagicRoot");te(this,"regexp");Od(e),n=n||{},this.options=n,this.pattern=e,this.platform=n.platform||Yv,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const n of e)if(typeof n!="string")return!0;return!1}debug(...e){}make(){const e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,this.globSet);const s=this.globSet.map(i=>this.slashSplit(i));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let r=this.globParts.map((i,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){const c=i[0]===""&&i[1]===""&&(i[2]==="?"||!Zv.test(i[2]))&&!Zv.test(i[3]),l=/^[a-z]:/i.test(i[0]);if(c)return[...i.slice(0,4),...i.slice(4).map(u=>this.parse(u))];if(l)return[i[0],...i.slice(1).map(u=>this.parse(u))]}return i.map(c=>this.parse(c))});if(this.debug(this.pattern,r),this.set=r.filter(i=>i.indexOf(!1)===-1),this.isWindows)for(let i=0;i<this.set.length;i++){const o=this.set[i];o[0]===""&&o[1]===""&&this.globParts[i][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let s=0;s<e.length;s++)for(let r=0;r<e[s].length;r++)e[s][r]==="**"&&(e[s][r]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):n>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(n=>{let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let r=s;for(;n[r+1]==="**";)r++;r!==s&&n.splice(s,r-s)}return n})}levelOneOptimize(e){return e.map(n=>(n=n.reduce((s,r)=>{const i=s[s.length-1];return r==="**"&&i==="**"?s:r===".."&&i&&i!==".."&&i!=="."&&i!=="**"?(s.pop(),s):(s.push(r),s)},[]),n.length===0?[""]:n))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let r=1;r<e.length-1;r++){const i=e[r];r===1&&i===""&&e[0]===""||(i==="."||i==="")&&(n=!0,e.splice(r,1),r--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(n=!0,e.pop())}let s=0;for(;(s=e.indexOf("..",s+1))!==-1;){const r=e[s-1];r&&r!=="."&&r!==".."&&r!=="**"&&(n=!0,e.splice(s-1,2),s-=2)}}while(n);return e.length===0?[""]:e}firstPhasePreProcess(e){let n=!1;do{n=!1;for(let s of e){let r=-1;for(;(r=s.indexOf("**",r+1))!==-1;){let o=r;for(;s[o+1]==="**";)o++;o>r&&s.splice(r+1,o-r);let a=s[r+1];const c=s[r+2],l=s[r+3];if(a!==".."||!c||c==="."||c===".."||!l||l==="."||l==="..")continue;n=!0,s.splice(r,1);const u=s.slice(0);u[r]="**",e.push(u),r--}if(!this.preserveMultipleSlashes){for(let o=1;o<s.length-1;o++){const a=s[o];o===1&&a===""&&s[0]===""||(a==="."||a==="")&&(n=!0,s.splice(o,1),o--)}s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")&&(n=!0,s.pop())}let i=0;for(;(i=s.indexOf("..",i+1))!==-1;){const o=s[i-1];if(o&&o!=="."&&o!==".."&&o!=="**"){n=!0;const c=i===1&&s[i+1]==="**"?["."]:[];s.splice(i-1,2,...c),s.length===0&&s.push(""),i-=2}}}}while(n);return e}secondPhasePreProcess(e){for(let n=0;n<e.length-1;n++)for(let s=n+1;s<e.length;s++){const r=this.partsMatch(e[n],e[s],!this.preserveMultipleSlashes);if(r){e[n]=[],e[s]=r;break}}return e.filter(n=>n.length)}partsMatch(e,n,s=!1){let r=0,i=0,o=[],a="";for(;r<e.length&&i<n.length;)if(e[r]===n[i])o.push(a==="b"?n[i]:e[r]),r++,i++;else if(s&&e[r]==="**"&&n[i]===e[r+1])o.push(e[r]),r++;else if(s&&n[i]==="**"&&e[r]===n[i+1])o.push(n[i]),i++;else if(e[r]==="*"&&n[i]&&(this.options.dot||!n[i].startsWith("."))&&n[i]!=="**"){if(a==="b")return!1;a="a",o.push(e[r]),r++,i++}else if(n[i]==="*"&&e[r]&&(this.options.dot||!e[r].startsWith("."))&&e[r]!=="**"){if(a==="a")return!1;a="b",o.push(n[i]),r++,i++}else return!1;return e.length===n.length&&o}parseNegate(){if(this.nonegate)return;const e=this.pattern;let n=!1,s=0;for(let r=0;r<e.length&&e.charAt(r)==="!";r++)n=!n,s++;s&&(this.pattern=e.slice(s)),this.negate=n}matchOne(e,n,s=!1){const r=this.options;if(this.isWindows){const f=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),m=!f&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),y=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),w=!y&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3]),v=m?3:f?0:void 0,b=w?3:y?0:void 0;if(typeof v=="number"&&typeof b=="number"){const[T,_]=[e[v],n[b]];T.toLowerCase()===_.toLowerCase()&&(n[b]=T,b>v?n=n.slice(b):v>b&&(e=e.slice(v)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var o=0,a=0,c=e.length,l=n.length;o<c&&a<l;o++,a++){this.debug("matchOne loop");var u=n[a],h=e[o];if(this.debug(n,u,h),u===!1)return!1;if(u===_s){this.debug("GLOBSTAR",[n,u,h]);var d=o,p=a+1;if(p===l){for(this.debug("** at the end");o<c;o++)if(e[o]==="."||e[o]===".."||!r.dot&&e[o].charAt(0)===".")return!1;return!0}for(;d<c;){var g=e[d];if(this.debug(`
globstar while`,e,d,n,p,g),this.matchOne(e.slice(d),n.slice(p),s))return this.debug("globstar found match!",d,c,g),!0;if(g==="."||g===".."||!r.dot&&g.charAt(0)==="."){this.debug("dot detected!",e,d,n,p);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(s&&(this.debug(`
>>> no match, partial?`,e,d,n,p),d===c))}let f;if(typeof u=="string"?(f=h===u,this.debug("string match",u,h,f)):(f=u.test(h),this.debug("pattern match",u,h,f)),!f)return!1}if(o===c&&a===l)return!0;if(o===c)return s;if(a===l)return o===c-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return Kv(this.pattern,this.options)}parse(e){Od(e);const n=this.options;if(e==="**")return _s;if(e==="")return"";let s,r=null;(s=e.match(hD))?r=n.dot?pD:fD:(s=e.match(nD))?r=(n.nocase?n.dot?oD:iD:n.dot?rD:sD)(s[1]):(s=e.match(gD))?r=(n.nocase?n.dot?yD:mD:n.dot?bD:vD)(s):(s=e.match(aD))?r=n.dot?lD:cD:(s=e.match(uD))&&(r=dD);const i=Pd.fromGlob(e,this.options).toMMPattern();return r&&typeof i=="object"&&Reflect.defineProperty(i,"test",{value:r}),i}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const n=this.options,s=n.noglobstar?_D:n.dot?xD:AD,r=new Set(n.nocase?["i"]:[]);let i=e.map(c=>{const l=c.map(u=>{if(u instanceof RegExp)for(const h of u.flags.split(""))r.add(h);return typeof u=="string"?MD(u):u===_s?_s:u._src});return l.forEach((u,h)=>{const d=l[h+1],p=l[h-1];u!==_s||p===_s||(p===void 0?d!==void 0&&d!==_s?l[h+1]="(?:\\/|"+s+"\\/)?"+d:l[h]=s:d===void 0?l[h-1]=p+"(?:\\/|"+s+")?":d!==_s&&(l[h-1]=p+"(?:\\/|\\/"+s+"\\/)"+d,l[h+1]=_s))}),l.filter(u=>u!==_s).join("/")}).join("|");const[o,a]=e.length>1?["(?:",")"]:["",""];i="^"+o+i+a+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...r].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;const s=this.options;this.isWindows&&(e=e.split("\\").join("/"));const r=this.slashSplit(e);this.debug(this.pattern,"split",r);const i=this.set;this.debug(this.pattern,"set",i);let o=r[r.length-1];if(!o)for(let a=r.length-2;!o&&a>=0;a--)o=r[a];for(let a=0;a<i.length;a++){const c=i[a];let l=r;if(s.matchBase&&c.length===1&&(l=[o]),this.matchOne(l,c,n))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(e){return Bn.defaults(e).Minimatch}}Bn.AST=Pd,Bn.Minimatch=Id,Bn.escape=tD,Bn.unescape=il;const Rd=()=>kt().uuid(),DD=/^(?=.{1,255}$)[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?(?:\.[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?)*\.?$/,Qv=()=>kt().regex(DD);ws({id:Rd(),host:Qv(),startedAt:Yt().positive(),endedAt:Yt().nullable().optional()}).strict();const Xv=ws({id:Rd(),sessionId:Rd(),adUrl:kt().url(),timestamp:Yt().positive().describe("The time in ms since 1970 that this ad was seen at")}).strict(),CD=Xv.extend({type:xa(["image"]),additionalDetails:ws({width:Yt().nonnegative(),height:Yt().nonnegative()})}).strict(),OD=Xv.extend({type:xa(["iframe"]),additionalDetails:ws({width:Yt().nonnegative(),height:Yt().nonnegative()})}).strict();up([CD,OD]);const Sp=Rd,Jv=Qv,Tp=()=>Ed().nullable().optional(),kp=()=>Ed().nullable().optional();ws({id:Sp(),host:Jv(),startedAt:Yt().positive(),endedAt:Yt().nullable().optional(),imported:Tp(),generated:kp()}).strict();const ew=ws({id:kt(),sessionId:Sp(),timestamp:Yt().positive().describe("The time in ms since 1970 that this ad was seen at"),imported:Tp()}).strict(),PD=ew.extend({type:xa(["basic-display"]),details:ws({type:xa(["image","iframe"]),url:kt().url().describe("The URL the ad is accessible at"),width:Yt().nonnegative(),height:Yt().nonnegative()}).strict()}),ID=()=>_v(kt(),wv()),RD=ew.extend({type:xa(["youtube/hulu/vast","pathmatics"]),details:ID()}),LD=up([PD,RD]),Ep=Sp,Mp=Tp,ND=kp,Dp=()=>Jv().describe("The mobile app bundle ID or website hostname"),FD=ws({id:Ep(),appId:Dp(),createdBy:kt({description:"The install id that created the session"}),startedAt:Yt().positive(),endedAt:Yt(),imported:Mp(),generated:ND()}).strict(),BD=ws({id:Ep(),appId:Dp(),createdBy:kt(),startedAt:Yt().positive(),endedAt:Yt().nullable().optional(),imported:Mp(),generated:kp()}).strict(),jD=LD,tw=Ep,nw=Mp,sw=Dp,$D=FD,HD=BD,WD=ws({id:tw(),appId:sw(),path:kt().startsWith("/"),query:kt().optional(),referrer:kt().nullish(),createdBy:kt(),startedAt:Yt().positive(),endedAt:Yt(),imported:nw(),adNetwork:kt().optional(),utmSource:kt().optional(),utmMedium:kt().optional(),utmCampaign:kt().optional(),utmTerm:kt().optional()}).strict(),VD=ws({id:tw(),appId:sw(),path:kt().startsWith("/"),query:kt().optional(),referrer:kt().nullish(),createdBy:kt(),startedAt:Yt().positive(),endedAt:Yt().nullish(),imported:nw(),adNetwork:kt().optional(),utmSource:kt().optional(),utmMedium:kt().optional(),utmCampaign:kt().optional(),utmTerm:kt().optional()}).strict(),UD=jD,zD=$D,rw=HD,qD=WD,YD=VD,iw=UD;class Cp{constructor(e,n){this.db=e,this.storeName=n}async deleteAll(){const n=(await this.db).transaction(this.storeName,"readwrite");let s=await n.objectStore(this.storeName).openCursor();for(;s;)await s.delete(),s=await s.continue();await n.done}async findAll(){return await(await this.db).getAll(this.storeName)}}var GD=Object.defineProperty,KD=(t,e,n)=>e in t?GD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ol=(t,e,n)=>KD(t,typeof e!="symbol"?e+"":e,n);const yo=class rf extends Cp{constructor(e){super(e.db,rf.STORE_NAME_LATEST),this.config=e}async findAds(e,n){return await(await this.db).getAllFromIndex(this.storeName,rf.INDEX_TIMESTAMP,IDBKeyRange.bound(e,n,!1,!0))}async findAdsForSession(e){return await(await this.db).getAllFromIndex(this.storeName,rf.INDEX_SESSION_ID,e)}async upsertAd(e){var r,i;const n=await this.db,s=iw.parse(e);return(i=(r=this.config).onAdUpserted)==null||i.call(r,s),await n.put(this.storeName,s),s}};ol(yo,"STORE_NAME_1","ads"),ol(yo,"STORE_NAME_2","ads-2"),ol(yo,"STORE_NAME_LATEST",yo.STORE_NAME_2),ol(yo,"INDEX_SESSION_ID","idx_ad_sessionId"),ol(yo,"INDEX_TIMESTAMP","idx_ad_timestamp");let jn=yo;var ZD=Object.defineProperty,QD=(t,e,n)=>e in t?ZD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ld=(t,e,n)=>QD(t,typeof e!="symbol"?e+"":e,n);const Op=-1;function XD(t){return{id:t.id,appId:t.appId,path:t.path,referrer:t.referrer,query:t.query,createdBy:t.createdBy,endedAt:t.endedAt??Op,startedAt:t.startedAt,imported:t.imported,adNetwork:t.adNetwork,utmSource:t.utmSource,utmMedium:t.utmMedium,utmCampaign:t.utmCampaign,utmTerm:t.utmTerm}}function Nd(t){return{id:t.id,appId:t.appId,path:t.path,query:t.query,referrer:t.referrer,createdBy:t.createdBy,endedAt:t.endedAt===Op?null:t.endedAt,startedAt:t.startedAt,imported:t.imported,adNetwork:t.adNetwork,utmSource:t.utmSource,utmMedium:t.utmMedium,utmCampaign:t.utmCampaign,utmTerm:t.utmTerm}}const Aa=class Cu extends Cp{constructor(e){super(e.db,Cu.STORE_NAME_LATEST),this.config=e}async startPageView(e){const n=await this.db,s=YD.parse({...e,id:nl(),createdBy:await this.config.getInstallId(),endedAt:void 0}),r=XD(s);return await n.add(this.storeName,r),s}async endPageView(e,n){const s=await this.db,r=await s.get(this.storeName,e.id);if(r==null)throw Error(`Cannot update: PageView not found with id=${e.id}`);const i={...r,endedAt:n};return await s.put(this.storeName,i),Nd(i)}async getActivePageViews(){return(await(await this.db).getAllFromIndex(this.storeName,Cu.INDEX_ENDED_AT,Op)).map(Nd)}async findPageViewsByStartedAt(e,n){return(await(await this.db).getAllFromIndex(this.storeName,Cu.INDEX_STARTED_AT,IDBKeyRange.bound(e,n,!1,!0))).map(Nd)}async findPageViewsByEndedAt(e,n){return(await(await this.db).getAllFromIndex(this.storeName,Cu.INDEX_ENDED_AT,IDBKeyRange.bound(e,n,!1,!0))).map(Nd)}async deleteAllGeneratedPageViews(){const n=(await this.db).transaction(this.storeName,"readwrite");let s=await n.store.openCursor();for(;s;)s.value.imported&&await s.delete(),s=await s.continue();await n.done}};Ld(Aa,"STORE_NAME_1","page_views"),Ld(Aa,"STORE_NAME_LATEST",Aa.STORE_NAME_1),Ld(Aa,"INDEX_ENDED_AT","idx_page_view_endedAt"),Ld(Aa,"INDEX_STARTED_AT","idx_page_view_startedAt");let al=Aa;var JD=Object.defineProperty,eC=(t,e,n)=>e in t?JD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cl=(t,e,n)=>eC(t,typeof e!="symbol"?e+"":e,n);const Pp=-1;function ow(t){return{id:t.id,appId:t.appId,createdBy:t.createdBy,endedAt:t.endedAt??Pp,startedAt:t.startedAt,imported:t.imported,generated:t.generated}}function bo(t){return{id:t.id,appId:t.appId,createdBy:t.createdBy,endedAt:t.endedAt===Pp?null:t.endedAt,startedAt:t.startedAt,imported:t.imported,generated:t.generated}}const vo=class Ki extends Cp{constructor(e){super(e.db,Ki.STORE_NAME_LATEST),this.config=e}async startSession(e){const n=await this.db,s=rw.parse({...e,id:nl(),createdBy:await this.config.getInstallId(),endedAt:void 0}),r=ow(s);return await n.add(this.storeName,r),s}async createSessions(e){const n=await this.db,s=await this.config.getInstallId(),r=n.transaction(Ki.STORE_NAME_LATEST,"readwrite"),i=r.objectStore(Ki.STORE_NAME_LATEST),o=e.map(c=>rw.parse({...c,id:nl(),createdBy:s})),a=o.map(ow);return await Promise.all([...a.map(c=>i.add(c)),r.done]),o}async endSession(e,n){var o,a;const s=await this.db;n-e.startedAt>=6*vM&&((a=(o=this.config).onLongSessionDetected)==null||a.call(o,e,n),n=e.startedAt+10*hp);const r=await s.get(this.storeName,e.id);if(r==null)throw Error(`Cannot update: Session not found with id=${e.id}`);const i={...r,endedAt:n};return await s.put(this.storeName,i),bo(i)}async findAllSessions(){return(await super.findAll()).map(bo)}async findSessions(e,n){return(await(await this.db).getAllFromIndex(this.storeName,Ki.INDEX_STARTED_AT,IDBKeyRange.bound(e,n,!1,!0))).map(bo)}async findSessionsByEndedAt(e,n){return(await(await this.db).getAllFromIndex(this.storeName,Ki.INDEX_ENDED_AT,IDBKeyRange.bound(e,n,!1,!0))).map(bo)}async findOldestSession(){const s=(await(await this.db).getAllFromIndex(this.storeName,Ki.INDEX_STARTED_AT,IDBKeyRange.lowerBound(0,!0))).shift();return s?bo(s):void 0}async getSession(e){const s=await(await this.db).get(this.storeName,e);if(s==null)throw Error(`No session with id=${e} was found`);return bo(s)}async getActiveSessions(){return(await(await this.db).getAllFromIndex(this.storeName,Ki.INDEX_ENDED_AT,Pp)).map(bo)}async deleteAllGeneratedSessions(){const n=(await this.db).transaction(this.storeName,"readwrite");let s=await n.store.openCursor();for(;s;){const r=s.value;(r.imported||r.generated)&&await s.delete(),s=await s.continue()}await n.done}};cl(vo,"STORE_NAME_1","sessions"),cl(vo,"STORE_NAME_2","sessions_2"),cl(vo,"STORE_NAME_LATEST",vo.STORE_NAME_2),cl(vo,"INDEX_ENDED_AT","idx_session_endedAt"),cl(vo,"INDEX_STARTED_AT","idx_session_startedAt");let An=vo;var bn=(t=>(t[t.V2=2]="V2",t[t.V3=3]="V3",t[t.V4=4]="V4",t[t.V5=5]="V5",t[t.V6=6]="V6",t[t.V7=7]="V7",t[t.V8=8]="V8",t))(bn||{});const tC=Ee.object({version:Ee.nativeEnum(bn),stores:Ee.object({[An.STORE_NAME_LATEST]:Ee.array(zD).optional(),[al.STORE_NAME_LATEST]:Ee.array(qD).optional(),[jn.STORE_NAME_LATEST]:Ee.array(iw).optional()})});Ee.object({version:Ee.nativeEnum(bn),stores:Ee.record(Ee.string(),Ee.array(Ee.any()))});async function nC(t){const e=await t,n={version:e.version,stores:{}},s=Sv(e),r=e.transaction(s,"readonly");for(const i of s){const a=await r.objectStore(i).getAll();a.forEach(c=>{delete c.imported}),n.stores[i]=a}return await r.done,n}function sC(t,e){return{...t,id:nl(),sessionId:e}}function rC(t){return{...t,id:nl()}}function aw(t){return{id:t.id,sessionId:t.sessionId,timestamp:t.timestamp,type:"basic-display",details:{type:t.type,height:t.additionalDetails.height,width:t.additionalDetails.width,url:t.adUrl}}}function Fd(t,e){return{id:t.id,appId:t.host,createdBy:e,startedAt:t.startedAt,endedAt:t.endedAt??-1,imported:t.imported,generated:t.generated}}async function iC({dbPromise:t,usageBackup:e,logger:n,getInstallId:s}){const r=await t;n==null||n.debug("[import-backup] Importing...",e);const i=await s(),o=await tC.parseAsync(await cw(e,r.version,{installId:i})),a=Sv(r),c=r.transaction(a,"readwrite");for(const l of a){const u=o.stores[l];if(u!=null&&u.length){const h=c.objectStore(l);for(const d of u)n==null||n.debug(`[import-backup]: ${l}:`,d),await h.put({...d,imported:!0})}}await c.done}const Ip=t=>e=>({...e,version:t}),oC=()=>t=>t,aC=t=>{var e;return{version:bn.V4,stores:{[An.STORE_NAME_2]:t.stores[An.STORE_NAME_2],[jn.STORE_NAME_2]:(e=t.stores[jn.STORE_NAME_2])==null?void 0:e.map(aw)}}},cC=(t,{installId:e})=>{var n;return{version:bn.V6,stores:{[An.STORE_NAME_2]:(n=t.stores[An.STORE_NAME_2])==null?void 0:n.map(s=>Fd(s,e)),[jn.STORE_NAME_2]:t.stores[jn.STORE_NAME_2]}}},lC=(t,{installId:e})=>{var n;return{version:bn.V7,stores:{[An.STORE_NAME_2]:(n=t.stores[An.STORE_NAME_2])==null?void 0:n.map(s=>"host"in s?Fd(s,e):s),[jn.STORE_NAME_2]:t.stores[jn.STORE_NAME_2]}}},uC={[bn.V2]:Ip(bn.V3),[bn.V3]:aC,[bn.V4]:Ip(bn.V5),[bn.V5]:cC,[bn.V6]:lC,[bn.V7]:Ip(bn.V8),[bn.V8]:oC()};async function cw(t,e,n){if(t.version>e)throw Error(`Failed to upgrade backup version ${t.version}, version not supported`);if(t.version===e)return t;const s=uC[t.version];if(s==null)throw Error(`Failed to upgrade backup version ${t.version}, version not supported`);const r=await s(t,n);return await cw(r,e,n)}async function dC({db:t,tx:e}){const n=e.objectStore(An.STORE_NAME_1),s=e.objectStore(An.STORE_NAME_2),r=e.objectStore(jn.STORE_NAME_1),i=e.objectStore(jn.STORE_NAME_2),o=await n.index(An.INDEX_STARTED_AT).getAll();for(const a of o){const c=rC(a);await s.add(c);const l=await r.index(jn.INDEX_SESSION_ID).getAll(a.id);for(const u of l){const h=sC(u,c.id);await i.add(h)}}t.deleteObjectStore(n.name),t.deleteObjectStore(r.name)}async function hC({tx:t}){const e=t.objectStore(jn.STORE_NAME_2),n=await e.getAll();for(const s of n){const r=aw(s);await e.put(r)}}async function fC({tx:t,ctx:e}){const n=t.objectStore(An.STORE_NAME_2),s=await n.getAll();for(const r of s){const i=Fd(r,e.installId);await n.put(i)}}async function pC({tx:t,ctx:e}){const n=t.objectStore(An.STORE_NAME_2),s=await n.getAll();for(const r of s)if("host"in r){const i=Fd(r,e.installId);await n.put(i)}}const ll=()=>{},gC=[ll,ll,ll,dC,hC,ll,fC,pC,ll];async function mC(t,{logger:e}){if(t.oldVersion===0||t.newVersion==null)return;const n=t.oldVersion+1,s=t.newVersion,r=gC.slice(n,s+1);if(r.length!==0)for(const i of r)await i(t)}function Sa(t,e,n,s){return t.indexNames.contains(e)?t.index(e):t.createIndex(e,n,s)}function Rp({db:t,tx:e},n,s){return t.objectStoreNames.contains(n)?e.objectStore(n):t.createObjectStore(n,s)}const yC=bn.V8;async function bC(t){const e=await t.getInstallId();return DM("UsageSdkDb",yC,{async upgrade(n,s,r,i){const o={db:n,oldVersion:s,newVersion:r,tx:i,ctx:{installId:e}};vC(o),await mC(o,{logger:null})}})}function vC(t){const e=Rp(t,An.STORE_NAME_LATEST,{keyPath:"id"});Sa(e,An.INDEX_STARTED_AT,"startedAt",{unique:!1}),Sa(e,An.INDEX_ENDED_AT,"endedAt",{unique:!1});const n=Rp(t,al.STORE_NAME_LATEST,{keyPath:"id"});Sa(n,al.INDEX_STARTED_AT,"startedAt",{unique:!1}),Sa(n,al.INDEX_ENDED_AT,"endedAt",{unique:!1});const s=Rp(t,jn.STORE_NAME_LATEST,{keyPath:"id"});Sa(s,jn.INDEX_SESSION_ID,"sessionId",{unique:!1}),Sa(s,jn.INDEX_TIMESTAMP,"timestamp",{unique:!1})}function wC(t){const e=bC(t),n=t.logger===void 0?console:t.logger;return{indexedDb:e,sessionsRepo:new An({db:e,...t}),pageViewsRepo:new al({db:e,...t}),adsRepo:new jn({db:e,...t}),exportBackup:()=>nC(e),importBackup:s=>iC({dbPromise:e,usageBackup:s,getInstallId:t.getInstallId,logger:n})}}var _C=Object.defineProperty,xC=(t,e,n)=>e in t?_C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sn=(t,e,n)=>xC(t,typeof e!="symbol"?e+"":e,n);const Bd=class Ou{constructor(e,n){Sn(this,"sessionsRepo"),Sn(this,"pageViewsRepo"),Sn(this,"logger"),Sn(this,"lastAlivePing"),Sn(this,"startupPromise"),Sn(this,"allowSessionUpdates"),Sn(this,"startupTimeoutId"),Sn(this,"sessionUpdatedListeners",[]),Sn(this,"pageViewUpdatedListeners",[]),Sn(this,"checkSessionsListeners",[]),Sn(this,"latestTriggerId",0),Sn(this,"startedAtTimestamp",Date.now()),Sn(this,"updateSessions",_M(async i=>{var c,l,u;const o=`[update-sessions] [${i.triggerId}]`;if((c=this.logger)==null||c.debug(`${o} Waiting for startup to stop previous sessions...`),await this.startupPromise,(l=this.logger)==null||l.debug(`${o} Processing @ ${new Date(i.timestamp).toLocaleTimeString()}`),this.pingLastAliveAt(),this.invokeCheckSessionsListeners(),await this.enabled()){const h=this.logger?new bM(this.logger.debug.bind(this.logger)):void 0,d=await this.getComputeDependencies();h==null||h.log(`${o} Got required data after {duration}`);const p=await this.findSessionChanges(i,d);h==null||h.log(`${o} Computed session changes after {duration}`);const g=await this.findPageViewChanges(i,d);h==null||h.log(`${o} Computed page view changes after {duration}`),await this.saveSessionChanges(i.timestamp,p),h==null||h.log(`${o} Session changes committed to the database after {duration}`),await this.savePageViewChanges(i.timestamp,g),h==null||h.log(`${o} Page view changes committed to the database after {duration}`)}else await this.endAllActiveSessions(Date.now());(u=this.logger)==null||u.log(`${o} Done`)})),this.sessionsRepo=e.sessionsRepo,this.pageViewsRepo=e.pageViewsRepo,this.updateSessions=this.updateSessions.bind(this),n===void 0?this.logger=console:this.logger=n;const[s,r]=xM();this.startupPromise=s,this.allowSessionUpdates=r}setupTriggers(){this.setupCustomTriggers(),this.addStartupTimeout()}addSessionUpdatedListener(e){this.sessionUpdatedListeners.push(e)}addPageViewUpdatedListener(e){this.pageViewUpdatedListeners.push(e)}addCheckSessionsListener(e){this.checkSessionsListeners.push(e)}triggerStartup(e,n){clearTimeout(this.startupTimeoutId),this.startupTimeoutId=void 0,this.startupFlow({cleanupSessions:n,trigger:e,timestamp:this.startedAtTimestamp})}addStartupTimeout(){this.startupTimeoutId=setTimeout(()=>this.triggerStartup("setTimeout",!1),Ou.ALWAYS_STARTUP_AFTER_MS)}triggerSessionCheck(e,n=Date.now()){var r;const s=this.latestTriggerId++;return(r=this.logger)==null||r.log(`[update-sessions] [${s}] Queued by ${e} @ ${new Date(n).toLocaleTimeString()}`),this.updateSessions({timestamp:n,triggerId:s,triggeredBy:e})}async startupFlow({cleanupSessions:e,trigger:n,timestamp:s}){e&&await this.cleanupActiveSessions(s),await this.pingLastAliveAt(!0),await wM().then(()=>this.allowSessionUpdates()),await this.triggerSessionCheck(n,s)}async cleanupActiveSessions(e){var i,o,a,c,l;const n=await this.getLastAliveAt();if((i=this.logger)==null||i.debug("[on-startup] onStartup()",{lastActivity:n&&new Date(n).toISOString(),now:new Date(e).toISOString()}),n==null){(o=this.logger)==null||o.error("lastActivity was not set yet");return}(a=this.logger)==null||a.log("[on-startup] Ending sessions after quit...");const s=n+Ou.LAST_ALIVE_AT_POLL_INTERVAL_MS,r=Math.min(e,s);(c=this.logger)==null||c.log("[on-startup] Timing details:",{lastActivity:new Date(n).toISOString(),now:new Date(e).toISOString(),quitAt:new Date(s).toISOString(),endAt:new Date(r).toISOString()}),await this.endAllActiveSessions(r),(l=this.logger)==null||l.log("[on-startup] Startup finished!")}async saveSessionChanges(e,n){const s=n.toEnd.map(a=>{var u;const c=new Date(e).toLocaleTimeString();(u=this.logger)==null||u.log(`[change-session] Stop session ${a.appId} @ ${c} (${e-a.startedAt}ms)`);const l=e<a.startedAt?a.startedAt+Dd:e;return this.sessionsRepo.endSession(a,l)}),r=n.toStart.map(a=>{var c;return(c=this.logger)==null||c.log(`[change-session] Start session ${a.appId} @ ${new Date(a.startedAt).toLocaleTimeString()}`,{session:a}),this.sessionsRepo.startSession(a)}),i=await Promise.allSettled(s),o=await Promise.allSettled(r);this.logSettledErrors("sessions","ending",i),this.logSettledErrors("sessions","starting",o),n.count>0&&this.invokeSessionUpdatedListeners()}async savePageViewChanges(e,n){const s=n.toEnd.map(a=>{var l;const c=new Date(e).toLocaleTimeString();return(l=this.logger)==null||l.log(`[change-session] Stop page view ${a.appId}${a.path} @ ${c} (${e-a.startedAt}ms)`),this.pageViewsRepo.endPageView(a,e)}),r=n.toStart.map(a=>{var c;return(c=this.logger)==null||c.log(`[change-session] Start page view ${a.appId}${a.path} @ ${new Date(a.startedAt).toLocaleTimeString()}`,{session:a}),this.pageViewsRepo.startPageView(a)}),i=await Promise.allSettled(s),o=await Promise.allSettled(r);this.logSettledErrors("page views","ending",i),this.logSettledErrors("page views","starting",o),n.count>0&&this.invokePageViewUpdatedListeners()}logSettledErrors(e,n,s){var i;const r=s.map(o=>{if(o.status==="rejected")return o.reason}).filter(o=>o!=null);r.length>0&&((i=this.logger)==null||i.warn(`[update-sessions] ${r.length}/${s.length} transactions failed when ${n} ${e}`,r))}async endAllActiveSessions(e){var s,r,i;const n=await this.sessionsRepo.getActiveSessions();if(n.length===0){(s=this.logger)==null||s.log("[stop-active-sessions] No active sessions to stop");return}(r=this.logger)==null||r.log("[stop-active-sessions] Stopping all active sessions:",{activeSessions:n,timestamp:e}),await this.saveSessionChanges(e,{toStart:[],toEnd:n,count:n.length}),(i=this.logger)==null||i.log("[stop-active-sessions] All active sessions stopped!")}async pingLastAliveAt(e=!1){var r,i;const n=Date.now(),s=await this.getLastAliveAt()??n;!e&&Math.abs(n-s)>2*Ou.LAST_ALIVE_AT_INTERVAL_MS&&((r=this.logger)==null||r.debug("[SessionMonitor] Long ping interval detected. Cleaning up sessions."),await this.cleanupActiveSessions(n)),(i=this.logger)==null||i.debug("[SessionMonitor] Updating last time app was known to be open",n),await this.setLastAliveAt(n),clearTimeout(this.lastAlivePing),this.lastAlivePing=setTimeout(()=>this.pingLastAliveAt(),Ou.LAST_ALIVE_AT_POLL_INTERVAL_MS)}invokeCheckSessionsListeners(){this.checkSessionsListeners.forEach(e=>e())}invokeSessionUpdatedListeners(){this.sessionUpdatedListeners.forEach(e=>e())}invokePageViewUpdatedListeners(){this.pageViewUpdatedListeners.forEach(e=>e())}};Sn(Bd,"LAST_ALIVE_AT_INTERVAL_MS",hp),Sn(Bd,"ALWAYS_STARTUP_AFTER_MS",5*Dd),Sn(Bd,"LAST_ALIVE_AT_POLL_INTERVAL_MS",30*Dd);let jd=Bd;var lw={exports:{}};(function(t,e){(function(n,s){s(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:et,function(n){var s,r;if(!((r=(s=globalThis.chrome)==null?void 0:s.runtime)!=null&&r.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const i="The message port closed before a response was received.",o=a=>{const c={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(c).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class l extends WeakMap{constructor(E,D=void 0){super(D),this.createItem=E}get(E){return this.has(E)||this.set(E,this.createItem(E)),super.get(E)}}const u=x=>x&&typeof x=="object"&&typeof x.then=="function",h=(x,E)=>(...D)=>{a.runtime.lastError?x.reject(new Error(a.runtime.lastError.message)):E.singleCallbackArg||D.length<=1&&E.singleCallbackArg!==!1?x.resolve(D[0]):x.resolve(D)},d=x=>x==1?"argument":"arguments",p=(x,E)=>function(R,...N){if(N.length<E.minArgs)throw new Error(`Expected at least ${E.minArgs} ${d(E.minArgs)} for ${x}(), got ${N.length}`);if(N.length>E.maxArgs)throw new Error(`Expected at most ${E.maxArgs} ${d(E.maxArgs)} for ${x}(), got ${N.length}`);return new Promise(($,X)=>{if(E.fallbackToNoCallback)try{R[x](...N,h({resolve:$,reject:X},E))}catch(W){console.warn(`${x} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,W),R[x](...N),E.fallbackToNoCallback=!1,E.noCallback=!0,$()}else E.noCallback?(R[x](...N),$()):R[x](...N,h({resolve:$,reject:X},E))})},g=(x,E,D)=>new Proxy(E,{apply(R,N,$){return D.call(N,x,...$)}});let f=Function.call.bind(Object.prototype.hasOwnProperty);const m=(x,E={},D={})=>{let R=Object.create(null),N={has(X,W){return W in x||W in R},get(X,W,q){if(W in R)return R[W];if(!(W in x))return;let H=x[W];if(typeof H=="function")if(typeof E[W]=="function")H=g(x,x[W],E[W]);else if(f(D,W)){let L=p(W,D[W]);H=g(x,x[W],L)}else H=H.bind(x);else if(typeof H=="object"&&H!==null&&(f(E,W)||f(D,W)))H=m(H,E[W],D[W]);else if(f(D,"*"))H=m(H,E[W],D["*"]);else return Object.defineProperty(R,W,{configurable:!0,enumerable:!0,get(){return x[W]},set(L){x[W]=L}}),H;return R[W]=H,H},set(X,W,q,H){return W in R?R[W]=q:x[W]=q,!0},defineProperty(X,W,q){return Reflect.defineProperty(R,W,q)},deleteProperty(X,W){return Reflect.deleteProperty(R,W)}},$=Object.create(x);return new Proxy($,N)},y=x=>({addListener(E,D,...R){E.addListener(x.get(D),...R)},hasListener(E,D){return E.hasListener(x.get(D))},removeListener(E,D){E.removeListener(x.get(D))}}),w=new l(x=>typeof x!="function"?x:function(D){const R=m(D,{},{getContent:{minArgs:0,maxArgs:0}});x(R)}),v=new l(x=>typeof x!="function"?x:function(D,R,N){let $=!1,X,W=new Promise(se=>{X=function(ye){$=!0,se(ye)}}),q;try{q=x(D,R,X)}catch(se){q=Promise.reject(se)}const H=q!==!0&&u(q);if(q!==!0&&!H&&!$)return!1;const L=se=>{se.then(ye=>{N(ye)},ye=>{let Le;ye&&(ye instanceof Error||typeof ye.message=="string")?Le=ye.message:Le="An unexpected error occurred",N({__mozWebExtensionPolyfillReject__:!0,message:Le})}).catch(ye=>{console.error("Failed to send onMessage rejected reply",ye)})};return L(H?q:W),!0}),b=({reject:x,resolve:E},D)=>{a.runtime.lastError?a.runtime.lastError.message===i?E():x(new Error(a.runtime.lastError.message)):D&&D.__mozWebExtensionPolyfillReject__?x(new Error(D.message)):E(D)},T=(x,E,D,...R)=>{if(R.length<E.minArgs)throw new Error(`Expected at least ${E.minArgs} ${d(E.minArgs)} for ${x}(), got ${R.length}`);if(R.length>E.maxArgs)throw new Error(`Expected at most ${E.maxArgs} ${d(E.maxArgs)} for ${x}(), got ${R.length}`);return new Promise((N,$)=>{const X=b.bind(null,{resolve:N,reject:$});R.push(X),D.sendMessage(...R)})},_={devtools:{network:{onRequestFinished:y(w)}},runtime:{onMessage:y(v),onMessageExternal:y(v),sendMessage:T.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:T.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},S={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return c.privacy={network:{"*":S},services:{"*":S},websites:{"*":S}},m(a,_,c)};n.exports=o(chrome)}else n.exports=globalThis.browser})})(lw);var AC=lw.exports;const ut=On(AC),Lp=1e3;async function Np(t){return(await ut.storage.local.get(t))[t]??void 0}async function Ta(t,e){e===void 0?await ut.storage.local.remove(t):await ut.storage.local.set({[t]:e})}function SC(t,e){const n=s=>s[e];return t.reduce((s,r)=>{var o;const i=n(r);return s[i]=((o=s[i])==null?void 0:o.concat(r))??[r],s},{})}function TC(t,e){const n=s=>s[e];return t.reduce((s,r)=>{const i=n(r);return s[i]=r,s},{})}function kC(t){return t.state!=="docked"&&t.state!=="minimized"}function EC(t,e,n,s){return s&&t.audible||t.active&&e.focused&&kC(e)&&n}var $d={exports:{}};$d.exports,function(t,e){var n=200,s="__lodash_hash_undefined__",r=1,i=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",f="[object Map]",m="[object Number]",y="[object Null]",w="[object Object]",v="[object Promise]",b="[object Proxy]",T="[object RegExp]",_="[object Set]",S="[object String]",x="[object Symbol]",E="[object Undefined]",D="[object WeakMap]",R="[object ArrayBuffer]",N="[object DataView]",$="[object Float32Array]",X="[object Float64Array]",W="[object Int8Array]",q="[object Int16Array]",H="[object Int32Array]",L="[object Uint8Array]",se="[object Uint8ClampedArray]",ye="[object Uint16Array]",Le="[object Uint32Array]",Be=/[\\^$.*+?()[\]{}|]/g,st=/^\[object .+?Constructor\]$/,dt=/^(?:0|[1-9]\d*)$/,Ce={};Ce[$]=Ce[X]=Ce[W]=Ce[q]=Ce[H]=Ce[L]=Ce[se]=Ce[ye]=Ce[Le]=!0,Ce[a]=Ce[c]=Ce[R]=Ce[u]=Ce[N]=Ce[h]=Ce[d]=Ce[p]=Ce[f]=Ce[m]=Ce[w]=Ce[T]=Ce[_]=Ce[S]=Ce[D]=!1;var ft=typeof et=="object"&&et&&et.Object===Object&&et,ge=typeof self=="object"&&self&&self.Object===Object&&self,Et=ft||ge||Function("return this")(),Zt=e&&!e.nodeType&&e,ot=Zt&&!0&&t&&!t.nodeType&&t,Cs=ot&&ot.exports===Zt,I=Cs&&ft.process,F=function(){try{return I&&I.binding&&I.binding("util")}catch{}}(),U=F&&F.isTypedArray;function K(C,j){for(var Y=-1,pe=C==null?0:C.length,at=0,We=[];++Y<pe;){var ct=C[Y];j(ct,Y,C)&&(We[at++]=ct)}return We}function G(C,j){for(var Y=-1,pe=j.length,at=C.length;++Y<pe;)C[at+Y]=j[Y];return C}function Z(C,j){for(var Y=-1,pe=C==null?0:C.length;++Y<pe;)if(j(C[Y],Y,C))return!0;return!1}function ce(C,j){for(var Y=-1,pe=Array(C);++Y<C;)pe[Y]=j(Y);return pe}function ie(C){return function(j){return C(j)}}function ae(C,j){return C.has(j)}function J(C,j){return C==null?void 0:C[j]}function ke(C){var j=-1,Y=Array(C.size);return C.forEach(function(pe,at){Y[++j]=[at,pe]}),Y}function oe(C,j){return function(Y){return C(j(Y))}}function xe(C){var j=-1,Y=Array(C.size);return C.forEach(function(pe){Y[++j]=pe}),Y}var Me=Array.prototype,he=Function.prototype,ve=Object.prototype,ue=Et["__core-js_shared__"],Ne=he.toString,Ge=ve.hasOwnProperty,wt=function(){var C=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),Pe=ve.toString,we=RegExp("^"+Ne.call(Ge).replace(Be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Cs?Et.Buffer:void 0,Ct=Et.Symbol,_t=Et.Uint8Array,zn=ve.propertyIsEnumerable,au=Me.splice,Jn=Ct?Ct.toStringTag:void 0,qo=Object.getOwnPropertySymbols,Yo=Nt?Nt.isBuffer:void 0,Kr=oe(Object.keys,Object),br=_r(Et,"DataView"),Ks=_r(Et,"Map"),vr=_r(Et,"Promise"),as=_r(Et,"Set"),Zs=_r(Et,"WeakMap"),Qs=_r(Object,"create"),Go=tr(br),Ko=tr(Ks),Zr=tr(vr),Fi=tr(as),Zo=tr(Zs),Qo=Ct?Ct.prototype:void 0,cs=Qo?Qo.valueOf:void 0;function Xs(C){var j=-1,Y=C==null?0:C.length;for(this.clear();++j<Y;){var pe=C[j];this.set(pe[0],pe[1])}}function Bi(){this.__data__=Qs?Qs(null):{},this.size=0}function Xo(C){var j=this.has(C)&&delete this.__data__[C];return this.size-=j?1:0,j}function sc(C){var j=this.__data__;if(Qs){var Y=j[C];return Y===s?void 0:Y}return Ge.call(j,C)?j[C]:void 0}function Js(C){var j=this.__data__;return Qs?j[C]!==void 0:Ge.call(j,C)}function ls(C,j){var Y=this.__data__;return this.size+=this.has(C)?0:1,Y[C]=Qs&&j===void 0?s:j,this}Xs.prototype.clear=Bi,Xs.prototype.delete=Xo,Xs.prototype.get=sc,Xs.prototype.has=Js,Xs.prototype.set=ls;function us(C){var j=-1,Y=C==null?0:C.length;for(this.clear();++j<Y;){var pe=C[j];this.set(pe[0],pe[1])}}function cu(){this.__data__=[],this.size=0}function lu(C){var j=this.__data__,Y=Vi(j,C);if(Y<0)return!1;var pe=j.length-1;return Y==pe?j.pop():au.call(j,Y,1),--this.size,!0}function uu(C){var j=this.__data__,Y=Vi(j,C);return Y<0?void 0:j[Y][1]}function ds(C){return Vi(this.__data__,C)>-1}function hs(C,j){var Y=this.__data__,pe=Vi(Y,C);return pe<0?(++this.size,Y.push([C,j])):Y[pe][1]=j,this}us.prototype.clear=cu,us.prototype.delete=lu,us.prototype.get=uu,us.prototype.has=ds,us.prototype.set=hs;function er(C){var j=-1,Y=C==null?0:C.length;for(this.clear();++j<Y;){var pe=C[j];this.set(pe[0],pe[1])}}function du(){this.size=0,this.__data__={hash:new Xs,map:new(Ks||us),string:new Xs}}function hu(C){var j=zi(this,C).delete(C);return this.size-=j?1:0,j}function fu(C){return zi(this,C).get(C)}function fs(C){return zi(this,C).has(C)}function ji(C,j){var Y=zi(this,C),pe=Y.size;return Y.set(C,j),this.size+=Y.size==pe?0:1,this}er.prototype.clear=du,er.prototype.delete=hu,er.prototype.get=fu,er.prototype.has=fs,er.prototype.set=ji;function $i(C){var j=-1,Y=C==null?0:C.length;for(this.__data__=new er;++j<Y;)this.add(C[j])}function pu(C){return this.__data__.set(C,s),this}function ps(C){return this.__data__.has(C)}$i.prototype.add=$i.prototype.push=pu,$i.prototype.has=ps;function Os(C){var j=this.__data__=new us(C);this.size=j.size}function Hi(){this.__data__=new us,this.size=0}function gu(C){var j=this.__data__,Y=j.delete(C);return this.size=j.size,Y}function mu(C){return this.__data__.get(C)}function gs(C){return this.__data__.has(C)}function yu(C,j){var Y=this.__data__;if(Y instanceof us){var pe=Y.__data__;if(!Ks||pe.length<n-1)return pe.push([C,j]),this.size=++Y.size,this;Y=this.__data__=new er(pe)}return Y.set(C,j),this.size=Y.size,this}Os.prototype.clear=Hi,Os.prototype.delete=gu,Os.prototype.get=mu,Os.prototype.has=gs,Os.prototype.set=yu;function Wi(C,j){var Y=Xr(C),pe=!Y&&qi(C),at=!Y&&!pe&&es(C),We=!Y&&!pe&&!at&&ei(C),ct=Y||pe||at||We,Ht=ct?ce(C.length,String):[],Qt=Ht.length;for(var xt in C)Ge.call(C,xt)&&!(ct&&(xt=="length"||at&&(xt=="offset"||xt=="parent")||We&&(xt=="buffer"||xt=="byteLength"||xt=="byteOffset")||ic(xt,Qt)))&&Ht.push(xt);return Ht}function Vi(C,j){for(var Y=C.length;Y--;)if(ac(C[Y][0],j))return Y;return-1}function bu(C,j,Y){var pe=j(C);return Xr(C)?pe:G(pe,Y(C))}function Qr(C){return C==null?C===void 0?E:y:Jn&&Jn in Object(C)?Su(C):oc(C)}function rc(C){return Jr(C)&&Qr(C)==a}function wr(C,j,Y,pe,at){return C===j?!0:C==null||j==null||!Jr(C)&&!Jr(j)?C!==C&&j!==j:vu(C,j,Y,pe,wr,at)}function vu(C,j,Y,pe,at,We){var ct=Xr(C),Ht=Xr(j),Qt=ct?c:Ps(C),xt=Ht?c:Ps(j);Qt=Qt==a?w:Qt,xt=xt==a?w:xt;var an=Qt==w,Jt=xt==w,At=Qt==xt;if(At&&es(C)){if(!es(j))return!1;ct=!0,an=!1}if(At&&!an)return We||(We=new Os),ct||ei(C)?ea(C,j,Y,pe,at,We):xu(C,j,Qt,Y,pe,at,We);if(!(Y&r)){var fn=an&&Ge.call(C,"__wrapped__"),pn=Jt&&Ge.call(j,"__wrapped__");if(fn||pn){var ts=fn?C.value():C,qn=pn?j.value():j;return We||(We=new Os),at(ts,qn,Y,pe,We)}}return At?(We||(We=new Os),Au(C,j,Y,pe,at,We)):!1}function wu(C){if(!cc(C)||Eu(C))return!1;var j=ta(C)?we:st;return j.test(tr(C))}function Jo(C){return Jr(C)&&Ar(C.length)&&!!Ce[Qr(C)]}function _u(C){if(!Mu(C))return Kr(C);var j=[];for(var Y in Object(C))Ge.call(C,Y)&&Y!="constructor"&&j.push(Y);return j}function ea(C,j,Y,pe,at,We){var ct=Y&r,Ht=C.length,Qt=j.length;if(Ht!=Qt&&!(ct&&Qt>Ht))return!1;var xt=We.get(C);if(xt&&We.get(j))return xt==j;var an=-1,Jt=!0,At=Y&i?new $i:void 0;for(We.set(C,j),We.set(j,C);++an<Ht;){var fn=C[an],pn=j[an];if(pe)var ts=ct?pe(pn,fn,an,j,C,We):pe(fn,pn,an,C,j,We);if(ts!==void 0){if(ts)continue;Jt=!1;break}if(At){if(!Z(j,function(qn,gn){if(!ae(At,gn)&&(fn===qn||at(fn,qn,Y,pe,We)))return At.push(gn)})){Jt=!1;break}}else if(!(fn===pn||at(fn,pn,Y,pe,We))){Jt=!1;break}}return We.delete(C),We.delete(j),Jt}function xu(C,j,Y,pe,at,We,ct){switch(Y){case N:if(C.byteLength!=j.byteLength||C.byteOffset!=j.byteOffset)return!1;C=C.buffer,j=j.buffer;case R:return!(C.byteLength!=j.byteLength||!We(new _t(C),new _t(j)));case u:case h:case m:return ac(+C,+j);case d:return C.name==j.name&&C.message==j.message;case T:case S:return C==j+"";case f:var Ht=ke;case _:var Qt=pe&r;if(Ht||(Ht=xe),C.size!=j.size&&!Qt)return!1;var xt=ct.get(C);if(xt)return xt==j;pe|=i,ct.set(C,j);var an=ea(Ht(C),Ht(j),pe,at,We,ct);return ct.delete(C),an;case x:if(cs)return cs.call(C)==cs.call(j)}return!1}function Au(C,j,Y,pe,at,We){var ct=Y&r,Ht=Ui(C),Qt=Ht.length,xt=Ui(j),an=xt.length;if(Qt!=an&&!ct)return!1;for(var Jt=Qt;Jt--;){var At=Ht[Jt];if(!(ct?At in j:Ge.call(j,At)))return!1}var fn=We.get(C);if(fn&&We.get(j))return fn==j;var pn=!0;We.set(C,j),We.set(j,C);for(var ts=ct;++Jt<Qt;){At=Ht[Jt];var qn=C[At],gn=j[At];if(pe)var ms=ct?pe(gn,qn,At,j,C,We):pe(qn,gn,At,C,j,We);if(!(ms===void 0?qn===gn||at(qn,gn,Y,pe,We):ms)){pn=!1;break}ts||(ts=At=="constructor")}if(pn&&!ts){var Yi=C.constructor,ti=j.constructor;Yi!=ti&&"constructor"in C&&"constructor"in j&&!(typeof Yi=="function"&&Yi instanceof Yi&&typeof ti=="function"&&ti instanceof ti)&&(pn=!1)}return We.delete(C),We.delete(j),pn}function Ui(C){return bu(C,lc,Tu)}function zi(C,j){var Y=C.__data__;return ku(j)?Y[typeof j=="string"?"string":"hash"]:Y.map}function _r(C,j){var Y=J(C,j);return wu(Y)?Y:void 0}function Su(C){var j=Ge.call(C,Jn),Y=C[Jn];try{C[Jn]=void 0;var pe=!0}catch{}var at=Pe.call(C);return pe&&(j?C[Jn]=Y:delete C[Jn]),at}var Tu=qo?function(C){return C==null?[]:(C=Object(C),K(qo(C),function(j){return zn.call(C,j)}))}:nr,Ps=Qr;(br&&Ps(new br(new ArrayBuffer(1)))!=N||Ks&&Ps(new Ks)!=f||vr&&Ps(vr.resolve())!=v||as&&Ps(new as)!=_||Zs&&Ps(new Zs)!=D)&&(Ps=function(C){var j=Qr(C),Y=j==w?C.constructor:void 0,pe=Y?tr(Y):"";if(pe)switch(pe){case Go:return N;case Ko:return f;case Zr:return v;case Fi:return _;case Zo:return D}return j});function ic(C,j){return j=j??o,!!j&&(typeof C=="number"||dt.test(C))&&C>-1&&C%1==0&&C<j}function ku(C){var j=typeof C;return j=="string"||j=="number"||j=="symbol"||j=="boolean"?C!=="__proto__":C===null}function Eu(C){return!!wt&&wt in C}function Mu(C){var j=C&&C.constructor,Y=typeof j=="function"&&j.prototype||ve;return C===Y}function oc(C){return Pe.call(C)}function tr(C){if(C!=null){try{return Ne.call(C)}catch{}try{return C+""}catch{}}return""}function ac(C,j){return C===j||C!==C&&j!==j}var qi=rc(function(){return arguments}())?rc:function(C){return Jr(C)&&Ge.call(C,"callee")&&!zn.call(C,"callee")},Xr=Array.isArray;function xr(C){return C!=null&&Ar(C.length)&&!ta(C)}var es=Yo||Is;function Du(C,j){return wr(C,j)}function ta(C){if(!cc(C))return!1;var j=Qr(C);return j==p||j==g||j==l||j==b}function Ar(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=o}function cc(C){var j=typeof C;return C!=null&&(j=="object"||j=="function")}function Jr(C){return C!=null&&typeof C=="object"}var ei=U?ie(U):Jo;function lc(C){return xr(C)?Wi(C):_u(C)}function nr(){return[]}function Is(){return!1}t.exports=Du}($d,$d.exports);var MC=$d.exports;const uw=On(MC);var DC=Object.defineProperty,CC=(t,e,n)=>e in t?DC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fp=(t,e,n)=>CC(t,typeof e!="symbol"?e+"":e,n);const Hd="tab-history-map",dw=class zA{constructor(e){var s;Fp(this,"tabHistoryMap",this.restoreTabHistory()),Fp(this,"lock",new fd);let n=0;ut.tabs.onCreated.addListener(r=>this.lock.runExclusive(async()=>{var i;if(r.id!=null&&(e==null||e.debug(`[referrer] ${n++} tabs.onCreated`,r),r.openerTabId!=null)){const a=(i=(await this.tabHistoryMap)[r.openerTabId])==null?void 0:i[0];a&&await this.addHistory(r.id,a)}})),ut.webNavigation.onCommitted.addListener(r=>this.lock.runExclusive(async()=>{e==null||e.debug(`[referrer] ${n++} webNavigation.onCommitted`,r);const{frameId:i,tabId:o,url:a,transitionQualifiers:c}=r;i===0&&((c!=null&&c.includes("forward_back")||c!=null&&c.includes("from_address_bar"))&&await this.addHistory(o,void 0),await this.addHistory(o,a))})),ut.runtime.onStartup.addListener(()=>this.resetHistory()),(s=ut.runtime.onSuspend)==null||s.addListener(()=>this.resetHistory()),ut.tabs.onRemoved.addListener(r=>this.removeHistory(r))}async restoreTabHistory(){return await Np(Hd)??{}}async addHistory(e,n){const s=await this.tabHistoryMap,r=s[e]??(s[e]=[]);n!==r[0]&&r.unshift(this.sanatizeReferrerUrl(n)),r.splice(zA.MAX_HISTORY_COUNT_PER_TAB),await Ta(Hd,s)}sanatizeReferrerUrl(e){if(e)try{const n=new URL(e);return n.search="",n.username="",n.password="",n.hash="",n.href}catch{return}}getReferrerFor(e,n){return this.lock.runExclusive(async()=>{if(e==null||!n)return;const r=(await this.tabHistoryMap)[e];if(r==null)return;const i=r.findIndex(o=>o===n);return i===-1?void 0:r[i+1]})}resetHistory(){return Ta(Hd,{})}async removeHistory(e){const n=await this.tabHistoryMap;delete n[e],await Ta(Hd,n)}};Fp(dw,"MAX_HISTORY_COUNT_PER_TAB",10);let OC=dw;var PC=Object.defineProperty,IC=(t,e,n)=>e in t?PC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ul=(t,e,n)=>IC(t,typeof e!="symbol"?e+"":e,n);const Bp="tab-ad-network",RC=[{name:"google",regexes:["[?&]gclid=\\w+","[?&]hvnetw=g"]},{name:"facebook",regexes:["[?&]fbclid=\\w+"]},{name:"bing",regexes:["[?&]msclkid=\\w+","[?&]hvnetw=o"]}],LC={campaign:["utm_campaign","campaignid","adgroupid","cid"],medium:["utm_medium","placement","nb_placement","channel"],source:["utm_source","source"],term:["utm_term","keyword","nb_kwd"]};class NC{constructor(e,n,s){ul(this,"tabAdNetworkMap",this.restoreTabAdNetwork()),ul(this,"lock",new fd),ul(this,"logger"),ul(this,"adNetworkGetter"),ul(this,"adFieldGetters");let r=0;this.logger=e,this.adNetworkGetter=n,this.adFieldGetters=s,ut.webNavigation.onCommitted.addListener(i=>this.lock.runExclusive(async()=>{const{frameId:o,tabId:a,url:c,transitionQualifiers:l}=i;if(e==null||e.debug(`[ad-traffic-monitor] ${r++} webNavigation.onCommitted for frame ${o} on ${c}`),o!==0)return;if(l!=null&&l.includes("from_address_bar")){await this.removeAdHistory(a);return}const u=bd(c);if(!u)return;const h=await this.findAdInfo(a);h&&(h==null?void 0:h.host)!==u.hostname&&await this.removeAdHistory(a),await this.processUrl(a,c)}))}async findAdInfo(e){return(await this.tabAdNetworkMap)[e??-1]}async processUrl(e,n){var c,l,u;const s=new URL(n),r=(c=(await this.adNetworkGetter()).find(h=>h.regexes.some(d=>{if(new RegExp(d).test(n))return!0})))==null?void 0:c.name,i=await this.adFieldGetters(),o=this.tryGetParams(s,i.source);if(!r&&!o)return;const a={host:((l=bd(n))==null?void 0:l.hostname)??"",adNetwork:r,utmSource:o,utmCampaign:this.tryGetParams(s,i.campaign),utmMedium:this.tryGetParams(s,i.medium),utmTerm:this.tryGetParams(s,i.term)};(u=this.logger)==null||u.debug(`[ad-traffic-monitor] Found ad network: ${r??"unknown"}`,a),await this.addAdHistory(e,a)}tryGetParams(e,n){for(const s of n){const r=e.searchParams.get(s);if(r)return r}}async restoreTabAdNetwork(){return await Np(Bp)??{}}async removeAdHistory(e){const n=await this.tabAdNetworkMap;delete n[e],await Ta(Bp,n)}async addAdHistory(e,n){const s=await this.tabAdNetworkMap;s[e]=n,await Ta(Bp,s)}}var FC=Object.defineProperty,BC=(t,e,n)=>e in t?FC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ka=(t,e,n)=>BC(t,typeof e!="symbol"?e+"":e,n);const hw=class of extends jd{constructor(e){super(e.db,e.logger),this.config=e,ka(this,"referrers"),ka(this,"adTrafficMonitor"),ka(this,"hasRecentUserActivity",!0),this.referrers=new OC(this.logger),this.adTrafficMonitor=new NC(this.logger,e.getAdNetworks,e.getAdFields)}async enabled(){return await this.config.enabled()}setHasRecentUserActivity(e){this.hasRecentUserActivity=e}setupCustomTriggers(){var e,n;this.setupExtensionStartupTriggers(),this.setupExtensionApiTriggers(),this.setupIdleTriggers(),(n=(e=this.config).setupCustomTriggers)==null||n.call(e,this)}getLastAliveAt(){return Np(of.LAST_ALIVE_AT_KEY)}async setLastAliveAt(e){await Ta(of.LAST_ALIVE_AT_KEY,e)}async getComputeDependencies(){const[e,n]=await Promise.all([ut.windows.getAll(),ut.tabs.query({})]),s=await this.sessionsRepo.getActiveSessions(),r=await this.pageViewsRepo.getActivePageViews();return{isTabActiveWhenPlayingAudio:await this.config.isTabActiveWhenPlayingAudio(),hostnameToTabsMap:n.reduce((i,o)=>{var c,l;const a=(c=bd(o.url))==null?void 0:c.hostname;return a&&(i[a]??(i[a]=[]),(l=i[a])==null||l.push(o)),i},{}),allActiveSessions:s,allActivePageViews:r,appIdToActiveSessionMap:SC(s??[],"appId"),windowIdToWindowMap:TC(e,"id"),processedActiveSessionCache:new fw,processedActivePageViewCache:new fw}}findSessionChanges(e,n){var o,a;const s=[],r=[];for(const[c,l]of Object.entries(n.hostnameToTabsMap))if(c)try{if(!(l!=null&&l.length))throw Error("This shouldn't be possible");const u=n.appIdToActiveSessionMap[c],h=!!(u!=null&&u.length),d=!!l.find(p=>this.isTabActive(p,n));!h&&d?s.push({appId:c,startedAt:e.timestamp}):h&&!d&&r.push(...u),h&&n.processedActiveSessionCache.markAsProcessed(u)}catch(u){(o=this.logger)==null||o.error(`[update-sessions] Failed find sessions to change for ${c}:`,u)}return(((a=n.allActiveSessions)==null?void 0:a.filter(c=>!n.processedActiveSessionCache.isProcessed(c)))??[]).forEach(c=>r.push(c)),Promise.resolve({toStart:s,toEnd:r,count:s.length+r.length})}async findPageViewChanges(e,n){var o;const s=Object.values(n.hostnameToTabsMap).flat().filter(a=>!!a&&this.isTabActive(a,n)),r=[],i=[...n.allActivePageViews];for(const a of s){const c=bd(a.url);if(c==null)continue;const l=n.allActivePageViews.filter(u=>u.appId===(c==null?void 0:c.hostname)&&u.path===c.path&&(c.query?u.query===c.query:!0));if(l.length>0)for(const u of l){const h=i.findIndex(d=>d.id===u.id);h>=0&&i.splice(h,1)}else{const[u,h]=await Promise.all([this.adTrafficMonitor.findAdInfo(a.id),(o=this.referrers)==null?void 0:o.getReferrerFor(a.id,a.url)]),d={adNetwork:(u==null?void 0:u.adNetwork)??void 0,utmSource:(u==null?void 0:u.utmSource)??void 0,utmMedium:(u==null?void 0:u.utmMedium)??void 0,utmCampaign:(u==null?void 0:u.utmCampaign)??void 0,utmTerm:(u==null?void 0:u.utmTerm)??void 0};r.push({appId:c.hostname,path:c.path,query:c.query,startedAt:e.timestamp,referrer:h,...d})}}return{toStart:r,toEnd:i,count:r.length+i.length}}setupExtensionApiTriggers(){ut.webNavigation.onCompleted.addListener(async e=>{e.frameId>0||await this.triggerSessionCheck("webNavigation.onCompleted",Math.floor(e.timeStamp))}),ut.tabs.onCreated.addListener(()=>this.triggerSessionCheck("tabs.onCreated")),ut.tabs.onUpdated.addListener(()=>this.triggerSessionCheck("tabs.onUpdated")),ut.tabs.onActivated.addListener(()=>this.triggerSessionCheck("tabs.onActivated")),ut.tabs.onRemoved.addListener(()=>this.triggerSessionCheck("tabs.onRemoved")),ut.windows.onCreated.addListener(()=>this.triggerSessionCheck("windows.onCreated")),ut.windows.onFocusChanged.addListener(()=>this.triggerSessionCheck("windows.onFocusChanged")),ut.windows.onRemoved.addListener(()=>this.triggerSessionCheck("windows.onRemoved")),this.onWindowStateChanged(e=>this.triggerSessionCheck("SessionMonitor.onWindowStateChanged",e))}setupIdleTriggers(){}setupExtensionStartupTriggers(){this.config.isOnStartupAvailable()?ut.runtime.onStartup.addListener(()=>{this.triggerStartup("runtime.onStartup",!0)}):(ut.alarms.clear("ping-last-alive-at"),ut.alarms.create("ping-last-alive-at",{delayInMinutes:jd.LAST_ALIVE_AT_INTERVAL_MS/Lp,periodInMinutes:jd.LAST_ALIVE_AT_INTERVAL_MS/Lp}),ut.alarms.onAlarm.addListener(n=>{if(n.name==="ping-last-alive-at")return this.pingLastAliveAt()}),this.getLastAliveAt().then(n=>{const s=n!=null&&Date.now()-n>2*jd.LAST_ALIVE_AT_INTERVAL_MS,r=s?"time since last alive at > 2 * lastAliveInterval":"time since last alive at <= 2 * lastAliveInterval";this.triggerStartup(r,s)})),ut.runtime.onInstalled.addListener(n=>{this.triggerStartup("runtime.onInstalled",n.reason!=="install")});const{onSuspend:e}=ut.runtime;e==null||e.addListener(()=>this.endAllActiveSessions(Date.now()))}isTabActive(e,n){var r;if(e.windowId==null)return(r=this.logger)==null||r.warn("[update-sessions] Checking if tab without a windowId is active"),!1;const s=n.windowIdToWindowMap[e.windowId];return!!s&&EC(e,s,this.hasRecentUserActivity,n.isTabActiveWhenPlayingAudio)}onWindowStateChanged(e){let n={};this.getWindowStates().then(s=>{n=s}),setInterval(async()=>{const s=Date.now(),r=await this.getWindowStates();uw(n,r)||(e(s),n=r)},of.WINDOW_STATE_POLLING_INTERVAL_MS)}async getWindowStates(){return(await ut.windows.getAll()).reduce((n,s)=>(s.id!=null&&(n[s.id]=s.state),n),{})}};ka(hw,"LAST_ALIVE_AT_KEY","last-activity-time-ms"),ka(hw,"WINDOW_STATE_POLLING_INTERVAL_MS",5*Lp);class fw{constructor(){ka(this,"map",{})}markAsProcessed(e){e.forEach(n=>this.map[n.id]=!0)}isProcessed(e){return this.map[e.id]??!1}}const jC=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(t=>[t.name,t]),$C=new Map(jC);class jp extends Error{constructor(n){super(jp._prepareSuperMessage(n));te(this,"name","NonError")}static _prepareSuperMessage(n){try{return JSON.stringify(n)}catch{return String(n)}}}const HC=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],$p=new WeakSet,WC=t=>{$p.add(t);const e=t.toJSON();return $p.delete(t),e},pw=t=>$C.get(t)??Error,Hp=({from:t,seen:e,to:n,forceEnumerable:s,maxDepth:r,depth:i,useToJSON:o,serialize:a})=>{if(!n)if(Array.isArray(t))n=[];else if(!a&&gw(t)){const l=pw(t.name);n=new l}else n={};if(e.push(t),i>=r)return n;if(o&&typeof t.toJSON=="function"&&!$p.has(t))return WC(t);const c=l=>Hp({from:l,seen:[...e],forceEnumerable:s,maxDepth:r,depth:i,useToJSON:o,serialize:a});for(const[l,u]of Object.entries(t)){if(u&&u instanceof Uint8Array&&u.constructor.name==="Buffer"){n[l]="[object Buffer]";continue}if(u!==null&&typeof u=="object"&&typeof u.pipe=="function"){n[l]="[object Stream]";continue}if(typeof u!="function"){if(!u||typeof u!="object"){try{n[l]=u}catch{}continue}if(!e.includes(t[l])){i++,n[l]=c(t[l]);continue}n[l]="[Circular]"}}for(const{property:l,enumerable:u}of HC)typeof t[l]<"u"&&t[l]!==null&&Object.defineProperty(n,l,{value:gw(t[l])?c(t[l]):t[l],enumerable:s?!0:u,configurable:!0,writable:!0});return n};function VC(t,e={}){const{maxDepth:n=Number.POSITIVE_INFINITY,useToJSON:s=!0}=e;return typeof t=="object"&&t!==null?Hp({from:t,seen:[],forceEnumerable:!0,maxDepth:n,depth:0,useToJSON:s,serialize:!0}):typeof t=="function"?`[Function: ${t.name||"anonymous"}]`:t}function UC(t,e={}){const{maxDepth:n=Number.POSITIVE_INFINITY}=e;if(t instanceof Error)return t;if(zC(t)){const s=pw(t.name);return Hp({from:t,seen:[],to:new s,maxDepth:n,depth:0,serialize:!1})}return new jp(t)}function gw(t){return!!t&&typeof t=="object"&&"name"in t&&"message"in t&&"stack"in t}function zC(t){return!!t&&typeof t=="object"&&"message"in t&&!Array.isArray(t)}var qC=Object.defineProperty,YC=Object.defineProperties,GC=Object.getOwnPropertyDescriptors,mw=Object.getOwnPropertySymbols,KC=Object.prototype.hasOwnProperty,ZC=Object.prototype.propertyIsEnumerable,yw=(t,e,n)=>e in t?qC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bw=(t,e)=>{for(var n in e||(e={}))KC.call(e,n)&&yw(t,n,e[n]);if(mw)for(var n of mw(e))ZC.call(e,n)&&yw(t,n,e[n]);return t},vw=(t,e)=>YC(t,GC(e)),QC=(t,e,n)=>new Promise((s,r)=>{var i=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?s(c.value):Promise.resolve(c.value).then(i,o);a((n=n.apply(t,e)).next())});function XC(t){let e,n={};function s(){Object.entries(n).length===0&&(e==null||e(),e=void 0)}let r=Math.floor(Math.random()*1e4);function i(){return r++}return{sendMessage(o,a,...c){return QC(this,null,function*(){var l,u;const h={id:i(),type:o,data:a,timestamp:Date.now()};(l=t.logger)==null||l.debug(`[messaging] sendMessage {id=${h.id}} ─ᐅ`,h,...c);const d=yield t.sendMessage(h,...c),{res:p,err:g}=d??{err:new Error("No response")};if((u=t.logger)==null||u.debug(`[messaging] sendMessage {id=${h.id}} ᐊ─`,{res:p,err:g}),g!=null)throw UC(g);return p})},onMessage(o,a){var c,l,u;if(e==null&&((c=t.logger)==null||c.debug(`[messaging] "${o}" initialized the message listener for this context`),e=t.addRootListener(h=>{var d,p;if(typeof h.type!="string"||typeof h.timestamp!="number"){const m=Error(`[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(h)}`);throw(d=t.logger)==null||d.error(m),m}(p=t==null?void 0:t.logger)==null||p.debug("[messaging] Received message",h);const g=n[h.type];if(g==null)return;const f=g(h);return Promise.resolve(f).then(m=>{var y;return(y=t==null?void 0:t.logger)==null||y.debug(`[messaging] onMessage {id=${h.id}} ─ᐅ`,{res:m}),{res:m}}).catch(m=>{var y;return(y=t==null?void 0:t.logger)==null||y.debug(`[messaging] onMessage {id=${h.id}} ─ᐅ`,{err:m}),{err:VC(m)}})})),n[o]!=null){const h=Error(`[messaging] In this JS context, only one listener can be setup for ${o}`);throw(l=t.logger)==null||l.error(h),h}return n[o]=a,(u=t.logger)==null||u.log(`[messaging] Added listener for ${o}`),()=>{delete n[o],s()}},removeAllListeners(){Object.keys(n).forEach(o=>{delete n[o]}),s()}}}function JC(t){return XC(vw(bw({},t),{sendMessage(e,n){return n==null?ut.runtime.sendMessage(e):ut.tabs.sendMessage(n,e)},addRootListener(e){const n=(s,r)=>e(typeof s=="object"?vw(bw({},s),{sender:r}):s);return ut.runtime.onMessage.addListener(n),()=>ut.runtime.onMessage.removeListener(n)}}))}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var eO=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */const ww=eO;var tO=function(t,e,n){if(ww(n)||(n={default:n}),!xw(t))return typeof n.default<"u"?n.default:t;typeof e=="number"&&(e=String(e));const s=Array.isArray(e),r=typeof e=="string",i=n.separator||".",o=n.joinChar||(typeof i=="string"?i:".");if(!r&&!s)return t;if(r&&e in t)return Wp(e,t,n)?t[e]:n.default;let a=s?e:nO(e,i,n),c=a.length,l=0;do{let u=a[l];for(typeof u=="number"&&(u=String(u));u&&u.slice(-1)==="\\";)u=_w([u.slice(0,-1),a[++l]||""],o,n);if(u in t){if(!Wp(u,t,n))return n.default;t=t[u]}else{let h=!1,d=l+1;for(;d<c;)if(u=_w([u,a[d++]],o,n),h=u in t){if(!Wp(u,t,n))return n.default;t=t[u],l=d-1;break}if(!h)return n.default}}while(++l<c&&xw(t));return l===c?t:n.default};function _w(t,e,n){return typeof n.join=="function"?n.join(t):t[0]+e+t[1]}function nO(t,e,n){return typeof n.split=="function"?n.split(t):t.split(e)}function Wp(t,e,n){return typeof n.isValid=="function"?n.isValid(t,e):!0}function xw(t){return ww(t)||Array.isArray(t)||typeof t=="function"}const sO=On(tO);var rO=(t,e,n)=>new Promise((s,r)=>{var i=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?s(c.value):Promise.resolve(c.value).then(i,o);a((n=n.apply(t,e)).next())});function iO(){if(!oO())return!1;const t=ut.runtime.getManifest();return t.background?t.manifest_version===3?lO():cO():!1}function oO(){var t;return!!((t=ut.runtime)!=null&&t.id)}var aO=["/_generated_background_page.html"];function cO(){return typeof window<"u"&&aO.includes(location.pathname)}function lO(){return typeof window>"u"}function Wd(t,e,n){let s;const r=`proxy-service.${t}`,{onMessage:i,sendMessage:o}=JC(n);function a(c){const l=()=>{},u=new Proxy(l,{apply(h,d,p){return rO(this,null,function*(){return yield o(r,{path:c,args:p})})},get(h,d,p){return d==="__proxy"||typeof d=="symbol"?Reflect.get(h,d,p):a(c==null?d:`${c}.${d}`)}});return u.__proxy=!0,u}return[function(...l){return s=e(...l),i(r,({data:u})=>{const h=u.path==null?s:sO(s??{},u.path);if(h)return Promise.resolve(h.bind(s)(...u.args))}),s},function(){if(!iO())return a();if(s==null)throw Error(`Failed to get an instance of ${t}: in background, but registerService has not been called. Did you forget to call registerService?`);return s}]}const[QH,uO]=Wd("usage-database",()=>wC({getInstallId:jc})),Je=(t,e,n)=>Qi.i18n.getMessage(t,e,n);function Gn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function jr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function dO(t,e){const n=Gn(t);return isNaN(e)?jr(t,NaN):(n.setDate(n.getDate()+e),n)}const Aw=6048e5,hO=864e5;let fO={};function Vd(){return fO}function dl(t,e){var a,c,l,u;const n=Vd(),s=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??0,r=Gn(t),i=r.getDay(),o=(i<s?7:0)+i-s;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Ud(t){return dl(t,{weekStartsOn:1})}function Sw(t){const e=Gn(t),n=e.getFullYear(),s=jr(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=Ud(s),i=jr(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ud(i);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Ea(t){const e=Gn(t);return e.setHours(0,0,0,0),e}function Tw(t){const e=Gn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function pO(t,e){const n=Ea(t),s=Ea(e),r=+n-Tw(n),i=+s-Tw(s);return Math.round((r-i)/hO)}function gO(t){const e=Sw(t),n=jr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ud(n)}function kw(t){return jr(t,Date.now())}function Vp(t,e){const n=Ea(t),s=Ea(e);return+n==+s}function mO(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function yO(t){if(!mO(t)&&typeof t!="number")return!1;const e=Gn(t);return!isNaN(Number(e))}function bO(t){const e=Gn(t),n=jr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const vO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wO=(t,e,n)=>{let s;const r=vO[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Up(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _O={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SO={date:Up({formats:_O,defaultWidth:"full"}),time:Up({formats:xO,defaultWidth:"full"}),dateTime:Up({formats:AO,defaultWidth:"full"})},TO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kO=(t,e,n,s)=>TO[t];function hl(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const EO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IO={ordinalNumber:(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:hl({values:EO,defaultWidth:"wide"}),quarter:hl({values:MO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hl({values:DO,defaultWidth:"wide"}),day:hl({values:CO,defaultWidth:"wide"}),dayPeriod:hl({values:OO,defaultWidth:"wide",formattingValues:PO,defaultFormattingWidth:"wide"})};function fl(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const o=i[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?LO(a,h=>h.test(o)):RO(a,h=>h.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function RO(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function LO(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function NO(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(r.length);return{value:o,rest:a}}}const FO=/^(\d+)(th|st|nd|rd)?/i,BO=/\d+/i,jO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$O={any:[/^b/i,/^(a|c)/i]},HO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WO={any:[/1/i,/2/i,/3/i,/4/i]},VO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KO={ordinalNumber:NO({matchPattern:FO,parsePattern:BO,valueCallback:t=>parseInt(t,10)}),era:fl({matchPatterns:jO,defaultMatchWidth:"wide",parsePatterns:$O,defaultParseWidth:"any"}),quarter:fl({matchPatterns:HO,defaultMatchWidth:"wide",parsePatterns:WO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fl({matchPatterns:VO,defaultMatchWidth:"wide",parsePatterns:UO,defaultParseWidth:"any"}),day:fl({matchPatterns:zO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any"}),dayPeriod:fl({matchPatterns:YO,defaultMatchWidth:"any",parsePatterns:GO,defaultParseWidth:"any"})},ZO={code:"en-US",formatDistance:wO,formatLong:SO,formatRelative:kO,localize:IO,match:KO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QO(t){const e=Gn(t);return pO(e,bO(e))+1}function XO(t){const e=Gn(t),n=+Ud(e)-+gO(e);return Math.round(n/Aw)+1}function Ew(t,e){var u,h,d,p;const n=Gn(t),s=n.getFullYear(),r=Vd(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,o=jr(t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const a=dl(o,e),c=jr(t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const l=dl(c,e);return n.getTime()>=a.getTime()?s+1:n.getTime()>=l.getTime()?s:s-1}function JO(t,e){var a,c,l,u;const n=Vd(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(l=n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??1,r=Ew(t,e),i=jr(t,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),dl(i,e)}function eP(t,e){const n=Gn(t),s=+dl(n,e)-+JO(n,e);return Math.round(s/Aw)+1}function bt(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const bi={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return bt(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bt(n+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return bt(r,e.length)}},Ma={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mw={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return bi.y(t,e)},Y:function(t,e,n,s){const r=Ew(t,s),i=r>0?r:1-r;if(e==="YY"){const o=i%100;return bt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):bt(i,e.length)},R:function(t,e){const n=Sw(t);return bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return bt(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return bt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return bt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return bi.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return bt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=eP(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},I:function(t,e,n){const s=XO(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):bt(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):bi.d(t,e)},D:function(t,e,n){const s=QO(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):bt(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return bt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return bt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return bt(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Ma.noon:s===0?r=Ma.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Ma.evening:s>=12?r=Ma.afternoon:s>=4?r=Ma.morning:r=Ma.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return bi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):bi.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):bt(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):bt(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):bi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):bi.s(t,e)},S:function(t,e){return bi.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Cw(s);case"XXXX":case"XX":return wo(s);case"XXXXX":case"XXX":default:return wo(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Cw(s);case"xxxx":case"xx":return wo(s);case"xxxxx":case"xxx":default:return wo(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Dw(s,":");case"OOOO":default:return"GMT"+wo(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Dw(s,":");case"zzzz":default:return"GMT"+wo(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return bt(s,e.length)},T:function(t,e,n){const s=t.getTime();return bt(s,e.length)}};function Dw(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+bt(i,2)}function Cw(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):wo(t,e)}function wo(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=bt(Math.trunc(s/60),2),i=bt(s%60,2);return n+r+e+i}const Ow=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Pw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},tP={p:Pw,P:(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return Ow(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Ow(s,e)).replace("{{time}}",Pw(r,e))}},nP=/^D+$/,sP=/^Y+$/,rP=["D","DD","YY","YYYY"];function iP(t){return nP.test(t)}function oP(t){return sP.test(t)}function aP(t,e,n){const s=cP(t,e,n);if(console.warn(s),rP.includes(t))throw new RangeError(s)}function cP(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dP=/^'([^]*?)'?$/,hP=/''/g,fP=/[a-zA-Z]/;function zp(t,e,n){var u,h,d,p;const s=Vd(),r=s.locale??ZO,i=s.firstWeekContainsDate??((h=(u=s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=s.weekStartsOn??((p=(d=s.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,a=Gn(t);if(!yO(a))throw new RangeError("Invalid time value");let c=e.match(uP).map(g=>{const f=g[0];if(f==="p"||f==="P"){const m=tP[f];return m(g,r.formatLong)}return g}).join("").match(lP).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const f=g[0];if(f==="'")return{isToken:!1,value:pP(g)};if(Mw[f])return{isToken:!0,value:g};if(f.match(fP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:g}});r.localize.preprocessor&&(c=r.localize.preprocessor(a,c));const l={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return c.map(g=>{if(!g.isToken)return g.value;const f=g.value;(oP(f)||iP(f))&&aP(f,e,String(t));const m=Mw[f[0]];return m(a,f,r.localize,l)}).join("")}function pP(t){const e=t.match(dP);return e?e[1].replace(hP,"'"):t}function gP(t,e){const n=Gn(t),s=Gn(e);return n.getFullYear()===s.getFullYear()}function mP(t){return Vp(t,kw(t))}function yP(t,e){return dO(t,-1)}function bP(t){return Vp(t,yP(kw(t)))}function pl(){return Ea(Date.now())}function vP(){const t=new Date,e=t.getFullYear(),n=t.getMonth(),s=t.getDate(),r=new Date(0);return r.setFullYear(e,n,s+1),r.setHours(0,0,0,0),r}function wP(){const t=new Date,e=t.getFullYear(),n=t.getMonth(),s=t.getDate(),r=new Date(0);return r.setFullYear(e,n,s-1),r.setHours(0,0,0,0),r}function Iw(t){return t.reduce((e,n)=>Math.min(e,n),Number.POSITIVE_INFINITY)}function Rw(t){return t.reduce((e,n)=>Math.max(e,n),Number.NEGATIVE_INFINITY)}const _P="HH:mm",xP="h:mm a",AP="h a";class Us{constructor(e){te(this,"_ms");this._ms=e instanceof Us?e.ms:e instanceof Date?e.getTime():e??Date.now()}get ms(){return this._ms}get seconds(){return this._ms/1e3}get minutes(){return this.seconds/60}get hours(){return this.minutes/60}get days(){return this.hours/24}get weeks(){return this.days/7}get months(){return this.days/30}get years(){return this.days/365}get startOfDay(){const e=this.toJsDate();return e.setHours(0,0,0,0),new Us(e.getTime())}add(e){return new Us(this._ms+e.ms)}plus(e){return this.add(e)}subtract(e){return new Us(this._ms-e.ms)}minus(e){return this.subtract(e)}isBefore(e,n=!1){return n?this._ms<=e.ms:this._ms<e.ms}isAfter(e,n=!1){return n?this._ms>=e.ms:this._ms>e.ms}since(e=new Us){return new Kn(this._ms-e.ms)}toJsDate(){return new Date(this._ms)}toString(){return this.toJsDate().toISOString()}copy(){return new Us(this._ms)}}var He=(t=>(t[t.Millisecond=1]="Millisecond",t[t.Second=1e3]="Second",t[t.Minute=6e4]="Minute",t[t.Hour=36e5]="Hour",t[t.Day=864e5]="Day",t[t.Week=6048e5]="Week",t[t.Month=2592e6]="Month",t[t.Year=31536e6]="Year",t))(He||{}),zd=(t=>(t[t.Second=1]="Second",t[t.Minute=60]="Minute",t[t.Hour=3600]="Hour",t[t.Day=86400]="Day",t))(zd||{});const Lt=class Lt{constructor(...e){te(this,"ms");this.ms=e.length===1?e[0]:e[0]*e[1]}get seconds(){return this.ms/1e3}get minutes(){return this.ms/6e4}get hours(){return this.ms/36e5}get days(){return this.ms/864e5}get weeks(){return this.ms/6048e5}get months(){return this.ms/2592e6}get years(){return this.ms/31536e6}add(e){return new Lt(this.ms+e.ms)}plus(e){return this.add(e)}subtract(e){return new Lt(this.ms-e.ms)}minus(e){return this.subtract(e)}clamp(e,n){return new Lt(Math.min(Math.max(this.ms,e.ms),n.ms))}isEqual(e){return this.ms===e.ms}parse(){const e=Math.floor(this.ms/1e3),n=Math.floor(e/60);return{hours:Math.floor(n/60),minutes:n%60,seconds:e%60}}format(){const e=Math.floor(this.ms/1e3),n=Math.floor(e/60),s=Math.floor(n/60);return s>0?`${s}:${String(n%60).padStart(2,"0")}:${String(e%60).padStart(2,"0")}`:n>0?`${n}:${String(e%60).padStart(2,"0")}`:`0:${String(e).padStart(2,"0")}`}formatString(e){const{seconds:n,minutes:s,hours:r}=this.parse();if(e!=null&&e.excludeTrailingZeros){const i=[r&&`${r}h`,(r||s)&&`${s}m`,`${n}s`];return n===0&&(i.pop(),s===0&&i.pop()),i.filter(o=>!!o).join(" ")}else return r>0?`${r}h ${s}m ${n}s`:s>0?`${s}m ${n}s`:`${n}s`}toString(){return`${this.ms}ms`}copy(){return new Lt(this.ms)}};te(Lt,"ZERO",new Lt(0)),te(Lt,"MS",new Lt(1,1)),te(Lt,"SECOND",new Lt(1,1e3)),te(Lt,"MINUTE",new Lt(1,6e4)),te(Lt,"HOUR",new Lt(1,36e5)),te(Lt,"DAY",new Lt(1,864e5)),te(Lt,"WEEK",new Lt(1,6048e5)),te(Lt,"MONTH",new Lt(1,2592e6)),te(Lt,"YEAR",new Lt(1,31536e6)),te(Lt,"INFINITY",new Lt(1/0));let Kn=Lt;function Lw(t,e){const n={hours:t.getHours(),minutes:t.getMinutes()};return TP(e)?Gp(n,e.start,{hours:23,minutes:59})||Gp(n,{hours:0,minutes:0},e.end):Gp(n,e.start,e.end)}function SP(t,e){t[0]>t[1]&&t.sort(),e[0]>e[1]&&e.sort();const[n,s]=t[0]<=e[0]?[t,e]:[e,t];return s[0]>=n[0]&&s[0]<n[1]?s[1]<=n[1]?s[1]-s[0]:n[1]-s[0]:0}function qp(t,e=!0){if(mP(t))return Je("today");if(e&&bP(t))return Je("yesterday");const n=Da();return t>=n-6*He.Day?zp(t,"eeee"):gP(t,n)?zp(t,"eee, MMM d"):new Date(t).toLocaleDateString()}function Yp(t,e,n){return{*[Symbol.iterator](){for(let s=t;s<e;s=s+n)yield s}}}function Nw(t,e,n){const s=Da()+n,r=n+(Date.now()<s?-24*He.Hour:0);return[t+r,e+r]}function Gp(t,e,n){return t.hours>e.hours&&t.hours<n.hours?!0:t.hours===e.hours&&t.hours===n.hours?t.minutes>=e.minutes&&t.minutes<=n.minutes:t.hours===e.hours&&t.minutes>=e.minutes||t.hours===n.hours&&t.minutes<=n.minutes}function TP(t){return t.start.hours===t.end.hours&&t.start.minutes>=t.end.minutes||t.start.hours>t.end.hours}function kP(t,e,n){const s=Math.max(1,n)*He.Day;return Array.from(Yp(t,e,s)).map(r=>{let i=r+s;return i>=e&&(i=e),{startDate:r,endDate:i}})}function Kp(t){const e=new Date(`2021-01-01T${t}`).getTime(),n=Fw(e).parse();return{hours:n.hours,minutes:n.minutes}}function Zp(t){return Math.round(t/1e3)}function EP(t,e){const s=(e!=null&&e.baseTime?qd(e.baseTime):Da())+t;return MP(s,e)}function MP(t,e){const n=Fw(t);let s;if(e!=null&&e.is24HourFormat)s=_P;else{if(n.ms===0)return Je("midnight");if(n.ms===12*He.Hour)return Je("noon");s=DP(n.ms,He.Hour)?AP:xP}return zp(t,s)}function DP(t,e){return t%e===0}function Da(){return pl().getTime()}function qd(t){return Ea(t).getTime()}function Fw(t){return new Kn(t-qd(t))}function Bw(t,e){const n=pa.defineItem(t,{...e,fallback:null}),{serialize:s,deserialize:r}=CP[e.serializer];return{...n,get fallback(){return e.fallback},get defaultValue(){return e.fallback},getValue:async()=>{const i=await n.getValue();return i==null?null:r(i)},setValue:async i=>n.setValue(s(i)),watch:i=>n.watch((o,a)=>{const c=o==null?e.fallback:r(o),l=a==null?e.fallback:r(a);i(c,l)})}}const CP={time:{serialize:t=>t.ms,deserialize:t=>new Us(t)},duration:{serialize:t=>t.ms,deserialize:t=>new Kn(t)},map:{serialize:t=>JSON.stringify(Array.from(t.entries())),deserialize:t=>new Map(JSON.parse(t))}};function Yd(t,e,n){let s=Gw.getValue();Gw.watch(i=>{s=Promise.resolve(i)});const r=async()=>await s?t:e;return{get fallback(){return n},get defaultValue(){return n},async getValue(...i){return await(await r()).getValue(...i)??n},async setValue(...i){return await(await r()).setValue(...i)},async removeValue(...i){return await(await r()).removeValue(...i)},async getMeta(...i){return await(await r()).getMeta(...i)},async setMeta(...i){return await(await r()).setMeta(...i)},async removeMeta(...i){return await(await r()).removeMeta(...i)},watch(i){const o=t.watch(async(c,l)=>{if(await s)return i(c??n,l??n)}),a=e.watch(async(c,l)=>{if(!await s)return i(c??n,l??n)});return()=>{o(),a()}},async migrate(){await Promise.all([t.migrate(),e.migrate()])}}}function Ue(t,e,n=!1){return pa.defineItem(jw(t,n),e)}function Ut(t,e=!1){return pa.defineItem(jw(t,e))}function jw(t,e){return e?OP(t):Qp(t)}const Qp=t=>`local:${t}`,OP=t=>`sync:${t}`;function Xp(t,e){if(!(!t||typeof t!="string"))return e()}const PP="@stayfocusd/sessions-last-uploaded-at-key",IP="@stayfocusd/page-views-last-uploaded-at-key-2";var $w=(t=>(t[t.Sessions=PP]="Sessions",t[t.PageViews=IP]="PageViews",t))($w||{}),Q=(t=>(t.Timers="timers",t.ResetTime="resetTime",t.FirstSensorTowerInstallDate="firstSensorTowerInstallDate",t.ResetTimeQueue="resetTimeQueue",t.AppGroups="app-groups",t.ActiveHours="activeHours",t.ActiveHoursQueue="activeHoursQueue",t.ActiveDays="activeDays",t.CurrentUrl="currentUrl",t.CurrentTabId="currentTabId",t.UrlsBeforeBlockedStorage="urlsBeforeBlockedStorage",t.LastResetTime="lastResetTime",t.Theme="theme",t.DisableSync="disableSync",t.BlockAllWebsitesAllowedTime="blockAllWebsitesAllowedTime",t.DisableUpdatePopup="disableUpdatePopup",t.Activated="activated",t.HasAcceptedToS="hasAcceptedToS",t.HasAcceptedPrivacyPolicy="hasAcceptedPrivacyPolicy",t.Is18OrOlder="is18OrOlder",t.Age="age",t.PromptBirthYearAt="promptBirthYearAt",t.PromptBirthYearInterval="promptBirthYearInterval",t.PromptReview="promptReview",t.PromptReviewAt="promptReviewAt",t.PromptReviewInterval="promptReviewInterval",t.ExplicitlyDeclinedPrivacyPolicy="explicitlyDeclinedPrivacyPolicy",t.ShowOnboardingAgainAt="showOnboardingAgainAt",t.ShowOnboardingAgainCount="showOnboardingAgainCount",t.ChallengeRequired="challengeRequired",t.HideAllowSiteLink="hideAllowSiteLink",t.ChallengeText="challengeText",t.Whitelist="whitelist",t.RemoteConfig="remoteConfig",t.RemoteConfigLastFetchedAt="remoteConfigLastFetchedAt",t.CustomStayFocusdMsg="customStayFocusdMsg",t.IsActivateSwitchShown="isActivateSwitchShown",t.ShowedInitialTutorial="showedInitialTutorial",t.StayFreePairingPromoDismissedStorage="stayfreePairingPromoDismissedStorage",t.NotificationSettings="notificationSettings",t.TrackTabsPlayingAudio="trackTabsPlayingAudio",t.NuclearQueue="nuclearQueue",t.BlockedGroups="blockedGroups",t.WhitelistNew="whitelistNew",t.YoutubeShortsHidden="youtube/shorts-hidden",t.YoutubeHomePageHidden="youtube/home-page-hidden",t.YoutubeCommentsHidden="youtube/comments-hidden",t.YoutubeTopBarHidden="youtube/top-bar-hidden",t.YoutubeRecommendedHidden="youtube/recommended-hidden",t.YoutubeEndCardsDisabled="youtube/end-cards-disabled",t.YoutubeBlackWhiteMode="youtube/black-white-mode",t.YoutubeAutoplayDisabled="youtube/autoplay-disabled",t.YoutubeSubscriptionsHidden="youtube/subscriptions-hidden",t.YoutubeExploreHidden="youtube/explore-hidden",t.YoutubeTrendsHidden="youtube/trends-hidden",t.TiktokExploreTabHidden="tiktok/tab-hidden",t.TiktokLiveTabHidden="tiktok/live-tab-hidden",t.TiktokCommentsTabHidden="tiktok/comments-hidden",t.TiktokSearchTabHidden="tiktok/search-hidden",t.TikTokBlackWhiteMode="tiktok/black-white-mode",t.DeviceGroup="device-group",t.IgnoredWebsites="ignored-websites",t.IgnoredApps="ignored-apps",t.IgnoredDesktopApps="ignored-desktop-apps",t[t.SessionsLastUploadedAt=$w.Sessions]="SessionsLastUploadedAt",t))(Q||{});const RP=[1,2,3,4,5,6,0],LP=He.Minute*10,NP=RP,FP={hours:3,minutes:0},BP={start:{hours:0,minutes:0},end:{hours:23,minutes:59}},jP=!1,$P=!1,HP=!0,WP=!1,VP=!1,UP=!1,zP=!0,qP=!0,YP=[zd.Second*5,zd.Second*10,zd.Minute,0,0],zs=!1,gl=!1;var As=(t=>(t.Group="group",t.BlockAll="block-all",t.Nuclear="nuclear",t))(As||{});function GP(){async function t(){return lI.getValue()}async function e(){const r=await iI.getValue();return r==null?void 0:r.some(i=>new Date().getDay()==i)}async function n(){const r=new Date,i=await Yw.getValue();if(i&&r.getTime()>i.timestamp)return await Yw.setValue(null),await qw.setValue(i.time),Lw(r,i.time);const o=await qw.getValue();return Lw(r,o)}async function s(){return await n()&&await e()&&await t()}return{isEnabled:t,isActiveDay:e,isActiveHours:n,isActive:s}}async function ml(){const t=await vn.getValue();let e=[],n=[],s=!1;for(const r in t)t[r].type==As.BlockAll&&(s=!0),e=e.concat(t[r].blocklist??[]),n=n.concat(t[r].brandIds??[]);return{isBlockAll:s,blocklist:e,brands:n}}const KP={StayFocusdPage:"https://stayfocusd.com"};var Gd=(t=>(t.BlockedSites="blocked-sites",t.AllExceptAllowed="all-except-allowed",t.All="all",t))(Gd||{});function Jp(t,e,n,s,r,i=[]){var a,c,l;if(Ca(t,KP.StayFocusdPage))return;const o=()=>{if(n.some(u=>Ca(t,u)))return!0};if(e.type==As.BlockAll)return o()?"allowed":"blocked";if(e.type==As.Group)return o()?"allowed":Kd(t,e.blocklist,e.brandIds,r);if(e.type==As.Nuclear){if(((a=e.options)==null?void 0:a.blockType)==Gd.BlockedSites)return o()?"allowed":Kd(t,s,i,r,!0);if(((c=e.options)==null?void 0:c.blockType)==Gd.All)return"blocked-nuclear";if(((l=e.options)==null?void 0:l.blockType)==Gd.AllExceptAllowed)return o()?"allowed":"blocked-nuclear"}}function Kd(t,e,n,s,r=!1){const i=r?"blocked-nuclear":"blocked";if(e&&e.some(o=>Ca(t,o)))return i;if(n&&n.length>0){let o;return n.forEach(a=>{const c=s.find(h=>h.brand_id.toString()==a);if(!c)return;const l=c.android_apps;if(l&&l.some(h=>Ca(t,h.id))){o=i;return}const u=c.websites;if(u&&u.some(h=>Ca(t,h))){o=i;return}}),o}}function Ca(t,e){return ZP(e,t)||JP(e,t)}function Hw(t){return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.replace(/^https:\/\//,"").replace(/^http:\/\//,"").replace(/^www./,"")}function ZP(t,e){if(e=Hw(e.toLowerCase()),t=Hw(t.toLowerCase()),e.indexOf(t)===0)return!0;const n=Ww(e),s=Ww(t);return t===e||t===n||s===n&&t.length<=e.length&&e.indexOf(t)>=0&&(e.indexOf("/")>=0||e.indexOf("?")>=0)||n.length>s.length&&n.indexOf(t)>-1}function QP(t){if(!t)return null;const e=t.match(/^(.[^/]*?:\/\/)?(.[^/]+)/);if(e===null||e.length<2)return t.split("/")[0];let n=e[2];return n.startsWith("www.")&&(n=n.replace("www.","")),n}function Ww(t){const e=QP(t);if(!e||e.length===0)return"";const n=e.split(".");if(n.length===1)return e;let s=n[n.length-1];return s=n[n.length-2]+"."+s,XP(e)&&(s=n[n.length-3]+"."+s),s}function XP(t){const e=t.split(".");let n=[];if(e.length===1)return!1;const s=e[e.length-2];if(s.length===1||s.length===2&&e.length>3)return!0;if(s.length===3&&e.length>=3){n=["com","edu","gov","mil","net","org","biz","www","pro","int","web","xxx"];for(const r in n)if(s===n[r])return!0}if(s.length===4&&e.length>=3){n=["info","mobi","name","jobs","kiwi","aero","asia","coop"];for(const r in n)if(s===n[r])return!0}if(e.length>=3){const r=e[e.length-3];if(s.length===2&&e.length===3&&r.length>2&&r!=="www")return!0}return!1}function JP(t,e){if(t.indexOf("*")==-1)return!1;t=t.toLowerCase(),e=e.toLowerCase();const n=t.replace("*","");if(e=e||"",e.indexOf(n)===-1)return!1;const s=e.substring(0,e.indexOf(n)+n.length),i=e.substring(s.length-n.length,s.length)===n;return i&&tp("matchesWildcard",`Does ${e} match wildcard  ${t}?`,"YES"),i}const eI="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Vw=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=eI[n[t]&63];return e};const[eW,tI]=Wd("timer-service",sI),nI="default",_o=Je("default");function sI(){const t=i_(),e=GP(),n=async()=>{const u=await vn.getValue();if(!Object.values(u).find(d=>d.name==_o)){const d=[],p={id:Vw(),name:_o,allowedTimeMs:Kn.HOUR.ms,blocklist:[],brandIds:d,type:As.Group,isEnabled:!0,isSynced:!1};u[p.id]=p,await vn.setValue(u)}return Object.values(u)};async function s(){await vn.migrate(),r=await n(),i=await yl.getValue(),o=(await ml()).blocklist,a=await xo()}s();let r=[],i=[],o=[],a=[];e0.watch(async()=>{a=await xo()}),vn.watch(async()=>{r=await n(),o=(await ml()).blocklist}),yl.watch(u=>{i=u});const c=(u,h,d)=>`https://${u}${h}${d?`?${d}`:""}`,l=async(u,h)=>{const d=r.map(y=>{let w=u?Jp(u,y,i,o,a):void 0;return y.type==As.Nuclear&&(w="blocked-nuclear"),{timer:y,relation:w}}).filter(h);if(d.length==0)return[];const p=await t.getTodaysUsage(),g=[...p.local,...p.remote],f=Date.now(),m=await e.isActive();return d.map(({timer:y,relation:w})=>{let v=!1,b=0;return y.type==As.Nuclear?b=f-(y.startTime??f):m?b=(y.isSynced?g:p.local).filter(_=>{const S=Jp(c(_.appId,_.path,_.query),y,i,o,a);return S==="blocked"||S==="blocked-nuclear"}).reduce((_,S)=>(S.endedAt==null&&(v=!0),_+(S.endedAt??f)-S.startedAt),0):b=0,{timer:y,relation:w,timeLeftMs:y.allowedTimeMs-b,active:v}})};return{getPopupTimer:async u=>{const h=await l(u,({timer:d,relation:p})=>p!=null||d.name===_o);if(h.length===0)throw Error("No timers found");return h.toSorted((d,p)=>{const g=Uw[d.relation??"undefined"],f=Uw[p.relation??"undefined"];return g!==f?g-f:d.timer.type==p.timer.type&&d.timer.name==_o?-1:f})[0]},getAllTimers:u=>l(u,()=>!0),getAllTimersByType:u=>l(void 0,h=>h.timer.type==u),getTimerById:async u=>{const h=await l(void 0,d=>d.timer.id==u);return h.length==1?h[0]:null},upsertTimer:async u=>{const h=await vn.getValue();h[u.id]=u,await vn.setValue(h)},deleteTimer:async u=>{const h=await vn.getValue();if(h[u].name==_o)throw Error("Cannot delete the default timer");delete h[u],await vn.setValue(h)}}}function rI(t){const e=t.map(n=>({id:n.timer.id,customLimitName:n.timer.name,dailyLimitDuration:n.timer.allowedTimeMs,timeLeftMs:n.timeLeftMs,elapsedTimeMs:n.timer.allowedTimeMs-n.timeLeftMs,websiteUrls:n.timer.blocklist,brandIds:n.timer.brandIds,isEnabled:n.timer.isEnabled,isSynced:n.timer.isSynced}));return e==null?void 0:e.sort((n,s)=>n.customLimitName===_o?-1:s.customLimitName===_o?1:0)}const Uw={"blocked-nuclear":1,blocked:2,allowed:3,undefined:4};Ut(Q.FirstSensorTowerInstallDate);const zw=Ue(Q.ResetTime,{fallback:FP,version:2,migrations:{2:t=>Xp(t,()=>Kp(t))}});Ut(Q.ResetTimeQueue);const qw=Ue(Q.ActiveHours,{fallback:BP,version:2,migrations:{2:t=>Xp(t,()=>{const e=t.split("|");return{start:Kp(e[0]),end:Kp(e[1])}})}}),Yw=Ut(Q.ActiveHoursQueue),iI=Ue(Q.ActiveDays,{fallback:NP,version:2,migrations:{2:t=>Xp(t,()=>t.split("|").map(n=>Number(n)))}});Ut(Q.CurrentUrl);const oI=Ut(Q.CurrentTabId),aI=Bw(Qp(Q.UrlsBeforeBlockedStorage),{serializer:"map",fallback:new Map});Bw(Qp(Q.LastResetTime),{serializer:"time",fallback:new Us(0)});const cI=Ue(Q.Theme,{fallback:"light"}),Gw=Ue(Q.DisableSync,{fallback:jP});Ue(Q.BlockAllWebsitesAllowedTime,{fallback:LP}),Ue(Q.DisableUpdatePopup,{fallback:$P});const lI=Ue(Q.Activated,{fallback:HP}),Kw=Ut(Q.HasAcceptedToS),Zw=Ut(Q.HasAcceptedPrivacyPolicy),uI=Ut(Q.Is18OrOlder),dI=Ut(Q.Age);Ut(Q.PromptBirthYearAt),Ut(Q.PromptBirthYearInterval),Ue(Q.PromptReview,{fallback:WP}),Ut(Q.PromptReviewAt),Ut(Q.PromptReviewInterval);const hI=Ut(Q.ExplicitlyDeclinedPrivacyPolicy),fI=Ut(Q.ShowOnboardingAgainAt),pI=Ut(Q.ShowOnboardingAgainCount);Ue(Q.ChallengeRequired,{fallback:VP}),Ue(Q.HideAllowSiteLink,{fallback:UP}),Ut(Q.ChallengeText);const yl=Yd(Ue(Q.Whitelist,{fallback:[]}),Ue(Q.Whitelist,{fallback:[]},!0),[]),Qw=Ut(Q.RemoteConfig),Xw=Ut(Q.RemoteConfigLastFetchedAt),gI=Ut(Q.CustomStayFocusdMsg);Ue(Q.IsActivateSwitchShown,{fallback:zP}),Ut(Q.ShowedInitialTutorial),Ut(Q.StayFreePairingPromoDismissedStorage),Ue(Q.NotificationSettings,{fallback:YP}),Ue(Q.TrackTabsPlayingAudio,{fallback:qP}),Ut(Q.NuclearQueue),Ue(Q.YoutubeHomePageHidden,{fallback:zs}),Ue(Q.YoutubeShortsHidden,{fallback:zs}),Ue(Q.YoutubeCommentsHidden,{fallback:zs}),Ue(Q.YoutubeRecommendedHidden,{fallback:zs}),Ue(Q.YoutubeSubscriptionsHidden,{fallback:zs}),Ue(Q.YoutubeExploreHidden,{fallback:zs}),Ue(Q.YoutubeTrendsHidden,{fallback:zs}),Ue(Q.YoutubeTopBarHidden,{fallback:zs}),Ue(Q.YoutubeEndCardsDisabled,{fallback:zs}),Ue(Q.YoutubeBlackWhiteMode,{fallback:zs}),Ue(Q.YoutubeAutoplayDisabled,{fallback:zs}),Ue(Q.TiktokExploreTabHidden,{fallback:gl}),Ue(Q.TiktokLiveTabHidden,{fallback:gl}),Ue(Q.TiktokCommentsTabHidden,{fallback:gl}),Ue(Q.TiktokSearchTabHidden,{fallback:gl}),Ue(Q.TikTokBlackWhiteMode,{fallback:gl});function Jw(){return t=>Object.values(t).reduce((n,s)=>{if(s.type==As.Group&&!s.hasOwnProperty("isEnabled")&&!s.hasOwnProperty("isSynced")){const r=Vw();s.isEnabled=!0,s.isSynced=!1,s.id!=nI&&(s.name=s.id),s.id=r,n[r]=s}else n[s.id]=s;return n},{})}const vn=Yd(Ue(Q.Timers,{fallback:{},version:2,migrations:{2:Jw()}}),Ue(Q.Timers,{fallback:{},version:2,migrations:{2:Jw()}},!0),{}),e0=Ue(Q.AppGroups,{fallback:[]});Yd(Ue(Q.BlockedGroups,{fallback:[]}),Ue(Q.BlockedGroups,{fallback:[]},!0),[]),Yd(Ue(Q.WhitelistNew,{fallback:[]}),Ue(Q.WhitelistNew,{fallback:[]},!0),[]);const Zd=Ue(Q.DeviceGroup,{defaultValue:null}),t0=Ue(Q.IgnoredApps,{defaultValue:[]}),n0=Ue(Q.IgnoredDesktopApps,{defaultValue:[]}),s0=Ue(Q.IgnoredWebsites,{defaultValue:[]});Q.ActiveDays,Q.ResetTimeQueue,Q.ActiveHoursQueue,Q.ActiveHours,Q.Activated,Q.ChallengeRequired,Q.ChallengeText,Q.CustomStayFocusdMsg,Q.TrackTabsPlayingAudio,Q.DisableSync,Q.Theme,Q.HideAllowSiteLink,Q.IsActivateSwitchShown,Q.ResetTime,Q.NotificationSettings,Q.YoutubeAutoplayDisabled,Q.YoutubeCommentsHidden,Q.YoutubeEndCardsDisabled,Q.YoutubeExploreHidden,Q.YoutubeHomePageHidden,Q.YoutubeRecommendedHidden,Q.YoutubeShortsHidden,Q.YoutubeSubscriptionsHidden,Q.YoutubeTopBarHidden,Q.YoutubeTrendsHidden,Q.YoutubeBlackWhiteMode,Q.TiktokLiveTabHidden,Q.TiktokCommentsTabHidden,Q.TiktokSearchTabHidden,Q.TiktokExploreTabHidden,Q.TikTokBlackWhiteMode,Q.Timers,Q.Whitelist,Q.BlockedGroups;function mI(t){const e=new Set;let n={...t.defaultConfig},s,r;async function i(){try{const l=await Promise.all(t.urls.map(p=>fetch(p))),u=await Promise.all(l.map(p=>p.json())),h={...t.defaultConfig,...Object.assign({},...u)},d=n;return s=Date.now(),n=h,await t.persistConfig(h),await t.persistLastFetchedTime(s),e.forEach(p=>{uw(h,d)||p(h,d)}),h}catch(l){throw new Error(`Failed to fetch remote config: ${String(l)}`)}}function o(l){return e.add(l),()=>{e.delete(l)}}const a=t.restoreConfig(),c=t.restoreLastFetchedTime();return a&&c?r=Promise.all([a,c]).then(([l,u])=>(l&&(n=l,s=u),n)):r=Promise.resolve(n),{fetchLatest:i,addChangeListener:o,get value(){return n},get lastFetchedTime(){return s},get restoredPromise(){return new Promise((l,u)=>{r.then(()=>l(n)).catch(u)})}}}var yI=Object.defineProperty,bI=(t,e,n)=>e in t?yI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bl=(t,e,n)=>bI(t,typeof e!="symbol"?e+"":e,n);const vI=`"use strict";(()=>{var Fe=Object.create;var kt=Object.defineProperty;var Le=Object.getOwnPropertyDescriptor;var He=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf,Ve=Object.prototype.hasOwnProperty;var ke=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qe=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of He(t))!Ve.call(e,s)&&s!==r&&kt(e,s,{get:()=>t[s],enumerable:!(o=Le(t,s))||o.enumerable});return e};var Ct=(e,t,r)=>(r=e!=null?Fe(Be(e)):{},qe(t||!e||!e.__esModule?kt(r,"default",{value:e,enumerable:!0}):r,e));var ut=ke((qt,Wt)=>{"use strict";(function(e){if(typeof qt=="object")Wt.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var t;try{t=window}catch{t=self}t.SparkMD5=e()}})(function(e){"use strict";var t=function(f,h){return f+h&4294967295},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function o(f,h,i,n,u,a){return h=t(t(h,f),t(n,a)),t(h<<u|h>>>32-u,i)}function s(f,h){var i=f[0],n=f[1],u=f[2],a=f[3];i+=(n&u|~n&a)+h[0]-680876936|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&u)+h[1]-389564586|0,a=(a<<12|a>>>20)+i|0,u+=(a&i|~a&n)+h[2]+606105819|0,u=(u<<17|u>>>15)+a|0,n+=(u&a|~u&i)+h[3]-1044525330|0,n=(n<<22|n>>>10)+u|0,i+=(n&u|~n&a)+h[4]-176418897|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&u)+h[5]+1200080426|0,a=(a<<12|a>>>20)+i|0,u+=(a&i|~a&n)+h[6]-1473231341|0,u=(u<<17|u>>>15)+a|0,n+=(u&a|~u&i)+h[7]-45705983|0,n=(n<<22|n>>>10)+u|0,i+=(n&u|~n&a)+h[8]+1770035416|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&u)+h[9]-1958414417|0,a=(a<<12|a>>>20)+i|0,u+=(a&i|~a&n)+h[10]-42063|0,u=(u<<17|u>>>15)+a|0,n+=(u&a|~u&i)+h[11]-1990404162|0,n=(n<<22|n>>>10)+u|0,i+=(n&u|~n&a)+h[12]+1804603682|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&u)+h[13]-40341101|0,a=(a<<12|a>>>20)+i|0,u+=(a&i|~a&n)+h[14]-1502002290|0,u=(u<<17|u>>>15)+a|0,n+=(u&a|~u&i)+h[15]+1236535329|0,n=(n<<22|n>>>10)+u|0,i+=(n&a|u&~a)+h[1]-165796510|0,i=(i<<5|i>>>27)+n|0,a+=(i&u|n&~u)+h[6]-1069501632|0,a=(a<<9|a>>>23)+i|0,u+=(a&n|i&~n)+h[11]+643717713|0,u=(u<<14|u>>>18)+a|0,n+=(u&i|a&~i)+h[0]-373897302|0,n=(n<<20|n>>>12)+u|0,i+=(n&a|u&~a)+h[5]-701558691|0,i=(i<<5|i>>>27)+n|0,a+=(i&u|n&~u)+h[10]+38016083|0,a=(a<<9|a>>>23)+i|0,u+=(a&n|i&~n)+h[15]-660478335|0,u=(u<<14|u>>>18)+a|0,n+=(u&i|a&~i)+h[4]-405537848|0,n=(n<<20|n>>>12)+u|0,i+=(n&a|u&~a)+h[9]+568446438|0,i=(i<<5|i>>>27)+n|0,a+=(i&u|n&~u)+h[14]-1019803690|0,a=(a<<9|a>>>23)+i|0,u+=(a&n|i&~n)+h[3]-187363961|0,u=(u<<14|u>>>18)+a|0,n+=(u&i|a&~i)+h[8]+1163531501|0,n=(n<<20|n>>>12)+u|0,i+=(n&a|u&~a)+h[13]-1444681467|0,i=(i<<5|i>>>27)+n|0,a+=(i&u|n&~u)+h[2]-51403784|0,a=(a<<9|a>>>23)+i|0,u+=(a&n|i&~n)+h[7]+1735328473|0,u=(u<<14|u>>>18)+a|0,n+=(u&i|a&~i)+h[12]-1926607734|0,n=(n<<20|n>>>12)+u|0,i+=(n^u^a)+h[5]-378558|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^u)+h[8]-2022574463|0,a=(a<<11|a>>>21)+i|0,u+=(a^i^n)+h[11]+1839030562|0,u=(u<<16|u>>>16)+a|0,n+=(u^a^i)+h[14]-35309556|0,n=(n<<23|n>>>9)+u|0,i+=(n^u^a)+h[1]-1530992060|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^u)+h[4]+1272893353|0,a=(a<<11|a>>>21)+i|0,u+=(a^i^n)+h[7]-155497632|0,u=(u<<16|u>>>16)+a|0,n+=(u^a^i)+h[10]-1094730640|0,n=(n<<23|n>>>9)+u|0,i+=(n^u^a)+h[13]+681279174|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^u)+h[0]-358537222|0,a=(a<<11|a>>>21)+i|0,u+=(a^i^n)+h[3]-722521979|0,u=(u<<16|u>>>16)+a|0,n+=(u^a^i)+h[6]+76029189|0,n=(n<<23|n>>>9)+u|0,i+=(n^u^a)+h[9]-640364487|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^u)+h[12]-421815835|0,a=(a<<11|a>>>21)+i|0,u+=(a^i^n)+h[15]+530742520|0,u=(u<<16|u>>>16)+a|0,n+=(u^a^i)+h[2]-995338651|0,n=(n<<23|n>>>9)+u|0,i+=(u^(n|~a))+h[0]-198630844|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~u))+h[7]+1126891415|0,a=(a<<10|a>>>22)+i|0,u+=(i^(a|~n))+h[14]-1416354905|0,u=(u<<15|u>>>17)+a|0,n+=(a^(u|~i))+h[5]-57434055|0,n=(n<<21|n>>>11)+u|0,i+=(u^(n|~a))+h[12]+1700485571|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~u))+h[3]-1894986606|0,a=(a<<10|a>>>22)+i|0,u+=(i^(a|~n))+h[10]-1051523|0,u=(u<<15|u>>>17)+a|0,n+=(a^(u|~i))+h[1]-2054922799|0,n=(n<<21|n>>>11)+u|0,i+=(u^(n|~a))+h[8]+1873313359|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~u))+h[15]-30611744|0,a=(a<<10|a>>>22)+i|0,u+=(i^(a|~n))+h[6]-1560198380|0,u=(u<<15|u>>>17)+a|0,n+=(a^(u|~i))+h[13]+1309151649|0,n=(n<<21|n>>>11)+u|0,i+=(u^(n|~a))+h[4]-145523070|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~u))+h[11]-1120210379|0,a=(a<<10|a>>>22)+i|0,u+=(i^(a|~n))+h[2]+718787259|0,u=(u<<15|u>>>17)+a|0,n+=(a^(u|~i))+h[9]-343485551|0,n=(n<<21|n>>>11)+u|0,f[0]=i+f[0]|0,f[1]=n+f[1]|0,f[2]=u+f[2]|0,f[3]=a+f[3]|0}function c(f){var h=[],i;for(i=0;i<64;i+=4)h[i>>2]=f.charCodeAt(i)+(f.charCodeAt(i+1)<<8)+(f.charCodeAt(i+2)<<16)+(f.charCodeAt(i+3)<<24);return h}function l(f){var h=[],i;for(i=0;i<64;i+=4)h[i>>2]=f[i]+(f[i+1]<<8)+(f[i+2]<<16)+(f[i+3]<<24);return h}function d(f){var h=f.length,i=[1732584193,-271733879,-1732584194,271733878],n,u,a,S,M,D;for(n=64;n<=h;n+=64)s(i,c(f.substring(n-64,n)));for(f=f.substring(n-64),u=f.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<u;n+=1)a[n>>2]|=f.charCodeAt(n)<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(s(i,a),n=0;n<16;n+=1)a[n]=0;return S=h*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(S[2],16),D=parseInt(S[1],16)||0,a[14]=M,a[15]=D,s(i,a),i}function p(f){var h=f.length,i=[1732584193,-271733879,-1732584194,271733878],n,u,a,S,M,D;for(n=64;n<=h;n+=64)s(i,l(f.subarray(n-64,n)));for(f=n-64<h?f.subarray(n-64):new Uint8Array(0),u=f.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<u;n+=1)a[n>>2]|=f[n]<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(s(i,a),n=0;n<16;n+=1)a[n]=0;return S=h*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(S[2],16),D=parseInt(S[1],16)||0,a[14]=M,a[15]=D,s(i,a),i}function m(f){var h="",i;for(i=0;i<4;i+=1)h+=r[f>>i*8+4&15]+r[f>>i*8&15];return h}function g(f){var h;for(h=0;h<f.length;h+=1)f[h]=m(f[h]);return f.join("")}g(d("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(t=function(f,h){var i=(f&65535)+(h&65535),n=(f>>16)+(h>>16)+(i>>16);return n<<16|i&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function f(h,i){return h=h|0||0,h<0?Math.max(h+i,0):Math.min(h,i)}ArrayBuffer.prototype.slice=function(h,i){var n=this.byteLength,u=f(h,n),a=n,S,M,D,Vt;return i!==e&&(a=f(i,n)),u>a?new ArrayBuffer(0):(S=a-u,M=new ArrayBuffer(S),D=new Uint8Array(M),Vt=new Uint8Array(this,u,S),D.set(Vt),M)}}();function y(f){return/[\\u0080-\\uFFFF]/.test(f)&&(f=unescape(encodeURIComponent(f))),f}function x(f,h){var i=f.length,n=new ArrayBuffer(i),u=new Uint8Array(n),a;for(a=0;a<i;a+=1)u[a]=f.charCodeAt(a);return h?u:n}function R(f){return String.fromCharCode.apply(null,new Uint8Array(f))}function v(f,h,i){var n=new Uint8Array(f.byteLength+h.byteLength);return n.set(new Uint8Array(f)),n.set(new Uint8Array(h),f.byteLength),i?n:n.buffer}function W(f){var h=[],i=f.length,n;for(n=0;n<i-1;n+=2)h.push(parseInt(f.substr(n,2),16));return String.fromCharCode.apply(String,h)}function A(){this.reset()}return A.prototype.append=function(f){return this.appendBinary(y(f)),this},A.prototype.appendBinary=function(f){this._buff+=f,this._length+=f.length;var h=this._buff.length,i;for(i=64;i<=h;i+=64)s(this._hash,c(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},A.prototype.end=function(f){var h=this._buff,i=h.length,n,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a;for(n=0;n<i;n+=1)u[n>>2]|=h.charCodeAt(n)<<(n%4<<3);return this._finish(u,i),a=g(this._hash),f&&(a=W(a)),this.reset(),a},A.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},A.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},A.prototype.setState=function(f){return this._buff=f.buff,this._length=f.length,this._hash=f.hash,this},A.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},A.prototype._finish=function(f,h){var i=h,n,u,a;if(f[i>>2]|=128<<(i%4<<3),i>55)for(s(this._hash,f),i=0;i<16;i+=1)f[i]=0;n=this._length*8,n=n.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(n[2],16),a=parseInt(n[1],16)||0,f[14]=u,f[15]=a,s(this._hash,f)},A.hash=function(f,h){return A.hashBinary(y(f),h)},A.hashBinary=function(f,h){var i=d(f),n=g(i);return h?W(n):n},A.ArrayBuffer=function(){this.reset()},A.ArrayBuffer.prototype.append=function(f){var h=v(this._buff.buffer,f,!0),i=h.length,n;for(this._length+=f.byteLength,n=64;n<=i;n+=64)s(this._hash,l(h.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(h.buffer.slice(n-64)):new Uint8Array(0),this},A.ArrayBuffer.prototype.end=function(f){var h=this._buff,i=h.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u,a;for(u=0;u<i;u+=1)n[u>>2]|=h[u]<<(u%4<<3);return this._finish(n,i),a=g(this._hash),f&&(a=W(a)),this.reset(),a},A.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},A.ArrayBuffer.prototype.getState=function(){var f=A.prototype.getState.call(this);return f.buff=R(f.buff),f},A.ArrayBuffer.prototype.setState=function(f){return f.buff=x(f.buff,!0),A.prototype.setState.call(this,f)},A.ArrayBuffer.prototype.destroy=A.prototype.destroy,A.ArrayBuffer.prototype._finish=A.prototype._finish,A.ArrayBuffer.hash=function(f,h){var i=p(new Uint8Array(f)),n=g(i);return h?W(n):n},A})});var N=class e{constructor(t,r){this.operation=t;this.data=r}static NONCE="z3ZCw_12v";nonce=e.NONCE;static fromObject(t){return!t||t.nonce!==e.NONCE?null:new e(t.operation,t.data)}validate(){return this.nonce===e.NONCE}};var z=class{crawlId;installId;zys;dateCrawlStarted;dateCrawled;crawlUrl;fragmentIndex;youTubeChannelId;youTubeChannelName;youTubeVideoId;constructor(t,r,o,s,c,l,d,p){this.crawlId=t,this.installId=r,this.zys=o,this.dateCrawlStarted=s,this.dateCrawled=c,this.crawlUrl=l,this.fragmentIndex=d,Object.assign(this,p)}get ads(){return this.zys}set ads(t){this.zys=t}};var lt=Ct(ut(),1);var _=class{x;y;width;height;text;sourceUrls;hash;hashOverride;type;typeOverride;canvases;svgs;depth;adRuleId;dedupeKey;duration;language;youTubeId;netflixData;tikTokData;twitterData;vastData;outerHtml;static minWidth=120;static minHeight=28;static minimumVideoToAdAreaRatio=.5;static minimumImageToAdAreaRatio=.05;constructor(t){this.x=t.x??0,this.y=t.y??0,this.width=t.width,this.height=t.height,this.text=t.text??"",this.sourceUrls=t.sourceUrls??[],this.hash=t.hash??"",this.type=t.type,this.canvases=[],this.svgs=[],this.depth=0,this.adRuleId=t.adRuleId,this.duration=t.duration,this.language=t.language,this.youTubeId=t.youTubeId,this.netflixData=t.netflixData,this.tikTokData=t.tikTokData,this.twitterData=t.twitterData,this.vastData=t.vastData}};var w=class e{u;t;h;d;width;height;constructor(t){this.u=e.qualifyURL(t.url,t.doc),this.t=t.urlType,this.d=t.depth,this.width=t.width,this.height=t.height}get url(){return this.u}set url(t){this.u=t}get urlType(){return this.t}set urlType(t){this.t=t}get depth(){return this.d}set depth(t){this.d=t}get hash(){return this.h}set hash(t){this.h=t}static SourceUrlTags=new Set(["A","DIV","IFRAME","IMG","LINK","SCRIPT","SPAN","VIDEO"]);static qualifyURL(t,r){if(!t||new RegExp("^(?:\\\\w+-extension)|(?:about)|(?:blob)|(?:javascript):").test(t))return"";r=r||document;let o=r.createElement("a");return o.href=t,o.href}};async function Y(e,t){if(!e)return[];let r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c=>w.SourceUrlTags.has(c.nodeName)||c?.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),o=[],s=r.currentNode;for(;s;){o.push(...await We(s,t));let c=s?.shadowRoot;c&&o.push(...await Y(c?.firstElementChild,t)),s=r.nextNode()}return o.filter(c=>c.url)}async function We(e,t){if(!e||!w.SourceUrlTags.has(e.nodeName))return[];if(e.nodeName=="IMG")return[await jt(e,t)];if(e.nodeName=="DIV"||e.nodeName=="SPAN"){let s=/url\\(['"]?([^'"]+)['"]?\\)/gi,c=getComputedStyle(e).getPropertyValue("background-image");return Promise.all(Array.from(c.matchAll(s)).filter(l=>l).map(l=>l[1]).map(async l=>{try{let d=new Image;return d.src=l,await d.decode(),jt(d,t)}catch{return new w({url:l,urlType:7,depth:t,doc:e?.ownerDocument})}}))}if(e.nodeName==="VIDEO"){if(e=e.hasAttribute("src")?e:e.querySelector("source"),!e)return[];let s=e.getBoundingClientRect(),c=Math.round(s.width),l=Math.round(s.height);return[new w({url:e.getAttribute("src"),urlType:4,depth:t,width:c,height:l,doc:e.ownerDocument})]}if(e.nodeName==="IFRAME")return[new w({url:e.getAttribute("src"),urlType:1,depth:t,width:e.offsetWidth,height:e.offsetHeight,doc:e.ownerDocument})];let r=null,o=0;switch(e.nodeName){case"SCRIPT":r=e.getAttribute("src"),o=6;break;case"LINK":r=e.getAttribute("href"),o=6;break;case"A":r=e.getAttribute("href"),o=8;break}return[new w({url:r,urlType:o,depth:t,doc:e.ownerDocument})]}async function jt(e,t){let r=e.getAttribute("src"),o=e.getBoundingClientRect(),s=Math.round(e.naturalWidth||o.width),c=Math.round(e.naturalHeight||o.height);if(!(s||c)&&r)try{let d=new Image;d.src=r,await d.decode(),s=d.naturalWidth,c=d.naturalHeight}catch{}let l=0;return(o.width||s)<2&&(o.height||c)<2||s===43&&c===22||o.y+window.scrollY<5&&(o.width||s)<85&&(o.height||c)<=20?l=7:l=3,new w({url:r,urlType:l,depth:t,width:o.width||s,height:o.height||c,doc:e.ownerDocument})}async function ht(e,t){e.sourceUrls=ft(e.sourceUrls,l=>l.u);let r=e.sourceUrls.filter(l=>l.t===3||l.t===4),s=r.filter(l=>l.t===3).sort((l,d)=>(l.width||0)*(l.height||0)-(d.width||0)*(d.height||0)).pop(),c=r.filter(l=>l.t===4);if(e.type=e.typeOverride??(r.length===1&&(r[0].width||0)>=e.width-2&&(r[0].height||0)>=e.height-2?r[0].t===3?1:3:c.length===1&&(c[0].width||0)*(c[0].height||0)>=e.width*e.height*_.minimumVideoToAdAreaRatio?3:7),e.hashOverride)return e.hash=e.hashOverride;if(e.type===7&&!c.length&&(s?.width||0)*(s?.height||0)<e.width*e.height*_.minimumImageToAdAreaRatio)return e.hash="";for(let l of r)l.h=await dt(l.u||"",t);if(e.hash=r.filter(l=>l.h).reduce((l,d)=>X(l,d.h),"")||"",e.type===3&&!e.hash&&(e.hash=j(r[0].u??"",!0)),e.type===7&&e.text){let l=j(e.text.toLowerCase(),!0);e.hash=X(e.hash,l)}if(e.hash||(e.canvases?.length&&(e.hash=e.canvases.reduce((l,d)=>X(j(d),l),e.hash)),e.svgs?.length&&(e.hash=e.svgs.reduce((l,d)=>X(j(d),l),e.hash))),e.type===7&&e.hash){let l=j(Ge(Gt(Math.round(e.height)),Gt(Math.round(e.width))),!0);e.hash=X(e.hash,l)}r.forEach(l=>{l.h&&(l.h=btoa(l.h))}),e.hash=btoa(e.hash)}async function dt(e,t){try{return j(await t(e))}catch(r){return b(r),""}}function j(e,t){if(je(e)==="arraybuffer"){let r=e;return r.byteLength===0?"":lt.default.ArrayBuffer.hash(r,!0)}else{let r=e;return t?lt.default.hash(r,!0):lt.default.hashBinary(r,!0)}}function je(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function X(e,t){if(!t)return e||"";if(!e)return t;if(e.length<t.length){let c=e;e=t,t=c}let r=e.length,o=t.length,s="";for(let c=0;c<o;c++)s+=String.fromCharCode(e.charCodeAt(c)^t.charCodeAt(c));for(let c=o;c<r;c++)s+=String.fromCharCode(e.charCodeAt(c));return s}function Gt(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!0),t}function Ge(e,t){let r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}var B=3e3;var Tt="pc",Nt="ca",tt=72e5,Q=null;function b(...e){Q&&(e=e||[],e=e.map(t=>t?.stack&&t.message?{error:t.message,stack:t.stack}:t),e=e.map(t=>typeof t!="object"||t instanceof String?t:JSON.stringify(t)),e.length==1?Q(e[0]):Q(e))}function Xt(e){Q=e||Q}var pt=class{constructor(t,r,o,s){let c=Kt(t);c==="object"?(this.left=0,Object.assign(this,t)):c==="number"&&(this.left=Math.round(Math.max(t||0,0))||0,this.top=Math.round(Math.max(r||0,0))||0,this.width=Math.round(Math.max(o||0,0))||0,this.height=Math.round(Math.max(s||0,0))||0)}get bottom(){return this.top+this.height}get right(){return this.left+this.width}toString(){return\`\${this.width}x\${this.height}@\${this.left},\${this.top}\`}};function $e(){return("10000000-1000-1000-1000"+-1e11).replace(/[01]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function Kt(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function Je(e,t){let r={},o=Object.keys(t);for(let s=0,c=o.length;s<c;s++){let l=o[s];if(t.hasOwnProperty(l)){let d=t[l];if(d==null||d===""&&e[l]||d instanceof Array&&!d.length&&e[l]?.length||(l==="top"||l==="left"||l==="X"||l==="Y")&&e[l]>0)continue;r[l]=t[l]}}return Object.assign(e,t)}function E(e){try{return e()}catch{return null}}var rn=Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").map(e=>e.charCodeAt(0));function Yt(e){return e.tagName?.toUpperCase?.()||E(()=>e.outerHTML.substr(1,e.outerHTML.indexOf(" ")-1).toUpperCase())||""}function $t(e){let t=0,r="",o={" ":1,"\\f":1,"\\n":1,"\\r":1,"	":1,"\\v":1,"\\xA0":1,"\\u2028":1,"\\u2029":1};for(let s=0,c=e.length;s<c;s++)o[e.charAt(s)]?(t||(r+=" "),t=1):(t=0,r+=e.charAt(s));return r.trim()}function U(){return ze(C.location.hostname)}function ze(e){return e.split(".").slice(e.endsWith(".uk")||e.endsWith(".jp")?-3:-2).join(".")}function yt(){let e=new Set(["aarp.org","abc.com","aol.com","attn.com","atttvnow.com","brainly.com","bravotv.com","cartoonnetwork.com","cbs.com","cbssports.com","chron.com","citationmachine.net","cnet.com","cnn.com","crunchyroll.com","dailymail.co.uk","delish.com","discoveryplus.com","easybib.com","espn.com","fandom.com","foxbusiness.com","foxnews.com","fubo.tv","genius.com","go.cnn.com","go.com","goodhousekeeping.com","happykids.tv","hulu.com","imdb.com","investigationdiscovery.com","linkedin.com","locast.org","mlb.com","msn.com","music.amazon.com","music.apple.com","music.youtube.com","mytuner-radio.com","nexusmods.com","nfl.com","nhl.com","nypost.com","nytimes.com","paramountplus.com","pch.com","philo.com","playstation.com","pluto.tv","rawstory.com","realtor.com","refinery29.com","seattlepi.com","sfgate.com","sling.com","spanishdict.com","sporcle.com","steampowered.com","tablotv.com","therokuchannel.roku.com","try.frndlytv.com","tubitv.com","tv.apple.com","tv.youtube.com","twitch.tv","uproxx.com","usatoday.com","vudu.com","washingtonpost.com","watch.hgtv.com","watch.spectrum.net","weather.com","www3.nhk.or.jp","xbox.com","xfinity.com","yahoo.com","yelp.com","youtubekids.com"]);return T&&(e.has(C.location.hostname)||e.has(U()))}function O(e){e.documentElement&&(e=e.documentElement);let t=Yt(e);if(e.offsetParent===null&&t!=="BODY"&&t!=="HTML"&&t!=="FRAME")return new pt;let o=(e.ownerDocument||document).defaultView||C,s=e.getBoundingClientRect();return new pt(s.left+o.scrollX,s.top+o.scrollY,s.width,s.height)}var Jt=["background-image","display","visibility","z-index","border-top-width","border-left-width","border-bottom-width","border-right-width","padding-top","padding-left","padding-bottom","padding-right","position","width","height","top","bottom","left","right","font-size"];function Xe(e){if(e._pm_st)return e.style&&(e._pm_st=Je(e._pm_st,JSON.parse(JSON.stringify(e.style,Jt)))),e._pm_st;let t=e.ownerDocument?.defaultView;typeof window<"u"&&(!t||!t.opener)&&(t=window);let r=JSON.parse(JSON.stringify(t.getComputedStyle(e),Jt));return e._pm_st=r,r}function Qt(e,t){let r=e.nodeName,o=Xe(e),s=O(e);if(o?.display!=="none"&&s&&s.width>20&&s.height>20)if(r==="CANVAS"&&!e.matches(".__pm_marker"))try{t.canvases.push(e.toDataURL("image/jpeg",.2))}catch{}else r==="SVG"&&t.svgs.push(e.outerHTML)}function wt(e){if(!e)return"";let t=e?.ownerDocument||document,r=t.defaultView.NodeFilter;if(Kt(e)==="htmldocument"&&e.body&&(e=e.body),!e)return"";let o={SCRIPT:1,NOSCRIPT:1,STYLE:1},s=Yt(e);if(s==="HTML"&&(e=e.querySelector("body")),!e)return"";let c=function(m){try{return m.nodeType===3?r.FILTER_ACCEPT:!m.tagName||o[m.tagName]||m.offsetParent===null?r.FILTER_REJECT:r.FILTER_ACCEPT}catch{return r.FILTER_REJECT}};if(e.nodeType!==3&&(!s||o[s]))return"";let l=t.createTreeWalker(e,r.SHOW_ELEMENT|r.SHOW_TEXT,{acceptNode:c},!0),d={"LEARN MORE":1,REPLAY:1},p=[];for(;e;){if(e.nodeType===3){let m=$t(e.nodeValue||"");!d[m.toUpperCase()]&&!p.includes(m)&&p.push(m)}e=l.nextNode()}return p.length?$t(p.join(" ")):""}function V(e,t){return C.requestIdleCallback?{id:C.requestIdleCallback(e,{timeout:t}),isIdleCallback:!0}:{id:setTimeout(e,t),isIdleCallback:!1}}var Z=null;function P(e){Z=e||Z}function Rt(){Z=null}function Zt(){if(typeof window>"u")return;let e=function(d,p,m,g){V(()=>{!Z||!d||Z(d,p,m,g)},1e4)},t=d=>new TextDecoder("utf-8").decode(new Uint8Array(d)),r=function(d,p){try{if(p=d.currentTarget||p,p=p._datadog_xhr||p,p.readyState===4&&p.status>=200&&p.status<=210){let m=E(()=>p.responseXML),g=E(()=>p.responseText)||E(()=>t(p.response)||JSON.stringify(p.response))||E(()=>m.documentElement.outerHTML);(g||m)&&e(g,m,p.reponseType==="json",p.responseURL)}}catch{}},o=XMLHttpRequest.prototype.send;function s(){let d=this.onreadystatechange,p=arguments;this.onreadystatechange=function(m){return r(m,this),d?.apply?.(this,arguments)},o.apply(this,p)}XMLHttpRequest.prototype.send=s;let c=C.fetch,l=function(){return c.apply(this,arguments).then(async d=>{let p=d.headers.get("Content-Type");if(p&&(p.includes("text")||p.includes("json")||p.includes("xml")||p.includes("javascript"))){let m=d.clone(),g=await m.text();e(g,null,p.includes("json"),m.url)}return d})};C.fetch=l}function Pt(e){if(!e)return null;let t=null;return e=(e+"").trim(),e=="start"?t=0:e.indexOf(":")>=0?t=E(()=>Math.round(e.split(":").reduce((r,o,s,c)=>r+parseFloat(o)*Math.pow(60,c.length-s-1),0)))||t:isNaN(e)||(t=Math.round(parseFloat(e))),t}var te,$,ee,It,H,mt,gt;function re(e){H[e.dedupeKey]?.depth>e.depth||H[e.dedupeKey]?.depth===e.depth&&H[e.dedupeKey].adRuleId<e.adRuleId||(H[e.dedupeKey]=e)}function Ke(){let e=C.location;return e.href.indexOf("youtube.com/watch")===-1?e.origin+e.pathname:e.href}async function Ye(e){await Promise.all(e.map(t=>ht(t,L)))}async function Qe(){let e=Object.values(H),t=Object.values(mt);return H={},mt={},await Ye(e),new z(te,At,e.concat(t).filter(r=>r.hash),$-(F?.TimeOffset||0),Date.now()-(F?.TimeOffset||0),It,ee++,gt)}function I(e,t,r){if(!T){q(top,new N(Tt,[e,t]));return}e.forEach(o=>mt[o.hash]=o),gt=t||gt,k(r)}var zt=0;async function k(e){let t=Date.now();if(t-zt>B||e){zt=t;let r=await Qe();Mt?.(JSON.stringify(r))}}function ne(){if(!T)return;te=$e(),$=Date.now(),ee=0;let e=F?.ParsedSiteConfigs[U()];if(e){let t=new RegExp(e).exec(location.href);It=t?t.slice(1).join(""):location.protocol+"://"+location.hostname}else It=Ke();H={},mt={},gt=void 0}function Ze(e,t){return e.reduce(function(r,o){return(r[t(o)]=r[t(o)]||[]).push(o),r},{})}function ft(e,t){return Object.values(Ze(e,t)).map(r=>r[0])}function q(e,t){e.postMessage(t,"*")}var se=Ct(ut(),1);var tr=/^https:\\/\\/hulu-ad-asset\\/([0-9]+)$/,ie=100,et=new Map,rt=new Map;function ae(){b("HULU AD CAPTURE"),P((e,t,r,o)=>{try{if(!o?.includes("playlist")&&(!o?.includes("manifest.mpd")||r))return;if(o?.includes("playlist")&&er(e).forEach(d=>et.set(d.id,d.url)),o?.includes("manifest.mpd")&&!r){let l=E(()=>t?.documentElement||e&&new DOMParser().parseFromString(e,"application/xml").documentElement);rr(l).forEach(p=>rt.set(p.id,p.ad))}let s=[],c=[];rt.forEach((l,d)=>{let p=et.get(d);p&&(l.sourceUrls.push(new w({url:p,urlType:8})),s.push(l),c.push(d))}),c.forEach(l=>{et.delete(l),rt.delete(l)}),s.length&&I(s,void 0,!0),(et.size>ie||rt.size>ie)&&(et.clear(),rt.clear())}catch(s){b(s)}})}function er(e){try{return JSON.parse(e).breaks?.filter(t=>t.type!=="BlankAdBreakInfo"&&t.url&&t.clickthrough).map(t=>{let r=tr.exec(t.url);return r?{id:r[1],url:t.clickthrough}:null}).filter(t=>t)}catch(t){return b(t),[]}}function rr(e){var t=Array.from(e.querySelectorAll("Period[id^='ad-']"));return t.length?t.map(r=>{try{let o=Array.from(r.querySelectorAll("AdaptationSet[mimeType='video/mp4'] Representation")),s=Array.from(r.querySelectorAll("AdaptationSet[mimeType='audio/mp4'] Representation"));if(!o.length||!s.length)return null;let c=r.querySelector("AssetIdentifier")?.attributes.value.value,l=o.reduce(oe),d=l.querySelector("BaseURL").textContent,p=l.attributes,g=s.reduce(oe).querySelector("BaseURL").textContent;if(!c||!d||!g)return null;let y=parseInt(p.width.value),x=parseInt(p.height.value);return{id:c,ad:new _({width:y,height:x,sourceUrls:[new w({url:d,urlType:4,width:y,height:x}),new w({url:g,urlType:9})],hash:btoa(se.default.hash(d,!0)),type:3,duration:nr(r.attributes.duration.value)})}}catch(o){return b(o),null}}).filter(r=>r):[]}function oe(e,t){return parseInt(e.attributes.bandwidth.value)<parseInt(t.attributes.bandwidth.value)?e:t}function nr(e){let t=e.match(/PT(\\d+(\\.\\d+)?)S/);return t?Math.round(t[1]):null}var _t={},ce=!1;function ue(){if(b("NETFLIX AD CAPTURE"),!(typeof window>"u")){if(!ce){let e=Object.defineProperty;Object.defineProperty=function(r,o,s){return Date.now()-$<tt&&V(()=>{if(Object.hasOwn(r,"isAd")&&r.isAd){let c=ir(r);c&&(_t[c.hash]=c)}}),e(r,o,s)},ce=!0}I(Object.values(_t)),_t={}}}function ir(e){let t=e.movieId;if(!t||_t[t])return;let r=e.video_tracks[0].streams[0],o=r.res_w,s=r.res_h,c=e.audio_tracks[0].streams[0];return new _({hash:("n+++"+t).padEnd(t.length+4+(t.length+4)*6%8/2,"=").replace("===","A=="),type:3,sourceUrls:[new w({url:r.urls[0].url,urlType:4,width:o,height:s}),new w({url:c.urls[0].url,urlType:9})],width:o,height:s,duration:e.duration,language:c.language,netflixData:{id:t}})}function le(){b("TIKTOK AD CAPTURE"),P((e,t,r,o)=>{try{if(!o||!o.includes("item_list"))return;let s=or(e);I(s)}catch{}})}function or(e){return JSON.parse(e).itemList.filter(o=>o.isAd===!0).map(o=>{let s=o.ad_info,c=o.author,l=o.video;return new _({width:l.width,height:l.height,hash:s.ad_id,type:105,tikTokData:{adId:s.ad_id,creativeId:s.creative_id,postId:o.id,advertiserId:s.advertiser_id,accountName:c.uniqueId,displayName:c.nickname,caption:o.desc,cta:s.button_text,landingPage:s.web_url}})})}var nt=[];async function Ut(){b("TWITTER AD CAPTURE"),P((e,t,r,o)=>{try{if(!o||!o.includes("HomeTimeline")&&!(o.includes("/conversation/")&&o.includes("/"+/\\d+$/.exec(window.location.pathname)[0]+".json")))return;let s=sr(e);nt=nt.concat(s)}catch{}}),await ar()}function sr(e){let t=JSON.parse(e);return([].concat.apply([],t?.data?.home?.home_timeline_urt?.instructions?.filter?.(s=>s?.type=="TimelineAddEntries")?.map?.(s=>s.entries))||[]).map(s=>s.content?.itemContent).filter(s=>s?.promotedMetadata).map(s=>{let c=s.tweet_results?.result?.card?.legacy?.binding_values?.filter?.(d=>d?.key=="unified_card")?.map?.(d=>JSON.parse(d.value?.string_value))?.[0],l=c?.destination_objects?.browser_1?.data?.url_data?.url||c?.destination_objects?.browser_with_docked_media_1?.url_data?.url;return{id_str:s?.tweet_results?.result?.rest_id,screen_name:s?.tweet_results?.result?.core?.user_results?.result?.legacy?.screen_name,cardDestination:l,advertiserId:s?.promotedMetadata?.advertiser_results?.result?.rest_id,user_id_str:s?.tweet_results?.result?.legacy?.user_id_str}}).filter(s=>s.id_str&&s.screen_name)}async function ar(){if(!it)return;let e=await cr(document,nt),t=e.map(r=>r.twitterData.tid);nt=nt.filter(r=>!t.includes(r.id_str)),I(e)}async function cr(e,t){let o=Array.from(e.querySelectorAll("div.tweet.promoted-tweet"));o.length||(o=Array.from(e.querySelectorAll("article div>svg")).map(c=>c.parentElement.querySelector("span")).filter(c=>c?.textContent&&c.textContent.length<50).map(c=>c.closest("article"))),o.length||(o=Array.from(document.querySelectorAll("span")).filter(c=>c.textContent==="Ad").map(c=>c.closest("article")));let s=[];for(let c=0;c<o.length;c++){let l=o[c],d=Array.from(l.querySelectorAll("div>span,a span")).map(v=>v.textContent).filter(v=>v?.startsWith("@"))[0];d=d.startsWith("@")?d.substring(1):d;let p=null,m=null;for(m of t)if(m.screen_name==d&&(p=m.id_str,p))break;if(!p)continue;let g=wt(l);g&&(g=g.replace(new RegExp("# (\\\\w)","gi"),"#$1"));let y=O(l),x=new _({x:y.left,y:y.top,width:y.width,height:y.height,text:g,sourceUrls:(await Y(l.querySelector(".tweet-details-fixer")||l)).concat([new w({url:m.cardDestination,urlType:8})]).filter(v=>v.url&&!v.url.includes("/profile_images/")&&!v.url.includes(p+"/retweets")&&!v.url.includes(p+"/likes")&&!v.url.includes("/using-twitter/how-to")),hash:("t+++"+p).padEnd(p.length+4+(p.length+4)*6%8/2,"=").replace("===","A=="),type:l.querySelector("video")||l.querySelector(".PlayableMedia")?105:Array.from(l.querySelectorAll("img")).filter(v=>v.naturalWidth>200&&v.naturalHeight>40).length?104:l.querySelector("iframe")?102:103,twitterData:{taid:m.advertiserId||m.user_id_str||0,tid:p,tsn:d}}),R=(x.sourceUrls||[]).filter(v=>v?.url);x.sourceUrls=ft(R,v=>v.url),s.push(x)}return s}function Ot(){b("VAST AD CAPTURE"),P((e,t,r)=>{try{let o=e.substring(0,500),s=o.indexOf('"ad_id":')>=0||o.indexOf('"ad_type"')>=0,c=[];if(r||s)ur(e,c);else if(o.indexOf("<VAST ")>=0||o.indexOf("<vmap:AdBreak ")>=0){let l=E(()=>t?.documentElement||e&&new DOMParser().parseFromString(e,"application/xml").documentElement);lr(l,c)}else return;Promise.allSettled(c).then(l=>{b("Ads found.",l.map(d=>d.value)),I(l.map(d=>d.value).filter(d=>d))})}catch(o){b(o)}})}function ur(e,t){let r=E,o=r(()=>e&&JSON.parse(e)),s=r(()=>o.items);s?.length&&Array.from(s).forEach(c=>{let l=r(()=>c.media.streamurl);if(!l)return;let d=r(()=>c.clickthrough),p=r(()=>c.media.duration),m=r(()=>c.ad_id||c.ad_video_id),g=r(()=>c.title);m&&U()==="peacocktv.com"&&(m=m.split(".")[0]);let y=r(()=>c.system);t.push(dt(l,L).then(x=>new _({width:1920,height:1080,sourceUrls:[new w({url:l,urlType:4}),new w({url:d,urlType:8}),new w({url:"http://"+y,urlType:1})].filter(v=>v.url),hash:btoa(x)||m,type:3,duration:Math.round(p),vastData:{Id:m,Title:g,System:y}})))})}function lr(e,t){let r=E,o=r(()=>e?.querySelectorAll("VAST Ad"));o&&Array.from(o).forEach(s=>{let c=s.querySelector("Creatives Creative");if(!c)return;let l=c.querySelector("MediaFiles");if(!l)return;let d=r(()=>c.querySelector("VideoClicks ClickThrough").textContent.trim())||r(()=>document.querySelector(".AdUnitView a").href.trim()),p=r(()=>Pt(c.querySelector("Duration").textContent)),m=r(()=>l.querySelector("MediaFile[type='video/mp4'],MediaFile[type='application/dash+xml'],MediaFile[type='video/mpd']").textContent.trim());if(!m){let h=c.querySelector("AdParameters"),i={},n,u=new RegExp("<(\\\\w+)>([^<]+)</\\\\1>","gi");for(;(n=u.exec(h.textContent))!==null;)i[n[1]]=n[2];p=r(()=>Pt(i.adDuration)),d=r(()=>i.clickUrl);let a=i.JsParameters;if(!a)return;let S=JSON.parse(a);m=r(()=>S.videos[0].url),m&&(p=p||S.duration,d=d||S.clickThruUrl||S.clickThroughUrl)}if(!m)return;let g=c.getAttribute("AdID")||c.getAttribute("AdId")||c.getAttribute("adid")||s.getAttribute("id");if(!g)return;U()==="peacocktv.com"&&(g=g.split(".")[0]);let y=r(()=>s.querySelector("AdTitle").textContent.trim()),x=r(()=>s.querySelector("AdSystem").textContent.trim()),R=s.querySelector("Extension"),v=r(()=>R.querySelector("CreativeParameter[name='_fw_advertiser_name']").textContent.trim())||r(()=>R.querySelector("CreativeParameter[name='fw_advertiser_name']").textContent.trim())||r(()=>R.querySelector("CreativeParameter[name='fw_advertiser']").textContent.trim()),W=r(()=>R.querySelector("CreativeParameter[name='fw_brand']").textContent.trim()),A=r(()=>R.querySelector("CreativeParameter[name='industry']").textContent.trim()),f=r(()=>R.querySelector("CreativeParameter[name='ccr_measurement']").textContent.trim());t.push(dt(m,L).then(h=>new _({width:1920,height:1080,sourceUrls:[new w({url:m,urlType:4}),new w({url:d,urlType:8}),new w({url:f,urlType:0})].filter(i=>i.url),hash:btoa(h)||g,type:3,duration:Math.round(p),vastData:{Id:g,Adv:v,Brand:W,Cat:A,Title:y,System:x}})))})}var de=Ct(ut(),1);function hr(e){return e?new URL(e).searchParams.get("v"):null}var Dt;function bt(){return Dt||(Dt=document.querySelector("#movie_player")),Dt}function dr(){return E(()=>{let e=JSON.parse(bt().getDebugText());return e.ad_debug_videoId||e.addebug_videoId||e.ad_videoId})}function fr(){return E(()=>{let e=document.querySelector("#upload-info a.yt-simple-endpoint"),t=e.href.split("/");return{youTubeChannelId:t[t.length-1],youTubeChannelName:e.textContent.trim(),youTubeVideoId:E(()=>hr(window.location.href))}})}function pr(){let e=E(()=>document.querySelector(".ytp-ad-player-overlay-instream-info .ytp-ad-button-text").textContent);if(e&&yr.test(e)){let t=e.indexOf("http://")===0||e.indexOf("https://")===0?e:"https://"+e.toLowerCase();return new w({url:t,urlType:8})}return null}function mr(e){return e?btoa(de.default.hash("YouTube+"+e,!0)):null}function gr(){return E(()=>bt().getAdState()>0||JSON.parse(bt().getDebugText()).addebug_videoId)}var yr=new RegExp("^(?:https?://)?[a-z0-9.-]+(\\\\.[a-z]+)+(?:$|/)"),fe={};function he(e){[e?.playerAds??[],e?.adPlacements??[]].flat().map(t=>(t.adPlacementRenderer?.renderer?.linearAdSequenceRenderer?.linearAds?.map(r=>r?.instreamVideoAdRenderer)??[]).concat([t.adPlacementRenderer?.renderer?.instreamVideoAdRenderer])).flat().filter(t=>t).map(function(t){let r=t?.playerOverlay?.instreamAdPlayerOverlayRenderer?.visitAdvertiserRenderer?.buttonRenderer?.navigationEndpoint?.urlEndpoint?.url;return r?{videoId:t.externalVideoId,lp:r}:null}).filter(t=>t).reduce((t,r)=>Object.assign(t,{[r.videoId]:new w({url:r.lp,urlType:8})}),fe)}function pe(){try{if(P((p,m,g,y)=>{try{if(!y||!y.includes("/ad_break?")&&!y.includes("/player?"))return;he(JSON.parse(p))}catch(x){b(x)}}),!gr())return k();he(window.ytInitialPlayerResponse);let e=0,t=640,r=360,o=0,s=0,c=bt(),l=c.querySelector("a.ytp-title-link"),d=c.querySelector("video");if(d){e=d.duration||0;let p=O(d);t=p?.width||t,r=p?.height||r,o=p?.left||o,s=p?.top||s}V(()=>{let p=dr()||void 0,m=fe[p]??pr(),g=fr(),y=m?[m]:[],x=new _({x:o,y:s,width:t,height:r,text:l?.textContent,sourceUrls:y,hash:mr(p),type:3,duration:Math.round(e),youTubeId:p});I([x],g)})}catch(e){b(e)}}var ot=class{constructor(t=null){this.log=t,this.#t.log=t??(()=>{})}simplifyTree(t){let r;for(;;){if(r=this.#t[t.r],!r)throw new Error(\`Rule \${t.r} not implemented.\`);if(r!==this.#t.PassOn||!t.c||!t.c.length)break;t=t.c[0]}return t.c&&t.c.length&&(t.c=t.c.map(o=>this.simplifyTree(o))),t}debugPrintParseTree(t,r=0){this.log(\`\${" ".repeat(r*2)}\${t.r}: \${this.#t.GetText(t)}\`),t.c&&t.c.length&&t.c.forEach(o=>this.debugPrintParseTree(o,r+1))}isValidRuleName(t){return t.indexOf("TerminalNode")===0||!!this.#t[t]}evaluate(t,r){return this.#t.evaluate(t,r)}#t=class{static#s=0;static evaluate(t,r,o){try{if(!this[t.r])throw new Error(t.r+" is not a parser rule function.");return this[t.r](t,r,o)}catch(s){this.log("Error "+t.r+' at "'+this.GetText(t)+'": '+s)}}static#i=new RegExp(\`(?:^['"])|(?:['"]$)\`,"g");static#o=new RegExp("\\\\s+","g");static#a=this;static PassOn(t,r){return this.evaluate(t.c[0],r)}static NoOp(t){this.log(\`Unimplemented rule: \${t.r} at "\${this.GetText(t.t)}".\`)}static ExpStmt=this.PassOn;static ExpSequence=this.PassOn;static LitExp=this.PassOn;static Literal=this.PassOn;static ArrayLitExp=this.PassOn;static ArrayLit=this.PassOn;static ArrowFuncBody=this.PassOn;static ObjectLitExp=this.PassOn;static IdName=this.PassOn;static MultOperator=this.NoOp;static AdditionOperator=this.NoOp;static RelationalOperator=this.NoOp;static EqualityOperator=this.NoOp;static ReservedWord=this.NoOp;static AssignExp=this.NoOp;static VarModifier=this.NoOp;static FormalParameterList=this.NoOp;static FormalParameterArg=this.NoOp;static PropAssign=this.NoOp;static Exp=this.NoOp;static Assignable=this.NoOp;static AnonFunc=this.NoOp;static ArrowFuncParameters=this.NoOp;static PropName(t){return t.c?t.c[0].t:this.#r(t.t)}static ObjectLit(t,r){let o={};return t.c.forEach(s=>this.PropExpAssign(s,r,o)),o}static PropExpAssign(t,r,o){let s=this.evaluate(t.c[0],r),c=this.evaluate(t.c[1],r);o[s]=c}static#r(t){return t?.replaceAll(this.#i,"")}static StrLit(t){return this.#r(t?.t)}static NumLit(t){return Number.parseFloat(t?.t)}static IntLit(t){return Number.parseInt(t?.t)}static BoolLit(t){return t.t&&t.t=="true"}static NullLit(){return null}static IdExp(t,r){return this.evaluate(t.c[0],r)}static Id(t,r){return r[t.t]}static FuncExp(t,r){return this.evaluate(t.c[0],r)}static ArrowFunc(t,r){let o=t.c[0]?.c?.map(c=>this.#e(c)).flat(),s=this;return function(...c){o.forEach((d,p)=>{r[d]=c[p]});let l=s.evaluate(t.c[1],r);return o.forEach(d=>{delete r[d]}),l}}static AnonFuncDecl(t,r){let o=t.c[0]?.c?.map(c=>this.#e(c)).flat(),s=this;return function(...c){o.forEach((d,p)=>{r[d]=c[p]});let l=s.evaluate(t.c[1],r);return o.forEach(d=>{delete r[d]}),l}}static#e(t,r=null){return r=r??[],t.c?.forEach(o=>this.#e(o,r)),t.t&&r.push(t.t),r}static#c(t,r=0){this.log(\`\${"  ".repeat(r)}\${t.r}: \${this.GetText(t)}\`)}static GetText(t){return this.#e(t).join(" ")}static ElementList(t,r){return t.c.map(o=>this.evaluate(o,r))}static ArrayElem=this.PassOn;static ArgsExp(t,r){let o=t.c[0],s=this.evaluate(t.c[1],r),c=this.evaluate(o,r,s);return typeof c=="function"&&(c=c.apply(o._this??null,s)),delete o._this,c}static Args(t,r){return t.c.map(o=>this.evaluate(o,r))}static Arg(t,r){return this.evaluate(t.c[0],r)}static MemberDotExp(t,r,o){return this.#n(t,r,o,!0)}static MemberIndexExp(t,r,o){return this.#n(t,r,o)}static#n(t,r,o,s){let c=this.evaluate(t.c[0],r),l=s?t.c[1].t:this.evaluate(t.c[1],r);return this["_x_"+l]?this["_x_"+l](c,...o??[]):(t._this=c,c[l])}static ErrorNodeImpl(t){this.log(\`Error parsing \${t.r} at \${t.t} (unexpected token?)\`)}static AdditiveExp(t,r){switch(t.c[1].t){case"+":return this.evaluate(t.c[0],r)+this.evaluate(t.c[2],r);case"-":return this.evaluate(t.c[0],r)-this.evaluate(t.c[2],r);default:throw new Error("Unknown binary operator "+t.c[1].t)}}static MultiplicativeExp(t,r){switch(t.c[1].t){case"*":return this.evaluate(t.c[0],r)*this.evaluate(t.c[2],r);case"/":return this.evaluate(t.c[0],r)/this.evaluate(t.c[2],r);case"%":return this.evaluate(t.c[0],r)%this.evaluate(t.c[2],r);default:throw new Error("Unknown binary operator "+t.c[1].t)}}static RelationalExp(t,r){switch(t.c[1].t){case">":return this.evaluate(t.c[0],r)>this.evaluate(t.c[2],r);case"<":return this.evaluate(t.c[0],r)<this.evaluate(t.c[2],r);case">=":return this.evaluate(t.c[0],r)>=this.evaluate(t.c[2],r);case"<=":return this.evaluate(t.c[0],r)<=this.evaluate(t.c[2],r);default:throw new Error("Unknown binary operator "+t.c[1].t)}}static EqualityExp(t,r){switch(t.c[1].t){case"==":return this.evaluate(t.c[0],r)==this.evaluate(t.c[2],r);case"!=":return this.evaluate(t.c[0],r)!=this.evaluate(t.c[2],r);case"===":return this.evaluate(t.c[0],r)===this.evaluate(t.c[2],r);case"!==":return this.evaluate(t.c[0],r)!==this.evaluate(t.c[2],r);default:throw new Error("Unknown binary operator "+t.c[1].t)}}static TernaryExp(t,r){return this.evaluate(t.c[0],r)?this.evaluate(t.c[1],r):this.evaluate(t.c[2],r)}static CoalesceExp(t,r){return this.evaluate(t.c[0],r)??this.evaluate(t.c[1],r)}static InstanceofExp(t,r){return this.evaluate(t.c[0],r)instanceof this.evaluate(t.c[1],r)}static LogicalAndExp(t,r){return this.evaluate(t.c[0],r)&&this.evaluate(t.c[1],r)}static LogicalOrExp(t,r){return this.evaluate(t.c[0],r)||this.evaluate(t.c[1],r)}static UnaryPlusExp(t,r){return+this.evaluate(t.c[0],r)}static UnaryMinusExp(t,r){return-this.evaluate(t.c[0],r)}static BitNotExp(t,r){return~this.evaluate(t.c[0],r)}static NotExp(t,r){return!this.evaluate(t.c[0],r)}static ParenthesizedExp(t,r){return this.evaluate(t.c[0],r)}static Eos(){return null}static _x_query(t,r){return Array.from(t?.querySelectorAll(r)??[])}static _x_where(t,r){return t?.filter(r)}static _x_select(t,...r){let o=r.length;if(!r||o===0)throw new Error("Method 'select' expects on or more arrow functions.");return t?.map((s,c)=>{if(o>1){let l=[];for(let d=0;d<o-1;d++)l[d]=r[d](s,...d==0?[c]:l);return r[o-1](s,...l)}else return r[0](s,c)})}static _x_width(t){return t?.offsetWidth}static _x_height(t){return t?.offsetHeight}static _x_text(t){return t?.textContent?.trim()?.replaceAll(this.#o," ")}static _x_parent(t){return t?.parentNode}static _x_matchRegExp(t,r,o){return t.match(new RegExp(r,o))}}};function Ft(e){if(e.checkVisibility&&!e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}))return!1;let t=e.ownerDocument,r=t.defaultView,o=r?.getComputedStyle(e);if(o&&(o.opacity==="0"||o.visibility==="hidden"))return!1;let s=e.getBoundingClientRect();if(!s||s.width<=0||s.height<=0)return!1;let{top:c,left:l,right:d,bottom:p}=s;if(d<0||p<0)return!1;let m=r?.innerWidth||t.documentElement.clientWidth,g=r?.innerHeight||t.documentElement.clientHeight;if(c>g||l>m)return!1;let y=e.parentNode;if(y&&y instanceof Element&&getComputedStyle(y).overflow==="hidden"){let x=y.getBoundingClientRect();if(p<x.top||c>x.bottom||d<x.left||l>x.right)return!1}return!0}function me(e,t){return r=>new Promise(o=>{let s=e+"-response",c=Math.random(),l=p=>{let{type:m,payload:g,nonce:y}=p.data??{};m!==s||y!==c||(o(g),d())},d=()=>{window.removeEventListener("message",l)};window.addEventListener("message",l),s==="getFrameId-response"?r.postMessage(new N("getFrameId",c),"*"):window.postMessage({type:e,nonce:c,payload:r},"*"),t&&setTimeout(o,t)})}var ye,we,Ae,J,xt=new Set,St=new Set,Lt=new Set,ct=!1,Ht=[],_e=[],Mt,L,F,At,it,C=typeof window>"u"?{location:{hostname:""}}:window,T=C.top===C.self,wr=(Math.random()+1).toString(36).substring(2),Ar=2e3,be=7e3,_r=5*be,br=2e3;function at(e,t,...r){let o=setTimeout(e,t,...r);return xt.add(o),o}function st(e,t,...r){let o=setInterval(e,t,...r);return St.add(o),o}function Bt(e,t){let r=V(e,t);return r.isIdleCallback?Lt.add(r.id):xt.add(r.id),r}var vr={"hulu.com":[ae],"netflix.com":[ue],"tiktok.com":[le],"twitter.com":[Ut],"x.com":[Ut],"youtube.com":[pe]};ct||(typeof U<"u"&&(J=U()),typeof yt<"u"&&(yt()||ve())&&Zt());function ve(){return vr[J]}function xr(){if(!T||!it)return;if(yt()){Ot();let s=new Set,c=()=>{let l=Array.from(C.frames).concat(Array.from(document.querySelectorAll("frame,iframe")).map(d=>E(d.contentWindow)).filter(d=>d));for(let d=0;d<l.length;d++)try{let p=l[d];if(!p||s.has(p))continue;q(p,new N(Nt,tt-(Date.now()-$))),s.add(p)}catch(p){b(p)}};c(),st(c,5e3)}let e=Date.now(),t=ve(),r=function(s){e=Date.now(),Bt(async()=>{for(let c=0,l=t?.length;t&&c<l;c++)await t[c].call();T&&(t||s)&&k()},B-500)},o=st(r,B);r(!0),st(()=>{Date.now()-e>B*5&&(clearInterval(o),St.delete(o),o=st(r,B),r(!0))},B)}function xe(){T&&(J=U(),xt=new Set,St=new Set,Lt=new Set,ne(),k())}function Sr(){if(!T)return;let e=F.AdRules.filter(o=>!o.Hostnames||o.Hostnames.startsWith("^")&&!o.Hostnames.includes(J)),t=F.AdRules.filter(o=>o.Hostnames&&!o.Hostnames.startsWith("^")&&o.Hostnames.includes(J)),r=e.concat(t);at(()=>{kr();let o=st(()=>{ge(r)},be);ge(r),at(()=>{t.length?r=t:clearInterval(o)},_r)},Ar)}var Er=new Set(["facebook.com","hulu.com","netflix.com","twitter.com","x.com"]);function Se(){xr(),Er.has(J)||Sr(),at(Tr,tt)}function Cr(e){if(!T)return;let t=C.location.href.split("#")[0];setInterval(()=>{let r=C.location.href.split("#")[0];r!==t&&(t=r,e())},1e3)}function Ee(){xt.forEach(e=>clearTimeout(e)),St.forEach(e=>clearInterval(e)),Lt.forEach(e=>cancelIdleCallback(e))}function Ir(){Ee(),xe(),Se()}function Tr(){Rt(),Ee()}function Nr(e){ct?ht(e,L).then(()=>window.dispatchEvent(new CustomEvent("displayAdFound",{detail:e}))):re(e)}async function Rr(e){try{let t=N.fromObject(e.data);if(!t)return;let r=t.data;switch(t.operation){case Nt:r>0&&(Ot(),at(Rt,r));break;case Tt:I(r[0],r[1]);break;case"extractDisplayAd":T||await vt(document.documentElement,r);break;case"displayAdFound":T&&Nr(r);break;case"getFrameId":q(e.source,{type:"getFrameId-response",payload:wr,nonce:r});break}}catch(t){b(t);return}}function Pr(){function e(){C.addEventListener("message",Rr,!0)}e();let t=setInterval(e,200);setTimeout(clearInterval,1e4,t)}function Mr(e){we=e.getInstallId,ct=e.isRuleEditor,Mt=e.sendData,L=e.fetchHttpResponse,ye=e.getExternalConfiguration?t=>e.getExternalConfiguration(t):null,Xt(e.pm_log)}function Ce(e){Ae=me("getFrameId",1e3),L=e.fetchHttpResponse,Pr(),T&&(Mr(e),we().then(t=>At=t).then(t=>ye()).then(t=>F=t||{EnabledPct:0}).then(t=>{it=Array.from(At).map(r=>r.charCodeAt(0)).reduce((r,o)=>r+o,0)%100<F.EnabledPct,it&&(xe(),Se(),Cr(Ir))}))}async function Ur(e,t){ct||(T||(t.dedupeKey=await Ae(e.ownerDocument.defaultView)),t.dedupeKey??=\`\${t.width}x\${t.height} @ \${t.x},\${t.y}\`),q(top,new N("displayAdFound",t))}async function Or(e,t){if(e){let r=O(e);(t.isFromIFrame||e.nodeName!=="IFRAME")&&(t.x+=r.left,t.y+=r.top),t.sourceUrls.push(...await Y(e,t.depth)),t.text+=wt(e)+" ";let o=Array.from(e.querySelectorAll("canvas, svg"));o.length&&o.forEach(s=>Qt(s,t))}}async function vt(e,t){if(await Or(e,t),e.nodeName==="IFRAME"){t.depth++,t.outerHtml=e.outerHTML;try{await vt(e.contentWindow.document.documentElement,t)}catch{q(e.contentWindow,new N("extractDisplayAd",t));try{var r=e.contentWindow.frames;for(let s=0,c=r.length;s<c;s++)try{q(r[s],new N("extractDisplayAd",t))}catch(l){b(l)}}catch(s){b(s)}}}else{e.nodeName==="HTML"&&(t.outerHtml+=\`<!-- IFRAME Content -->\${e.outerHTML}\`);let o;if(t.isFromIFrame){if(e.scrollWidth<=t.width-5||e.scrollHeight<=t.height-5)return;o=Array.from(e.querySelectorAll("iframe")).filter(s=>(s.scrollWidth>=t.width||s.scrollHeight>=t.height)&&s.scrollWidth>=_.minWidth&&s.scrollHeight>=_.minHeight&&Ft(s))}else o=Array.from(e.querySelectorAll("iframe")).filter(s=>Ft(s)).sort((s,c)=>s.scrollWidth*s.scrollHeight-c.scrollWidth*c.scrollHeight).slice(0,1);o?.length?await Promise.allSettled(o.map(s=>{let c={...t,width:Math.min(t.width,s.offsetWidth),height:Math.min(t.height,s.offsetHeight),sourceUrls:t.sourceUrls.map(l=>l)};return vt(s,c)})):(t.text=t.textOverride??t.text.trim(),Ur(e,t))}}function Dr(e,t,r){try{let o=new ot,s=o.evaluate(t,{doc:document});Ht.forEach(c=>s.push(...o.evaluate(t,{doc:c}))),_e.forEach(c=>{c.doc.defaultView&&s.push(...o.evaluate(t,{doc:c.doc}).map(l=>Ie(l)?(l.x??=c.x,l.y??=c.y,l.depth??=c.depth,l):{element:l,x:c.x,y:c.y,depth:c.depth}))}),s&&s.forEach(async c=>await Lr(e,c,r))}catch{}}function Fr(e){e.forEach(t=>Dr(t.Id,t.ParseTree))}async function Lr(e,t,r){let o={};Ie(t)&&(o=t,t=t.element,delete o.element);let s=new _({width:t.offsetWidth,height:t.offsetHeight,adRuleId:e});s.isFromIFrame=t.nodeName==="IFRAME",ct&&(s.adRuleName=r,s.tabUrl=location.href),Object.assign(s,o),await vt(t,s)}function ge(e){T&&Bt(t=>{t.didTimeout||(Fr(e),at(k,br))},4e3)}function Hr(e){let t=Date.now(),r=null;for(;r=e[0];){for(var o=null;o=r.nextNode();)if(o.shadowRoot&&(e.push(document.createTreeWalker(o.shadowRoot,NodeFilter.SHOW_ELEMENT)),Ht.push(o.shadowRoot)),Date.now()-t>50)return!1;e.shift()}return!0}function Br(){Ht=[];let e=[];try{e.push(document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT))}catch{}let t=!1,r=0;for(;!t&&r++<100;)Bt(()=>t||=Hr(e))}function Vr(){_e=Array.from(document.querySelectorAll("iframe")).filter(e=>e.src&&new URL(e.src).origin==top.location.origin&&e.offsetWidth>=_.minWidth&&e.offsetHeight>=_.minHeight).map(e=>{try{let t=e.contentWindow,r=O(e),o=r.left,s=r.top,c=1;for(;t?.parent&&t.parent!==top;)t=t.parent,r=O(t.frameElement),o+=r.left,s+=r.top,c++;return{doc:e.contentDocument,x:o,y:s,depth:c}}catch{return null}}).filter(e=>e)}function kr(){Br(),Vr()}function Ie(e){return!(e instanceof Node)&&e.element}function Te(...e){console.log("[injected-script]",...Array.isArray(e)?e:[e])}function Et(e,t){return r=>new Promise(o=>{let s=t+"-response",c=Math.random(),l=p=>{let{type:m,payload:g,nonce:y}=p.data??{};m!==s||y!==c||(e?.("Got response:",{name:t,payload:r,response:g}),o(g),d())},d=()=>{window.removeEventListener("message",l)};window.addEventListener("message",l),e?.("Sending message:",{name:t,payload:r}),window.postMessage({type:t,payload:r,nonce:c},"*")})}function Ne(e,t){return r=>{e?.("Sending message:",{type:t,payload:r}),window.postMessage({type:t,payload:r},"*")}}var Re="ads#INIT",Pe="ads#SEND_DATA",Me="ads#GET_INSTALL_ID",Ue="ads#GET_EXTERNAL_CONFIG",Oe="ads#FETCH_HTTP_RESPONSE";function De(e){let t=e.enableLogs?Te:void 0;t?.("Recieved init event",{config:e});let r=Ne(t,Pe),o=Et(t,Me),s=Et(t,Ue),c=Et(t,Oe);Ce({getInstallId:o,fetchHttpResponse:c,sendData:r,pm_log:t,getExternalConfiguration:s})}function qr(){window.addEventListener("message",({data:e})=>{e?.type===Re&&De(e.payload)})}qr();})();
`;var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o0={exports:{}};(function(t,e){(function(n,s){s(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:r0,function(n){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)n.exports=globalThis.browser;else{const s="The message port closed before a response was received.",r=i=>{const o={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(o).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class a extends WeakMap{constructor(S,x=void 0){super(x),this.createItem=S}get(S){return this.has(S)||this.set(S,this.createItem(S)),super.get(S)}}const c=_=>_&&typeof _=="object"&&typeof _.then=="function",l=(_,S)=>(...x)=>{i.runtime.lastError?_.reject(new Error(i.runtime.lastError.message)):S.singleCallbackArg||x.length<=1&&S.singleCallbackArg!==!1?_.resolve(x[0]):_.resolve(x)},u=_=>_==1?"argument":"arguments",h=(_,S)=>function(x,...E){if(E.length<S.minArgs)throw new Error(`Expected at least ${S.minArgs} ${u(S.minArgs)} for ${_}(), got ${E.length}`);if(E.length>S.maxArgs)throw new Error(`Expected at most ${S.maxArgs} ${u(S.maxArgs)} for ${_}(), got ${E.length}`);return new Promise((D,R)=>{if(S.fallbackToNoCallback)try{x[_](...E,l({resolve:D,reject:R},S))}catch(N){console.warn(`${_} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,N),x[_](...E),S.fallbackToNoCallback=!1,S.noCallback=!0,D()}else S.noCallback?(x[_](...E),D()):x[_](...E,l({resolve:D,reject:R},S))})},d=(_,S,x)=>new Proxy(S,{apply(E,D,R){return x.call(D,_,...R)}});let p=Function.call.bind(Object.prototype.hasOwnProperty);const g=(_,S={},x={})=>{let E=Object.create(null),D={has(N,$){return $ in _||$ in E},get(N,$,X){if($ in E)return E[$];if(!($ in _))return;let W=_[$];if(typeof W=="function")if(typeof S[$]=="function")W=d(_,_[$],S[$]);else if(p(x,$)){let q=h($,x[$]);W=d(_,_[$],q)}else W=W.bind(_);else if(typeof W=="object"&&W!==null&&(p(S,$)||p(x,$)))W=g(W,S[$],x[$]);else if(p(x,"*"))W=g(W,S[$],x["*"]);else return Object.defineProperty(E,$,{configurable:!0,enumerable:!0,get(){return _[$]},set(q){_[$]=q}}),W;return E[$]=W,W},set(N,$,X,W){return $ in E?E[$]=X:_[$]=X,!0},defineProperty(N,$,X){return Reflect.defineProperty(E,$,X)},deleteProperty(N,$){return Reflect.deleteProperty(E,$)}},R=Object.create(_);return new Proxy(R,D)},f=_=>({addListener(S,x,...E){S.addListener(_.get(x),...E)},hasListener(S,x){return S.hasListener(_.get(x))},removeListener(S,x){S.removeListener(_.get(x))}}),m=new a(_=>typeof _!="function"?_:function(S){const x=g(S,{},{getContent:{minArgs:0,maxArgs:0}});_(x)}),y=new a(_=>typeof _!="function"?_:function(S,x,E){let D=!1,R,N=new Promise(q=>{R=function(H){D=!0,q(H)}}),$;try{$=_(S,x,R)}catch(q){$=Promise.reject(q)}const X=$!==!0&&c($);return $!==!0&&!X&&!D?!1:((q=>{q.then(H=>{E(H)},H=>{let L;H&&(H instanceof Error||typeof H.message=="string")?L=H.message:L="An unexpected error occurred",E({__mozWebExtensionPolyfillReject__:!0,message:L})}).catch(H=>{console.error("Failed to send onMessage rejected reply",H)})})(X?$:N),!0)}),w=({reject:_,resolve:S},x)=>{i.runtime.lastError?i.runtime.lastError.message===s?S():_(new Error(i.runtime.lastError.message)):x&&x.__mozWebExtensionPolyfillReject__?_(new Error(x.message)):S(x)},v=(_,S,x,...E)=>{if(E.length<S.minArgs)throw new Error(`Expected at least ${S.minArgs} ${u(S.minArgs)} for ${_}(), got ${E.length}`);if(E.length>S.maxArgs)throw new Error(`Expected at most ${S.maxArgs} ${u(S.maxArgs)} for ${_}(), got ${E.length}`);return new Promise((D,R)=>{const N=w.bind(null,{resolve:D,reject:R});E.push(N),x.sendMessage(...E)})},b={devtools:{network:{onRequestFinished:f(m)}},runtime:{onMessage:f(y),onMessageExternal:f(y),sendMessage:v.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:v.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},T={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return o.privacy={network:{"*":T},services:{"*":T},websites:{"*":T}},g(i,b,o)};n.exports=r(chrome)}})})(o0);var wI=o0.exports;const vl=i0(wI);var a0={exports:{}};(function(t){var e=function(){var n=String.fromCharCode,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function o(c,l){if(!i[c]){i[c]={};for(var u=0;u<c.length;u++)i[c][c.charAt(u)]=u}return i[c][l]}var a={compressToBase64:function(c){if(c==null)return"";var l=a._compress(c,6,function(u){return s.charAt(u)});switch(l.length%4){default:case 0:return l;case 1:return l+"===";case 2:return l+"==";case 3:return l+"="}},decompressFromBase64:function(c){return c==null?"":c==""?null:a._decompress(c.length,32,function(l){return o(s,c.charAt(l))})},compressToUTF16:function(c){return c==null?"":a._compress(c,15,function(l){return n(l+32)})+" "},decompressFromUTF16:function(c){return c==null?"":c==""?null:a._decompress(c.length,16384,function(l){return c.charCodeAt(l)-32})},compressToUint8Array:function(c){for(var l=a.compress(c),u=new Uint8Array(l.length*2),h=0,d=l.length;h<d;h++){var p=l.charCodeAt(h);u[h*2]=p>>>8,u[h*2+1]=p%256}return u},decompressFromUint8Array:function(c){if(c==null)return a.decompress(c);for(var l=new Array(c.length/2),u=0,h=l.length;u<h;u++)l[u]=c[u*2]*256+c[u*2+1];var d=[];return l.forEach(function(p){d.push(n(p))}),a.decompress(d.join(""))},compressToEncodedURIComponent:function(c){return c==null?"":a._compress(c,6,function(l){return r.charAt(l)})},decompressFromEncodedURIComponent:function(c){return c==null?"":c==""?null:(c=c.replace(/ /g,"+"),a._decompress(c.length,32,function(l){return o(r,c.charAt(l))}))},compress:function(c){return a._compress(c,16,function(l){return n(l)})},_compress:function(c,l,u){if(c==null)return"";var h,d,p={},g={},f="",m="",y="",w=2,v=3,b=2,T=[],_=0,S=0,x;for(x=0;x<c.length;x+=1)if(f=c.charAt(x),Object.prototype.hasOwnProperty.call(p,f)||(p[f]=v++,g[f]=!0),m=y+f,Object.prototype.hasOwnProperty.call(p,m))y=m;else{if(Object.prototype.hasOwnProperty.call(g,y)){if(y.charCodeAt(0)<256){for(h=0;h<b;h++)_=_<<1,S==l-1?(S=0,T.push(u(_)),_=0):S++;for(d=y.charCodeAt(0),h=0;h<8;h++)_=_<<1|d&1,S==l-1?(S=0,T.push(u(_)),_=0):S++,d=d>>1}else{for(d=1,h=0;h<b;h++)_=_<<1|d,S==l-1?(S=0,T.push(u(_)),_=0):S++,d=0;for(d=y.charCodeAt(0),h=0;h<16;h++)_=_<<1|d&1,S==l-1?(S=0,T.push(u(_)),_=0):S++,d=d>>1}w--,w==0&&(w=Math.pow(2,b),b++),delete g[y]}else for(d=p[y],h=0;h<b;h++)_=_<<1|d&1,S==l-1?(S=0,T.push(u(_)),_=0):S++,d=d>>1;w--,w==0&&(w=Math.pow(2,b),b++),p[m]=v++,y=String(f)}if(y!==""){if(Object.prototype.hasOwnProperty.call(g,y)){if(y.charCodeAt(0)<256){for(h=0;h<b;h++)_=_<<1,S==l-1?(S=0,T.push(u(_)),_=0):S++;for(d=y.charCodeAt(0),h=0;h<8;h++)_=_<<1|d&1,S==l-1?(S=0,T.push(u(_)),_=0):S++,d=d>>1}else{for(d=1,h=0;h<b;h++)_=_<<1|d,S==l-1?(S=0,T.push(u(_)),_=0):S++,d=0;for(d=y.charCodeAt(0),h=0;h<16;h++)_=_<<1|d&1,S==l-1?(S=0,T.push(u(_)),_=0):S++,d=d>>1}w--,w==0&&(w=Math.pow(2,b),b++),delete g[y]}else for(d=p[y],h=0;h<b;h++)_=_<<1|d&1,S==l-1?(S=0,T.push(u(_)),_=0):S++,d=d>>1;w--,w==0&&(w=Math.pow(2,b),b++)}for(d=2,h=0;h<b;h++)_=_<<1|d&1,S==l-1?(S=0,T.push(u(_)),_=0):S++,d=d>>1;for(;;)if(_=_<<1,S==l-1){T.push(u(_));break}else S++;return T.join("")},decompress:function(c){return c==null?"":c==""?null:a._decompress(c.length,32768,function(l){return c.charCodeAt(l)})},_decompress:function(c,l,u){var h=[],d=4,p=4,g=3,f="",m=[],y,w,v,b,T,_,S,x={val:u(0),position:l,index:1};for(y=0;y<3;y+=1)h[y]=y;for(v=0,T=Math.pow(2,2),_=1;_!=T;)b=x.val&x.position,x.position>>=1,x.position==0&&(x.position=l,x.val=u(x.index++)),v|=(b>0?1:0)*_,_<<=1;switch(v){case 0:for(v=0,T=Math.pow(2,8),_=1;_!=T;)b=x.val&x.position,x.position>>=1,x.position==0&&(x.position=l,x.val=u(x.index++)),v|=(b>0?1:0)*_,_<<=1;S=n(v);break;case 1:for(v=0,T=Math.pow(2,16),_=1;_!=T;)b=x.val&x.position,x.position>>=1,x.position==0&&(x.position=l,x.val=u(x.index++)),v|=(b>0?1:0)*_,_<<=1;S=n(v);break;case 2:return""}for(h[3]=S,w=S,m.push(S);;){if(x.index>c)return"";for(v=0,T=Math.pow(2,g),_=1;_!=T;)b=x.val&x.position,x.position>>=1,x.position==0&&(x.position=l,x.val=u(x.index++)),v|=(b>0?1:0)*_,_<<=1;switch(S=v){case 0:for(v=0,T=Math.pow(2,8),_=1;_!=T;)b=x.val&x.position,x.position>>=1,x.position==0&&(x.position=l,x.val=u(x.index++)),v|=(b>0?1:0)*_,_<<=1;h[p++]=n(v),S=p-1,d--;break;case 1:for(v=0,T=Math.pow(2,16),_=1;_!=T;)b=x.val&x.position,x.position>>=1,x.position==0&&(x.position=l,x.val=u(x.index++)),v|=(b>0?1:0)*_,_<<=1;h[p++]=n(v),S=p-1,d--;break;case 2:return m.join("")}if(d==0&&(d=Math.pow(2,g),g++),h[S])f=h[S];else if(S===p)f=w+w.charAt(0);else return null;m.push(f),h[p++]=w+f.charAt(0),d--,w=f,d==0&&(d=Math.pow(2,g),g++)}}};return a}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(a0);var _I=a0.exports;const xI=i0(_I);function AI(t){if(!t)return Promise.resolve(new ArrayBuffer(0));try{const e="data:application/octet-binary;base64,"+t;return fetch(e).then(n=>n.arrayBuffer(),()=>new ArrayBuffer(0))}catch{return Promise.resolve(new ArrayBuffer(0))}}var Qd=(t=>(t.UPLOAD_CRAWL="ads#CRAWL",t.GET_PM_EXTERNAL_CONFIG="ads#GET_EXTERNAL_CONFIGURATION",t.FETCH_HTTP_RESPONSE="ads#FETCH_HTTP_RESPONSE",t))(Qd||{});function Xd(t){try{return JSON.parse(t)}catch{return}}async function SI(t){return(await vl.storage.local.get(t))[t]}async function c0(t,e){const n={};n[t]=e,await vl.storage.local.set(n)}async function l0(t,e,n){let s=await(n?null:SI(t));return s==null&&(s=await e(),await c0(t,s)),s}function u0(t){return t.split(".").slice(t.endsWith(".uk")||t.endsWith(".jp")?-3:-2).join(".")}async function d0(t){const e=await l0("configTs",Date.now),n=Date.now()-e>18e5;return l0("config",async()=>{const s=await t({type:Qd.GET_PM_EXTERNAL_CONFIG,payload:void 0}),r=Xd(s);if(r!=null)return r.TimeOffset=r.Now&&Date.now()-r.Now||0,TI(r),kI(r),EI(r),c0("configTs",Date.now()),r},n)}function TI(t){var e;(e=t.AdRules)==null||e.filter(n=>{const s=xI.decompressFromUTF16(n.ParseTreeString||"")??"";return n.ParseTree=Xd(s),n.ParseTree==null?!1:(delete n.ParseTreeString,!0)})}function kI(t){var e;t.ParsedSiteConfigs=(e=t.SiteConfigs)==null?void 0:e.reduce((n,s)=>(n[s.d]=s.r,n),{}),delete t.SiteConfigs}function EI(t){var e;t.ParsedUrlBlackList=(e=t.UrlBlackList)==null?void 0:e.filter(n=>n.BlockAllAds).reduce((n,s)=>{var r;return(n[r=u0(s.Hostname)]??(n[r]=[])).push(s.UrlRegex),n},{}),delete t.UrlBlackList}function h0(){return window.self===window.top}class MI{constructor(e){this.config=e}async inject(e){return new Promise((n,s)=>{const r=this.defineOnCspError(s),i=()=>{var o,a;try{document.addEventListener("securitypolicyviolation",r);const c=document.createElement(e),l=()=>{var d,p;this.config.keepInDom||c.remove(),(p=(d=this.config).onInjected)==null||p.call(d)},u=this.getManifestVersion();u===3?c.onload=l:setTimeout(l),this.setSrc(c,u),(o=this.config.logger)==null||o.log(c);const h=(a=document.documentElement)==null?void 0:a.firstElementChild;h==null||h.insertBefore(c,h.firstChild),document.removeEventListener("securitypolicyviolation",r),n()}catch(c){s(c)}finally{document.removeEventListener("DOMContentLoaded",i)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})}defineOnCspError(e){return n=>{e==null||e(Error("Blocked by CSP: "+JSON.stringify({host:window.location.hostname,blockedUri:n.blockedURI,violatedDirective:n.violatedDirective,originalPolicy:n.originalPolicy})))}}getManifestVersion(){return typeof __AD_FINDER_MANIFEST_VERSION__=="number"?__AD_FINDER_MANIFEST_VERSION__:vl.runtime.getManifest().manifest_version}setSrc(e,n){if(n===3){if(!this.config.mv3Path)throw Error("mv3Path config must be passed for Manifest V3 extensions");e.src=vl.runtime.getURL(this.config.mv3Path)}else if(n===2){if(!this.config.mv2Content)throw Error("mv2Content config must be passed for Manifest V2 extensions");e.innerHTML=this.config.mv2Content}else throw Error(`Unsupported manifest version ${n}`)}}class DI{constructor(e){this.config=e}sendMessage(e,n,s,r){const i={type:e,payload:n,nonce:r};window.postMessage(i,"*",s)}onMessage(e,n){window.addEventListener("message",async s=>{var r,i;const{type:o,payload:a,nonce:c}=s.data??{};if(o!==e)return;(r=this.config.logger)==null||r.debug("[ad-finder-custom-event] Recieved message:",{type:o,payload:a});const l=await n(a);if(l===void 0)return;const{response:u,transferables:h}=l;(i=this.config.logger)==null||i.debug("[ad-finder-custom-event] Sending response:",{name:o,payload:a,response:u}),this.sendMessage(o+this.config.responseSuffix,u,h,c)})}}const CI="ads#INIT",OI="ads#SEND_DATA",PI="ads#GET_INSTALL_ID",II="ads#GET_EXTERNAL_CONFIG",RI="ads#FETCH_HTTP_RESPONSE",eg=class af{constructor(e){bl(this,"injector"),bl(this,"messenger"),this.config=e,this.injector=new MI({logger:e.logger,keepInDom:e.keepPathmaticsInDom,mv2Content:vI,mv3Path:e.mv3PathmaticsPath,onInjected:this.initPathmaticsScript.bind(this)}),this.messenger=new DI({logger:e.logger,responseSuffix:af.MESSENGER_SUFFIX})}async isSupportedSite(){var e,n;const s=u0(location.hostname);if(!h0())return!(location.hostname===af.GOOGLE_AUTH_HOSTNAME||af.SUBFRAME_DOMAIN_BLOCKLIST.has(s));const r=await d0(this.config.sendMessageToBackground);return r!=null?!((n=(e=r.ParsedUrlBlackList)==null?void 0:e[s])!=null&&n.some(i=>new RegExp(i).test(location.href))):!1}async start(){var e,n,s,r,i,o;if(!document.documentElement){(e=this.config.logger)==null||e.log("Page is blank, stopping pathmatics",window.location.hostname);return}const a=await this.isSupportedSite();if((n=this.config.logger)==null||n.log("Is supported site?",a),!a){(s=this.config.logger)==null||s.log("Not supported site, stopping pathmatics",window.location.hostname);return}try{(r=this.config.logger)==null||r.log("Starting Pathmatics ad-finder...",{url:window.location.href}),this.setupMessageListeners(),await this.injector.inject("script"),(i=this.config.logger)==null||i.log("Pathmatics ad-finder injected!")}catch(c){(o=this.config.logger)==null||o.error("Failed to start Pathmatics ad-finder",c)}}setupMessageListeners(){if(vl.storage==null)throw Error("The storage permission is required for pathmatics' ad-finder");this.messenger.onMessage(RI,async e=>{const n=await this.config.sendMessageToBackground({type:Qd.FETCH_HTTP_RESPONSE,payload:e}),s=await AI(n);return{response:s,transferables:[s]}}),h0()&&(this.messenger.onMessage(PI,async()=>({response:await this.config.getInstallId()})),this.messenger.onMessage(OI,async e=>{var n,s,r,i,o;const a=Xd(e);if(a==null)return;const c=a.crawlId;let l=a.zys??[];if(typeof l=="string"&&(l=Xd(l)),l==null)return;const u=Date.now();for(const h of l){const d={id:`${c}-${h.hash}`,type:"pathmatics",timestamp:u,details:h};(n=this.config.logger)==null||n.log("Ad detected",d);try{await((r=(s=this.config).onAdDetected)==null?void 0:r.call(s,d))}catch(p){(i=this.config.logger)==null||i.error("onAdDetected failed",{err:p})}}await this.config.sendMessageToBackground({type:Qd.UPLOAD_CRAWL,payload:a}).catch((o=this.config.logger)==null?void 0:o.error)}),this.messenger.onMessage(II,async()=>({response:await d0(this.config.sendMessageToBackground)})))}initPathmaticsScript(){var e;(e=this.config.logger)==null||e.log("Initializing script");const n={enableLogs:this.config.enablePathmaticsLogs??!1};this.messenger.sendMessage(CI,n)}};bl(eg,"MESSENGER_SUFFIX","-response"),bl(eg,"SUBFRAME_DOMAIN_BLOCKLIST",new Set(["google.com","okta.com","amazon.com"])),bl(eg,"GOOGLE_AUTH_HOSTNAME","accounts.youtube.com");var LI={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(r0,function(){var n=function(i,o){if(o=o||{},typeof i!="function")throw new r("fetch must be a function");if(typeof o!="object")throw new r("defaults must be an object");if(o.retries!==void 0&&!s(o.retries))throw new r("retries must be a positive integer");if(o.retryDelay!==void 0&&!s(o.retryDelay)&&typeof o.retryDelay!="function")throw new r("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new r("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(c,l){var u=o.retries,h=o.retryDelay,d=o.retryOn;if(l&&l.retries!==void 0)if(s(l.retries))u=l.retries;else throw new r("retries must be a positive integer");if(l&&l.retryDelay!==void 0)if(s(l.retryDelay)||typeof l.retryDelay=="function")h=l.retryDelay;else throw new r("retryDelay must be a positive integer or a function returning a positive integer");if(l&&l.retryOn)if(Array.isArray(l.retryOn)||typeof l.retryOn=="function")d=l.retryOn;else throw new r("retryOn property expects an array or function");return new Promise(function(p,g){var f=function(y){var w=typeof Request<"u"&&c instanceof Request?c.clone():c;i(w,l).then(function(v){if(Array.isArray(d)&&d.indexOf(v.status)===-1)p(v);else if(typeof d=="function")try{return Promise.resolve(d(y,null,v)).then(function(b){b?m(y,null,v):p(v)}).catch(g)}catch(b){g(b)}else y<u?m(y,null,v):p(v)}).catch(function(v){if(typeof d=="function")try{Promise.resolve(d(y,v,null)).then(function(b){b?m(y,v,null):g(v)}).catch(function(b){g(b)})}catch(b){g(b)}else y<u?m(y,v,null):g(v)})};function m(y,w,v){var b=typeof h=="function"?h(y,w,v):h;setTimeout(function(){f(++y)},b)}f(0)})}};function s(i){return Number.isInteger(i)&&i>=0}function r(i){this.name="ArgumentError",this.message=i}return n})})(LI);const NI={productSelector:['div[aria-label="Product"]'],sponsoredRegex:["/s\\s*p\\s*o\\s*n/i","/s\\s*p\\s*a\\s*a\\s*h/i","/s\\s*p\\s*a\\s*w\\s*h/i","/a\\s*d\\s*v\\s*e\\s*r\\s*t\\s*i\\s*s\\s*e\\s*r/i","/i\\s*s\\s*\\s*a\\s*n\\s*\\s*a\\s*d/i","/p\\s*a\\s*i\\s*d\\s*\\s*a\\s*d/i"],companyName:[".e-1f1gsmn",".e-1opt332",".e-lyu7du",".e-czl9lw"],searchTerm:["#search-bar-input"],productTitle:[".e-u2e78b",".e-1exr31r",".e-wrmemy",".e-pp216q",".e-1ptz7jy",".e-147kl2c",".e-9773mu",".e-xahufp"],productSize:[".e-owckh2",".e-1hb8rq9",".e-1188c9v",".e-zjik7",".e-an4oxa",".e-cauxk8"],productPrice:[".e-1jioxed > span.screen-reader-only",".e-2feaft > span.screen-reader-only",".e-1ybpdrh > span.screen-reader-only",".e-1ghw7u1 > span.screen-reader-only",".e-hlbpyw > span.screen-reader-only",".e-1jioxed > span.screen-reader-only",".e-vzof3s > span.screen-reader-only",".e-3tcizb > span.screen-reader-only",".e-t5lw1y > span.e-13d1dsr",".e-1s70q1o"]},FI=["drug","alcohol","porn"],BI="https://chatgpt.com/",jI="https://chatgpt.com/c/",$I=["nav > .flex-col > a > span > div > div > span:nth-child(1)","nav > .flex-col > a > span > div > div"],HI=["Add Team workspace","Invite members","View plans"],WI=["Upgrade plan","Renew Plus","The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."];2*He.Hour;const VI="https://stayfocusd.st-panel-api.com/v1/remote_config/stayfocusd",UI="https://stayfocusd.st-panel-api.com/v1/remote_config/shared-web-config",zI={uploadWebUsage:!0,bugsnagIngoreMatches:["Extension context invalidated.","Could not establish connection. Receiving end does not exist.","The browser is shutting down.",'{\\s*"?isTrusted"?:\\s*true\\s*}',"Failed to execute 'abort' on 'IDBTransaction': The transaction has finished.","Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing.","^IO error: \\.\\.\\.\\/.+?: .*? \\(ChromeMethodBFE: .*\\)$","Cannot access contents of the page. Extension manifest must request permission to access the respective host.","The extensions gallery cannot be scripted."],instacartSelectors:NI,forbiddenPromptWords:FI,chatGptUrl:BI,chatGptConversationUrl:jI,chatGptStatusSelectors:$I,chatGptPremiumStrings:HI,chatGptFreeStrings:WI,adNetworks:RC,adFields:LC};Ee.object({uploadWebUsage:Ee.boolean(),bugsnagIngoreMatches:Ee.array(Ee.string()),pageViewIgnoreList:Ee.array(Ee.string()).optional(),instacartSelectors:Ee.object({productSelector:Ee.array(Ee.string()),sponsoredRegex:Ee.array(Ee.string()),companyName:Ee.array(Ee.string()),searchTerm:Ee.array(Ee.string()),productTitle:Ee.array(Ee.string()),productSize:Ee.array(Ee.string()),productPrice:Ee.array(Ee.string())}),forbiddenPromptWords:Ee.array(Ee.string()),chatGptUrl:Ee.string(),chatGptConversationUrl:Ee.string(),chatGptStatusSelectors:Ee.array(Ee.string()),chatGptPremiumStrings:Ee.array(Ee.string()),chatGptFreeStrings:Ee.array(Ee.string()),adNetworks:Ee.array(Ee.object({name:Ee.string(),regexes:Ee.array(Ee.string())})),adFields:Ee.object({source:Ee.array(Ee.string()),campaign:Ee.array(Ee.string()),medium:Ee.array(Ee.string()),term:Ee.array(Ee.string())})});const qI=YI({urls:[VI,UI],defaultConfig:zI});function YI(t){const{urls:e,defaultConfig:n}=t,s=mI({urls:e,defaultConfig:n,persistConfig:r=>Qw.setValue(r),persistLastFetchedTime:r=>Xw.setValue(r),restoreConfig:async()=>await Qw.getValue()??void 0,restoreLastFetchedTime:async()=>await Xw.getValue()??void 0});return{fetchLatest:s.fetchLatest,addChangeListener:s.addChangeListener,getLastFetchedTime(){return s.lastFetchedTime},getRestoredPromise(){return s.restoredPromise},getValue(){return s.value}}}function f0(){async function t(){if(await uI.getValue())return!1;const a=await dI.getValue();return a&&a<18}async function e(){return await fI.getValue()??0}async function n(){return await pI.getValue()??0}async function s(){return await Kw.getValue()??!1}async function r(){const o=await Zw.getValue(),a=qI.getValue().uploadWebUsage;return(o??!1)&&a}async function i(){if(await t()||await hI.getValue())return!0;if(!await Kw.getValue())return!1;const l=await Zw.getValue(),u=await e(),h=await n();return!!l||Date.now()<u||h>3}return{isOnboardingCompleted:i,hasAcceptedToS:s,canUploadData:r}}const GI=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,KI=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ZI=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function QI(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){XI(t);return}return e}function XI(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function JI(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!ZI.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(GI.test(t)||KI.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,QI)}return JSON.parse(t)}catch(s){if(e.strict)throw s;return t}}const eR=/#/g,tR=/&/g,nR=/\//g,sR=/=/g,tg=/\+/g,rR=/%5e/gi,iR=/%60/gi,oR=/%7c/gi,aR=/%20/gi;function cR(t){return encodeURI(""+t).replace(oR,"|")}function ng(t){return cR(typeof t=="string"?t:JSON.stringify(t)).replace(tg,"%2B").replace(aR,"+").replace(eR,"%23").replace(tR,"%26").replace(iR,"`").replace(rR,"^").replace(nR,"%2F")}function sg(t){return ng(t).replace(sR,"%3D")}function p0(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function lR(t){return p0(t.replace(tg," "))}function uR(t){return p0(t.replace(tg," "))}function dR(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const s=n.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const r=lR(s[1]);if(r==="__proto__"||r==="constructor")continue;const i=uR(s[2]||"");e[r]===void 0?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]}return e}function hR(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${sg(t)}=${ng(n)}`).join("&"):`${sg(t)}=${ng(e)}`:sg(t)}function fR(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>hR(e,t[e])).filter(Boolean).join("&")}const pR=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,gR=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,mR=/^([/\\]\s*){2,}[^/\\]/,yR=/^\.?\//;function g0(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?pR.test(t):gR.test(t)||(e.acceptRelative?mR.test(t):!1)}function bR(t="",e){return t.endsWith("/")}function vR(t="",e){return(bR(t)?t.slice(0,-1):t)||"/"}function wR(t="",e){return t.endsWith("/")?t:t+"/"}function _R(t,e){if(AR(e)||g0(t))return t;const n=vR(e);return t.startsWith(n)?t:TR(n,t)}function xR(t,e){const n=kR(t),s={...dR(n.search),...e};return n.search=fR(s),ER(n)}function AR(t){return!t||t==="/"}function SR(t){return t&&t!=="/"}function TR(t,...e){let n=t||"";for(const s of e.filter(r=>SR(r)))if(n){const r=s.replace(yR,"");n=wR(n)+r}else n=s;return n}const m0=Symbol.for("ufo:protocolRelative");function kR(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,d=""]=n;return{protocol:h.toLowerCase(),pathname:d,href:h+d,auth:"",host:"",search:"",hash:""}}if(!g0(t,{acceptRelative:!0}))return y0(t);const[,s="",r,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=y0(a);return{protocol:s.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:o,pathname:c,search:l,hash:u,[m0]:!s}}function y0(t=""){const[e="",n="",s=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:s}}function ER(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",s=t.hash||"",r=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[m0]?(t.protocol||"")+"//":"")+r+i+e+n+s}class MR extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function DR(t){var c,l,u,h,d;const e=((c=t.error)==null?void 0:c.message)||((l=t.error)==null?void 0:l.toString())||"",n=((u=t.request)==null?void 0:u.method)||((h=t.options)==null?void 0:h.method)||"GET",s=((d=t.request)==null?void 0:d.url)||String(t.request)||"/",r=`[${n}] ${JSON.stringify(s)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${r}: ${i}${e?` ${e}`:""}`,a=new MR(o,t.error?{cause:t.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(a,p,{get(){return t[p]}});for(const[p,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,p,{get(){return t.response&&t.response[g]}});return a}const CR=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function b0(t="GET"){return CR.has(t.toUpperCase())}function OR(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const PR=new Set(["image/svg","application/xml","application/xhtml","application/html"]),IR=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function RR(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return IR.test(e)?"json":PR.has(e)||e.startsWith("text/")?"text":"blob"}function LR(t,e,n,s){const r=NR((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,s);let i;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:i,params:i,headers:r}}function NR(t,e,n){if(!e)return new n(t);const s=new n(e);if(t)for(const[r,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))s.set(r,i);return s}async function Jd(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const FR=new Set([408,409,425,429,500,502,503,504]),BR=new Set([101,204,205,304]);function v0(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:s=globalThis.AbortController}=t;async function r(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let u;typeof a.options.retry=="number"?u=a.options.retry:u=b0(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):FR.has(h))){const d=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return d>0&&await new Promise(p=>setTimeout(p,d)),i(a.request,{...a.options,retry:u-1})}}const l=DR(a);throw Error.captureStackTrace&&Error.captureStackTrace(l,i),l}const i=async function(c,l={}){const u={request:c,options:LR(c,l,t.defaults,n),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await Jd(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=_R(u.request,u.options.baseURL)),u.options.query&&(u.request=xR(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&b0(u.options.method)&&(OR(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let h;if(!u.options.signal&&u.options.timeout){const p=new s;h=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,p.abort(g)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await Jd(u,u.options.onRequestError),await r(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!BR.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||RR(u.response.headers.get("content-type")||"");switch(p){case"json":{const g=await u.response.text(),f=u.options.parseResponse||JI;u.response._data=f(g);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await Jd(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Jd(u,u.options.onResponseError),await r(u)):u.response},o=async function(c,l){return(await i(c,l))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},c={})=>v0({...t,...c,defaults:{...t.defaults,...c.defaults,...a}}),o}const eh=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),jR=eh.fetch?(...t)=>eh.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),$R=eh.Headers,HR=eh.AbortController,WR=v0({fetch:jR,Headers:$R,AbortController:HR});var rg={exports:{}};(function(t,e){(function(n,s){var r="1.0.40",i="",o="?",a="function",c="undefined",l="object",u="string",h="major",d="model",p="name",g="type",f="vendor",m="version",y="architecture",w="console",v="mobile",b="tablet",T="smarttv",_="wearable",S="embedded",x=500,E="Amazon",D="Apple",R="ASUS",N="BlackBerry",$="Browser",X="Chrome",W="Edge",q="Firefox",H="Google",L="Huawei",se="LG",ye="Microsoft",Le="Motorola",Be="Opera",st="Samsung",dt="Sharp",Ce="Sony",ft="Xiaomi",ge="Zebra",Et="Facebook",Zt="Chromium OS",ot="Mac OS",Cs=" Browser",I=function(he,ve){var ue={};for(var Ne in he)ve[Ne]&&ve[Ne].length%2===0?ue[Ne]=ve[Ne].concat(he[Ne]):ue[Ne]=he[Ne];return ue},F=function(he){for(var ve={},ue=0;ue<he.length;ue++)ve[he[ue].toUpperCase()]=he[ue];return ve},U=function(he,ve){return typeof he===u?K(ve).indexOf(K(he))!==-1:!1},K=function(he){return he.toLowerCase()},G=function(he){return typeof he===u?he.replace(/[^\d\.]/g,i).split(".")[0]:s},Z=function(he,ve){if(typeof he===u)return he=he.replace(/^\s\s*/,i),typeof ve===c?he:he.substring(0,x)},ce=function(he,ve){for(var ue=0,Ne,Ge,wt,Pe,we,Nt;ue<ve.length&&!we;){var Ct=ve[ue],_t=ve[ue+1];for(Ne=Ge=0;Ne<Ct.length&&!we&&Ct[Ne];)if(we=Ct[Ne++].exec(he),we)for(wt=0;wt<_t.length;wt++)Nt=we[++Ge],Pe=_t[wt],typeof Pe===l&&Pe.length>0?Pe.length===2?typeof Pe[1]==a?this[Pe[0]]=Pe[1].call(this,Nt):this[Pe[0]]=Pe[1]:Pe.length===3?typeof Pe[1]===a&&!(Pe[1].exec&&Pe[1].test)?this[Pe[0]]=Nt?Pe[1].call(this,Nt,Pe[2]):s:this[Pe[0]]=Nt?Nt.replace(Pe[1],Pe[2]):s:Pe.length===4&&(this[Pe[0]]=Nt?Pe[3].call(this,Nt.replace(Pe[1],Pe[2])):s):this[Pe]=Nt||s;ue+=2}},ie=function(he,ve){for(var ue in ve)if(typeof ve[ue]===l&&ve[ue].length>0){for(var Ne=0;Ne<ve[ue].length;Ne++)if(U(ve[ue][Ne],he))return ue===o?s:ue}else if(U(ve[ue],he))return ue===o?s:ue;return ve.hasOwnProperty("*")?ve["*"]:he},ae={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ke={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,m],[/opios[\/ ]+([\w\.]+)/i],[m,[p,Be+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[p,Be+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[p,Be]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[m,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,m],[/quark(?:pc)?\/([-\w\.]+)/i],[m,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[m,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[p,"UC"+$]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[p,"Smart Lenovo "+$]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+$],m],[/\bfocus\/([\w\.]+)/i],[m,[p,q+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[p,Be+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[p,Be+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[p,"MIUI"+Cs]],[/fxios\/([\w\.-]+)/i],[m,[p,q]],[/\bqihoobrowser\/?([\w\.]*)/i],[m,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],m],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+Cs],m],[/samsungbrowser\/([\w\.]+)/i],[m,[p,st+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[m,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,m],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[m,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Et],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[p,X+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,X+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[p,"Android "+$]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[m,ie,ae]],[/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],m],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[p,q+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[m,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,K]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,i,K]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,st],[g,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,st],[g,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,D],[g,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,D],[g,b]],[/(macintosh);/i],[d,[f,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,dt],[g,v]],[/(?:honor)([-\w ]+)[;\)]/i],[d,[f,"Honor"],[g,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,L],[g,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,L],[g,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[f,ft],[g,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,ft],[g,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[g,v]],[/\b(opd2\d{3}a?) bui/i],[d,[f,"OPPO"],[g,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[g,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[g,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,Le],[g,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,Le],[g,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,se],[g,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,se],[g,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[g,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[g,v]],[/(pixel c)\b/i],[d,[f,H],[g,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,H],[g,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,Ce],[g,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,Ce],[g,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[g,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,E],[g,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,E],[g,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[g,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,N],[g,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,R],[g,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,R],[g,v]],[/(nexus 9)/i],[d,[f,"HTC"],[g,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[g,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[f,"TCL"],[g,b]],[/(itel) ((\w+))/i],[[f,K],d,[g,ie,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[g,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[g,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[g,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[f,"Energizer"],[g,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[f,"Cat"],[g,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[f,"Smartfren"],[g,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[f,"Nothing"],[g,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[g,v]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[g,b]],[/(surface duo)/i],[d,[f,ye],[g,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[g,v]],[/(u304aa)/i],[d,[f,"AT&T"],[g,v]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[g,v]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[g,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[g,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[g,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[g,b]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[g,b]],[/\b(k88) b/i],[d,[f,"ZTE"],[g,b]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[g,v]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[g,v]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[g,b]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[g,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[g,b]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[g,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[g,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[g,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[g,v]],[/\b(ph-1) /i],[d,[f,"Essential"],[g,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[g,b]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[g,b]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[g,b]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[g,b]],[/(sprint) (\w+)/i],[f,d,[g,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,ye],[g,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,ge],[g,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,ge],[g,v]],[/smart-tv.+(samsung)/i],[f,[g,T]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,st],[g,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,se],[g,T]],[/(apple) ?tv/i],[f,[d,D+" TV"],[g,T]],[/crkey/i],[[d,X+"cast"],[f,H],[g,T]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,E],[g,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,dt],[g,T]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,Ce],[g,T]],[/(mitv-\w{5}) bui/i],[d,[f,ft],[g,T]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[g,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Z],[d,Z],[g,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[g,w]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[g,w]],[/(playstation [345portablevi]+)/i],[d,[f,Ce],[g,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,ye],[g,w]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[f,st],[g,_]],[/((pebble))app/i],[f,d,[g,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,D],[g,_]],[/droid.+; (glass) \d/i],[d,[f,H],[g,_]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,ge],[g,_]],[/droid.+; (glass) \d/i],[d,[f,H],[g,_]],[/(pico) (4|neo3(?: link|pro)?)/i],[f,d,[g,_]],[/; (quest( \d| pro)?)/i],[d,[f,Et],[g,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[g,S]],[/(aeobc)\b/i],[d,[f,E],[g,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[g,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[g,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,v]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[p,W+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,m],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[m,ie,J]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,ie,J],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,ot],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,m],[/\(bb(10);/i],[m,[p,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[p,q+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[p,X+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Zt],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,m],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,m]]},oe=function(he,ve){if(typeof he===l&&(ve=he,he=s),!(this instanceof oe))return new oe(he,ve).getResult();var ue=typeof n!==c&&n.navigator?n.navigator:s,Ne=he||(ue&&ue.userAgent?ue.userAgent:i),Ge=ue&&ue.userAgentData?ue.userAgentData:s,wt=ve?I(ke,ve):ke,Pe=ue&&ue.userAgent==Ne;return this.getBrowser=function(){var we={};return we[p]=s,we[m]=s,ce.call(we,Ne,wt.browser),we[h]=G(we[m]),Pe&&ue&&ue.brave&&typeof ue.brave.isBrave==a&&(we[p]="Brave"),we},this.getCPU=function(){var we={};return we[y]=s,ce.call(we,Ne,wt.cpu),we},this.getDevice=function(){var we={};return we[f]=s,we[d]=s,we[g]=s,ce.call(we,Ne,wt.device),Pe&&!we[g]&&Ge&&Ge.mobile&&(we[g]=v),Pe&&we[d]=="Macintosh"&&ue&&typeof ue.standalone!==c&&ue.maxTouchPoints&&ue.maxTouchPoints>2&&(we[d]="iPad",we[g]=b),we},this.getEngine=function(){var we={};return we[p]=s,we[m]=s,ce.call(we,Ne,wt.engine),we},this.getOS=function(){var we={};return we[p]=s,we[m]=s,ce.call(we,Ne,wt.os),Pe&&!we[p]&&Ge&&Ge.platform&&Ge.platform!="Unknown"&&(we[p]=Ge.platform.replace(/chrome os/i,Zt).replace(/macos/i,ot)),we},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ne},this.setUA=function(we){return Ne=typeof we===u&&we.length>x?Z(we,x):we,this},this.setUA(Ne),this};oe.VERSION=r,oe.BROWSER=F([p,m,h]),oe.CPU=F([y]),oe.DEVICE=F([d,f,g,w,v,T,b,_,S]),oe.ENGINE=oe.OS=F([p,m]),t.exports&&(e=t.exports=oe),e.UAParser=oe;var xe=typeof n!==c&&(n.jQuery||n.Zepto);if(xe&&!xe.ua){var Me=new oe;xe.ua=Me.getResult(),xe.ua.get=function(){return Me.getUA()},xe.ua.set=function(he){Me.setUA(he);var ve=Me.getResult();for(var ue in ve)xe.ua[ue]=ve[ue]}}})(typeof window=="object"?window:et)})(rg,rg.exports);var w0=rg.exports;const _0=On(w0);var Oa=(t=>(t[t.BlockPermanently=0]="BlockPermanently",t[t.BlockOnSchedule=1]="BlockOnSchedule",t[t.DailyUsageLimit=2]="DailyUsageLimit",t[t.VariableSessionLimit=3]="VariableSessionLimit",t[t.BlockKeywords=4]="BlockKeywords",t))(Oa||{}),th=(t=>(t[t.Block=0]="Block",t[t.Notification=1]="Notification",t))(th||{}),nh=(t=>(t[t.UsageTime=0]="UsageTime",t[t.SessionCount=1]="SessionCount",t))(nh||{}),VR=Object.defineProperty,UR=(t,e,n)=>e in t?VR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zR=(t,e,n)=>UR(t,e+"",n);class qR extends Error{constructor(){super("Invalid code entered")}}class YR extends Error{constructor(){super("Both devices already belong to a device group")}}class GR extends Error{constructor(){super("Forbidden")}}const x0=class Em extends Error{static matchesMessage(e){return e instanceof Error?e.message===Em.message:!1}constructor(){super(Em.message)}};zR(x0,"message","Not in a device group");let sh=x0;function wl(t,e){return Object.entries(t).flatMap(([n,s])=>s.sessions.map(r=>({appId:n,startedAt:r.timestamp*1e3,endedAt:(r.timestamp+r.duration)*1e3,installId:r.install_id,platform:e})))}function A0(t){return new Date(t).toISOString()}function KR(t){const e=WR.create({retry:3,...t==null?void 0:t.ofetchDefaults}),n=(t==null?void 0:t.formatDeviceName)??(L=>L),s=t==null?void 0:t.logger;function r(L){return e("/v1/android/apps",{query:{app_ids:L.appIds.join(",")}})}async function i(L){const se=await e("/v1/sync/pairing/generate",{method:"POST",retry:0,query:{install_id:L.installId}});return{code:se.code,expiration:new Date(se.expiration*1e3).getTime()}}function o(L){return e("/v1/sync/pairing/validate",{method:"POST",retry:0,query:{install_id:L.installId,code:L.code}}).catch(se=>{var Le;const ye=(Le=se.response)==null?void 0:Le.status;throw ye===403?new YR:ye===404?new qR:se})}function a(L){return e("/v1/sync/pairing/check",{query:{install_id:L.installId}}).catch(se=>{var ye;if(((ye=se.response)==null?void 0:ye.status)!==404)throw se})}async function c(L){return e("/v1/sync/devices",{query:{key:L.deviceGroupKey}}).catch(se=>{var ye;throw((ye=se.response)==null?void 0:ye.status)===404?new sh:se})}async function l(L){await e("/v1/sync/devices/remove",{method:"POST",retry:0,query:{key:L.deviceGroupKey,install_id:L.installIdToRemove}})}async function u(L){return(await e.raw("/v1/sync/devices/sessions",{method:"HEAD",query:{key:L.deviceGroupKey,install_id:L.installId}}).catch(ye=>{var Le;throw((Le=ye.response)==null?void 0:Le.status)===404?new sh:ye})).headers.get("Last-Modified")??void 0}async function h(L){return e("/v1/analytics/avg_usage",{query:{app_ids:L.appIds.join(","),gender:L.gender,country_code:L.countryCode}})}async function d(L){return e("/v1/analytics/avg_web_usage",{query:{websites:L.appIds.join(","),gender:L.gender,country_code:L.countryCode}})}async function p(L){return e("/v1/analytics/avg_desktop_usage",{query:{app_names:L.appIds.join(","),gender:L.gender,country_code:L.countryCode}})}async function g(L){return e("/v1/analytics/avg_web_device_usage",{query:{gender:L.gender,country_code:L.countryCode}})}async function f(L){return e("/v1/analytics/avg_desktop_device_usage",{query:{gender:L.gender,country_code:L.countryCode}})}async function m(L){var dt;const{android_apps:se,websites:ye,windows_apps:Le,mac_apps:Be,linux_apps:st}=await e("/v1/sync/devices/sessions",{query:{key:L.deviceGroupKey,install_id:L.installId,start_time:A0(L.startTime),end_time:A0(L.endTime),app_ids:(dt=L.appIds)==null?void 0:dt.join(",")}}).catch(Ce=>{var ft;throw((ft=Ce.response)==null?void 0:ft.status)===404?new sh:Ce});return[...wl(se,"android"),...wl(Le??{},"windows"),...wl(Be??{},"mac"),...wl(st??{},"linux"),...wl(ye,"web")].sort((Ce,ft)=>Ce.startedAt-ft.startedAt)}async function y(L){var Le;if(!L.appId.trim()){const{websites:Be,diffPrivateWebsites:st,...dt}=L;throw s==null||s.error("Missing required parameter 'appId'",dt),Error("Missing required parameter 'appId'")}if(!L.installId.trim()){const{websites:Be,diffPrivateWebsites:st,...dt}=L;throw s==null||s.error("Missing required parameter 'installId'",dt),Error("Missing required parameter 'installId'")}const se=_0(navigator==null?void 0:navigator.userAgent),ye={app_id:L.appId,install_id:L.installId,time_zone:Bc(),device_name:n((Le=se.browser)==null?void 0:Le.name),device_type:se.os.name,birth_year:L.birthYear,websites:L.websites,diff_private_websites:L.diffPrivateWebsites};await e("/v1/web/upload",{method:"POST",retry:0,body:ye})}async function w(L){var Le;if(!L.appId.trim()){const{websites:Be,diffPrivateWebsites:st,...dt}=L;throw s==null||s.error("Missing required parameter 'appId'",dt),Error("Missing required parameter 'appId'")}if(!L.installId.trim()){const{websites:Be,diffPrivateWebsites:st,...dt}=L;throw s==null||s.error("Missing required parameter 'installId'",dt),Error("Missing required parameter 'installId'")}const se=_0(navigator==null?void 0:navigator.userAgent),ye={app_id:L.appId,install_id:L.installId,time_zone:Bc(),device_name:n((Le=se.browser)==null?void 0:Le.name),device_type:se.os.name,birth_year:L.birthYear,websites:L.websites,diff_private_websites:L.diffPrivateWebsites};await e("/v1/page_views/upload",{method:"POST",retry:0,body:ye})}async function v(L){if(!L.appId.trim()){const{apps:ye,...Le}=L;throw s==null||s.error("Missing required parameter 'appId'",Le),Error("Missing required parameter 'appId'")}if(!L.installId.trim()){const{apps:ye,...Le}=L;throw s==null||s.error("Missing required parameter 'installId'",Le),Error("Missing required parameter 'installId'")}const se={app_id:L.appId,install_id:L.installId,time_zone:Bc(),device_name:n("App"),device_type:L.platform,birth_year:L.birthYear,apps:L.apps};await e("/v1/desktop/upload",{method:"POST",retry:0,body:se})}function b(L){return y({appId:L.appId,installId:L.installId,websites:{}})}function T(L){return v({appId:L.appId,installId:L.installId,platform:L.platform})}function _(L){return e("/v1/brands",{query:{install_id:L.installId}}).catch(se=>{var ye;throw((ye=se.response)==null?void 0:ye.status)===403?new GR:se})}function S(L){return e("/v1/sync/config",{query:{key:L.deviceGroupKey}}).catch(se=>{var ye;throw((ye=se.response)==null?void 0:ye.status)===404?new sh:se})}async function x(L){await e("/v1/sync/config/reset_time",{method:"POST",retry:0,body:L})}async function E(L){await e("/v1/sync/config/daily_reset_time",{method:"POST",retry:0,body:L})}async function D(L){await e("/v1/sync/config/ignore_list/remove",{method:"POST",retry:0,body:L})}async function R(L){await e("/v1/sync/config/ignore_list/add",{method:"POST",retry:0,body:L})}async function N(L){const se={key:L.key,generic_limits:L.genericLimits};await e("/v1/sync/config/generic_limit/add",{method:"POST",retry:0,body:se})}async function $(L){const se={key:L.key,limit_ids:L.limitIds};await e("/v1/sync/config/generic_limit/remove",{method:"POST",retry:0,body:se})}async function X(L){const se={app_id:L.appId,install_id:L.installId,time_zone:Bc(),ads:L.ads};await e("/v1/desktop/retail/"+L.website,{method:"POST",retry:0,body:se})}async function W(L){const se={app_id:L.appId,time_zone:Bc(),prompts:L.prompts};await e("/v1/ai/analytics",{method:"POST",retry:0,body:se})}async function q(L){const se={app_id:L.appId,service:L.service,install_id:L.installId,status:L.status,timestamp:Math.round(Date.now()/1e3)};await e("/v1/subscriptions/status",{method:"POST",retry:0,body:se})}async function H(L){await e(`/v1/analytics/optout?install_id=${L.installId}&opt_out=${L.optOut}`,{retry:0})}return{getAndroidAppInfo:r,createPairingCode:i,validatePairingCode:o,getMyDeviceGroup:a,getSessionsLastUploadedAt:u,getAverageAppUsage:h,getAverageWebUsage:d,getAverageDesktopUsage:p,getTotalAverageWebUsage:g,getTotalAverageDesktopUsage:f,listDeviceGroupDevices:c,removeDeviceFromDeviceGroup:l,listDeviceGroupSessions:m,uploadSessions:y,uploadPageViews:w,uploadDesktopUsage:v,createDevice:b,createDesktopDevice:T,getBrandMapping:_,getGroupConfig:S,setResetTime:x,setDailyResetTime:E,removeFromIgnoreList:D,addToIgnoreList:R,addGenericUsageLimit:N,removeGenericUsageLimit:$,uploadRetailAds:X,uploadPrompts:W,uploadSubscriptionStatus:q,optOut:H}}const[tW,ig]=Wd("BackgroundApi",()=>KR({ofetchDefaults:{baseURL:"https://stayfocusd.st-panel-api.com"}})),rh={Android:"android",Web:"web",Desktop:"desktop"},ih={...{...rh,AppGroup:"app-group"}};6*He.Hour;async function xo(){return await e0.getValue()||[]}function ZR(t,e,n){switch(n){case ih.Web:return t.find(s=>s.websites.includes(e));case ih.Android:return t.find(s=>s.android_apps.find(r=>r.id===e));case ih.Desktop:return t.find(s=>{var r;return(r=s.desktop_apps)==null?void 0:r.find(i=>i.name===e||QR([e],i.alternative_names??[],i.reg_exps??[]))})}}function QR(t,e,n){return t.some(s=>e.includes(s))||n.some(s=>XR(t,s))}function XR(t,e){try{const n=new RegExp("^"+e+"$","i");return t.some(s=>n.test(s))}catch{return!1}}class og{constructor(e){te(this,"obj",{});if(e!=null&&e.length)for(const n of e)this.obj[n]=!0}add(e){return this.obj[e]=!0,this}has(e){return this.obj[e]!=null}toArray(){return Object.keys(this.obj)}}function oh(t){switch(t){case"android":return rh.Android;case"web":return rh.Web;case"windows":case"mac":case"linux":return rh.Desktop}throw Error(`'${t}' platform not supported yet`)}function JR(t){return Je("device_platform_"+t.replace("-","_"))}function ag(t){return Je("sessionCount",`${t}`)}function cg(t){return Je("adCount",`${t}`)}function lg(t){return new Kn(t).format()}var ah={exports:{}};ah.exports,function(t,e){var n=200,s="Expected a function",r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,c="[object Arguments]",l="[object Array]",u="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",f="[object Map]",m="[object Number]",y="[object Object]",w="[object Promise]",v="[object RegExp]",b="[object Set]",T="[object String]",_="[object Symbol]",S="[object WeakMap]",x="[object ArrayBuffer]",E="[object DataView]",D="[object Float32Array]",R="[object Float64Array]",N="[object Int8Array]",$="[object Int16Array]",X="[object Int32Array]",W="[object Uint8Array]",q="[object Uint8ClampedArray]",H="[object Uint16Array]",L="[object Uint32Array]",se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ye=/^\w*$/,Le=/^\./,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,st=/[\\^$.*+?()[\]{}|]/g,dt=/\\(\\)?/g,Ce=/^\[object .+?Constructor\]$/,ft=/^(?:0|[1-9]\d*)$/,ge={};ge[D]=ge[R]=ge[N]=ge[$]=ge[X]=ge[W]=ge[q]=ge[H]=ge[L]=!0,ge[c]=ge[l]=ge[x]=ge[u]=ge[E]=ge[h]=ge[d]=ge[p]=ge[f]=ge[m]=ge[y]=ge[v]=ge[b]=ge[T]=ge[S]=!1;var Et=typeof et=="object"&&et&&et.Object===Object&&et,Zt=typeof self=="object"&&self&&self.Object===Object&&self,ot=Et||Zt||Function("return this")(),Cs=e&&!e.nodeType&&e,I=Cs&&!0&&t&&!t.nodeType&&t,F=I&&I.exports===Cs,U=F&&Et.process,K=function(){try{return U&&U.binding("util")}catch{}}(),G=K&&K.isTypedArray;function Z(k,P,V,ee){for(var Oe=-1,_e=k?k.length:0;++Oe<_e;){var Ve=k[Oe];P(ee,Ve,V(Ve),k)}return ee}function ce(k,P){for(var V=-1,ee=k?k.length:0;++V<ee;)if(P(k[V],V,k))return!0;return!1}function ie(k){return function(P){return P==null?void 0:P[k]}}function ae(k,P){for(var V=-1,ee=Array(k);++V<k;)ee[V]=P(V);return ee}function J(k){return function(P){return k(P)}}function ke(k,P){return k==null?void 0:k[P]}function oe(k){var P=!1;if(k!=null&&typeof k.toString!="function")try{P=!!(k+"")}catch{}return P}function xe(k){var P=-1,V=Array(k.size);return k.forEach(function(ee,Oe){V[++P]=[Oe,ee]}),V}function Me(k,P){return function(V){return k(P(V))}}function he(k){var P=-1,V=Array(k.size);return k.forEach(function(ee){V[++P]=ee}),V}var ve=Array.prototype,ue=Function.prototype,Ne=Object.prototype,Ge=ot["__core-js_shared__"],wt=function(){var k=/[^.]+$/.exec(Ge&&Ge.keys&&Ge.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),Pe=ue.toString,we=Ne.hasOwnProperty,Nt=Ne.toString,Ct=RegExp("^"+Pe.call(we).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=ot.Symbol,zn=ot.Uint8Array,au=Ne.propertyIsEnumerable,Jn=ve.splice,qo=Me(Object.keys,Object),Yo=xr(ot,"DataView"),Kr=xr(ot,"Map"),br=xr(ot,"Promise"),Ks=xr(ot,"Set"),vr=xr(ot,"WeakMap"),as=xr(Object,"create"),Zs=j(Yo),Qs=j(Kr),Go=j(br),Ko=j(Ks),Zr=j(vr),Fi=_t?_t.prototype:void 0,Zo=Fi?Fi.valueOf:void 0,Qo=Fi?Fi.toString:void 0;function cs(k){var P=-1,V=k?k.length:0;for(this.clear();++P<V;){var ee=k[P];this.set(ee[0],ee[1])}}function Xs(){this.__data__=as?as(null):{}}function Bi(k){return this.has(k)&&delete this.__data__[k]}function Xo(k){var P=this.__data__;if(as){var V=P[k];return V===r?void 0:V}return we.call(P,k)?P[k]:void 0}function sc(k){var P=this.__data__;return as?P[k]!==void 0:we.call(P,k)}function Js(k,P){var V=this.__data__;return V[k]=as&&P===void 0?r:P,this}cs.prototype.clear=Xs,cs.prototype.delete=Bi,cs.prototype.get=Xo,cs.prototype.has=sc,cs.prototype.set=Js;function ls(k){var P=-1,V=k?k.length:0;for(this.clear();++P<V;){var ee=k[P];this.set(ee[0],ee[1])}}function us(){this.__data__=[]}function cu(k){var P=this.__data__,V=Wi(P,k);if(V<0)return!1;var ee=P.length-1;return V==ee?P.pop():Jn.call(P,V,1),!0}function lu(k){var P=this.__data__,V=Wi(P,k);return V<0?void 0:P[V][1]}function uu(k){return Wi(this.__data__,k)>-1}function ds(k,P){var V=this.__data__,ee=Wi(V,k);return ee<0?V.push([k,P]):V[ee][1]=P,this}ls.prototype.clear=us,ls.prototype.delete=cu,ls.prototype.get=lu,ls.prototype.has=uu,ls.prototype.set=ds;function hs(k){var P=-1,V=k?k.length:0;for(this.clear();++P<V;){var ee=k[P];this.set(ee[0],ee[1])}}function er(){this.__data__={hash:new cs,map:new(Kr||ls),string:new cs}}function du(k){return qi(this,k).delete(k)}function hu(k){return qi(this,k).get(k)}function fu(k){return qi(this,k).has(k)}function fs(k,P){return qi(this,k).set(k,P),this}hs.prototype.clear=er,hs.prototype.delete=du,hs.prototype.get=hu,hs.prototype.has=fu,hs.prototype.set=fs;function ji(k){var P=-1,V=k?k.length:0;for(this.__data__=new hs;++P<V;)this.add(k[P])}function $i(k){return this.__data__.set(k,r),this}function pu(k){return this.__data__.has(k)}ji.prototype.add=ji.prototype.push=$i,ji.prototype.has=pu;function ps(k){this.__data__=new ls(k)}function Os(){this.__data__=new ls}function Hi(k){return this.__data__.delete(k)}function gu(k){return this.__data__.get(k)}function mu(k){return this.__data__.has(k)}function gs(k,P){var V=this.__data__;if(V instanceof ls){var ee=V.__data__;if(!Kr||ee.length<n-1)return ee.push([k,P]),this;V=this.__data__=new hs(ee)}return V.set(k,P),this}ps.prototype.clear=Os,ps.prototype.delete=Hi,ps.prototype.get=gu,ps.prototype.has=mu,ps.prototype.set=gs;function yu(k,P){var V=ct(k)||We(k)?ae(k.length,String):[],ee=V.length,Oe=!!ee;for(var _e in k)we.call(k,_e)&&!(Oe&&(_e=="length"||ta(_e,ee)))&&V.push(_e);return V}function Wi(k,P){for(var V=k.length;V--;)if(at(k[V][0],P))return V;return-1}function Vi(k,P,V,ee){return bu(k,function(Oe,_e,Ve){P(ee,Oe,V(Oe),Ve)}),ee}var bu=Eu(rc),Qr=Mu();function rc(k,P){return k&&Qr(k,P,ms)}function wr(k,P){P=Ar(P,k)?[P]:ic(P);for(var V=0,ee=P.length;k!=null&&V<ee;)k=k[C(P[V++])];return V&&V==ee?k:void 0}function vu(k){return Nt.call(k)}function wu(k,P){return k!=null&&P in Object(k)}function Jo(k,P,V,ee,Oe){return k===P?!0:k==null||P==null||!Jt(k)&&!At(P)?k!==k&&P!==P:_u(k,P,Jo,V,ee,Oe)}function _u(k,P,V,ee,Oe,_e){var Ve=ct(k),en=ct(P),Ot=l,cn=l;Ve||(Ot=es(k),Ot=Ot==c?y:Ot),en||(cn=es(P),cn=cn==c?y:cn);var Cn=Ot==y&&!oe(k),A=cn==y&&!oe(P),M=Ot==cn;if(M&&!Cn)return _e||(_e=new ps),Ve||pn(k)?oc(k,P,V,ee,Oe,_e):tr(k,P,Ot,V,ee,Oe,_e);if(!(Oe&o)){var B=Cn&&we.call(k,"__wrapped__"),z=A&&we.call(P,"__wrapped__");if(B||z){var de=B?k.value():k,re=z?P.value():P;return _e||(_e=new ps),V(de,re,ee,Oe,_e)}}return M?(_e||(_e=new ps),ac(k,P,V,ee,Oe,_e)):!1}function ea(k,P,V,ee){var Oe=V.length,_e=Oe;if(k==null)return!_e;for(k=Object(k);Oe--;){var Ve=V[Oe];if(Ve[2]?Ve[1]!==k[Ve[0]]:!(Ve[0]in k))return!1}for(;++Oe<_e;){Ve=V[Oe];var en=Ve[0],Ot=k[en],cn=Ve[1];if(Ve[2]){if(Ot===void 0&&!(en in k))return!1}else{var Cn=new ps,A;if(!(A===void 0?Jo(cn,Ot,ee,i|o,Cn):A))return!1}}return!0}function xu(k){if(!Jt(k)||Jr(k))return!1;var P=xt(k)||oe(k)?Ct:Ce;return P.test(j(k))}function Au(k){return At(k)&&an(k.length)&&!!ge[Nt.call(k)]}function Ui(k){return typeof k=="function"?k:k==null?Yi:typeof k=="object"?ct(k)?Su(k[0],k[1]):_r(k):ti(k)}function zi(k){if(!ei(k))return qo(k);var P=[];for(var V in Object(k))we.call(k,V)&&V!="constructor"&&P.push(V);return P}function _r(k){var P=Xr(k);return P.length==1&&P[0][2]?nr(P[0][0],P[0][1]):function(V){return V===k||ea(V,k,P)}}function Su(k,P){return Ar(k)&&lc(P)?nr(C(k),P):function(V){var ee=qn(V,k);return ee===void 0&&ee===P?gn(V,k):Jo(P,ee,void 0,i|o)}}function Tu(k){return function(P){return wr(P,k)}}function Ps(k){if(typeof k=="string")return k;if(fn(k))return Qo?Qo.call(k):"";var P=k+"";return P=="0"&&1/k==-1/0?"-0":P}function ic(k){return ct(k)?k:Is(k)}function ku(k,P){return function(V,ee){var Oe=ct(V)?Z:Vi,_e=P?P():{};return Oe(V,k,Ui(ee),_e)}}function Eu(k,P){return function(V,ee){if(V==null)return V;if(!Ht(V))return k(V,ee);for(var Oe=V.length,_e=-1,Ve=Object(V);++_e<Oe&&ee(Ve[_e],_e,Ve)!==!1;);return V}}function Mu(k){return function(P,V,ee){for(var Oe=-1,_e=Object(P),Ve=ee(P),en=Ve.length;en--;){var Ot=Ve[++Oe];if(V(_e[Ot],Ot,_e)===!1)break}return P}}function oc(k,P,V,ee,Oe,_e){var Ve=Oe&o,en=k.length,Ot=P.length;if(en!=Ot&&!(Ve&&Ot>en))return!1;var cn=_e.get(k);if(cn&&_e.get(P))return cn==P;var Cn=-1,A=!0,M=Oe&i?new ji:void 0;for(_e.set(k,P),_e.set(P,k);++Cn<en;){var B=k[Cn],z=P[Cn];if(ee)var de=Ve?ee(z,B,Cn,P,k,_e):ee(B,z,Cn,k,P,_e);if(de!==void 0){if(de)continue;A=!1;break}if(M){if(!ce(P,function(re,Ae){if(!M.has(Ae)&&(B===re||V(B,re,ee,Oe,_e)))return M.add(Ae)})){A=!1;break}}else if(!(B===z||V(B,z,ee,Oe,_e))){A=!1;break}}return _e.delete(k),_e.delete(P),A}function tr(k,P,V,ee,Oe,_e,Ve){switch(V){case E:if(k.byteLength!=P.byteLength||k.byteOffset!=P.byteOffset)return!1;k=k.buffer,P=P.buffer;case x:return!(k.byteLength!=P.byteLength||!ee(new zn(k),new zn(P)));case u:case h:case m:return at(+k,+P);case d:return k.name==P.name&&k.message==P.message;case v:case T:return k==P+"";case f:var en=xe;case b:var Ot=_e&o;if(en||(en=he),k.size!=P.size&&!Ot)return!1;var cn=Ve.get(k);if(cn)return cn==P;_e|=i,Ve.set(k,P);var Cn=oc(en(k),en(P),ee,Oe,_e,Ve);return Ve.delete(k),Cn;case _:if(Zo)return Zo.call(k)==Zo.call(P)}return!1}function ac(k,P,V,ee,Oe,_e){var Ve=Oe&o,en=ms(k),Ot=en.length,cn=ms(P),Cn=cn.length;if(Ot!=Cn&&!Ve)return!1;for(var A=Ot;A--;){var M=en[A];if(!(Ve?M in P:we.call(P,M)))return!1}var B=_e.get(k);if(B&&_e.get(P))return B==P;var z=!0;_e.set(k,P),_e.set(P,k);for(var de=Ve;++A<Ot;){M=en[A];var re=k[M],Ae=P[M];if(ee)var lt=Ve?ee(Ae,re,M,P,k,_e):ee(re,Ae,M,k,P,_e);if(!(lt===void 0?re===Ae||V(re,Ae,ee,Oe,_e):lt)){z=!1;break}de||(de=M=="constructor")}if(z&&!de){var Qe=k.constructor,mt=P.constructor;Qe!=mt&&"constructor"in k&&"constructor"in P&&!(typeof Qe=="function"&&Qe instanceof Qe&&typeof mt=="function"&&mt instanceof mt)&&(z=!1)}return _e.delete(k),_e.delete(P),z}function qi(k,P){var V=k.__data__;return cc(P)?V[typeof P=="string"?"string":"hash"]:V.map}function Xr(k){for(var P=ms(k),V=P.length;V--;){var ee=P[V],Oe=k[ee];P[V]=[ee,Oe,lc(Oe)]}return P}function xr(k,P){var V=ke(k,P);return xu(V)?V:void 0}var es=vu;(Yo&&es(new Yo(new ArrayBuffer(1)))!=E||Kr&&es(new Kr)!=f||br&&es(br.resolve())!=w||Ks&&es(new Ks)!=b||vr&&es(new vr)!=S)&&(es=function(k){var P=Nt.call(k),V=P==y?k.constructor:void 0,ee=V?j(V):void 0;if(ee)switch(ee){case Zs:return E;case Qs:return f;case Go:return w;case Ko:return b;case Zr:return S}return P});function Du(k,P,V){P=Ar(P,k)?[P]:ic(P);for(var ee,Oe=-1,Ve=P.length;++Oe<Ve;){var _e=C(P[Oe]);if(!(ee=k!=null&&V(k,_e)))break;k=k[_e]}if(ee)return ee;var Ve=k?k.length:0;return!!Ve&&an(Ve)&&ta(_e,Ve)&&(ct(k)||We(k))}function ta(k,P){return P=P??a,!!P&&(typeof k=="number"||ft.test(k))&&k>-1&&k%1==0&&k<P}function Ar(k,P){if(ct(k))return!1;var V=typeof k;return V=="number"||V=="symbol"||V=="boolean"||k==null||fn(k)?!0:ye.test(k)||!se.test(k)||P!=null&&k in Object(P)}function cc(k){var P=typeof k;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?k!=="__proto__":k===null}function Jr(k){return!!wt&&wt in k}function ei(k){var P=k&&k.constructor,V=typeof P=="function"&&P.prototype||Ne;return k===V}function lc(k){return k===k&&!Jt(k)}function nr(k,P){return function(V){return V==null?!1:V[k]===P&&(P!==void 0||k in Object(V))}}var Is=pe(function(k){k=ts(k);var P=[];return Le.test(k)&&P.push(""),k.replace(Be,function(V,ee,Oe,_e){P.push(Oe?_e.replace(dt,"$1"):ee||V)}),P});function C(k){if(typeof k=="string"||fn(k))return k;var P=k+"";return P=="0"&&1/k==-1/0?"-0":P}function j(k){if(k!=null){try{return Pe.call(k)}catch{}try{return k+""}catch{}}return""}var Y=ku(function(k,P,V){k[V?0:1].push(P)},function(){return[[],[]]});function pe(k,P){if(typeof k!="function"||P&&typeof P!="function")throw new TypeError(s);var V=function(){var ee=arguments,Oe=P?P.apply(this,ee):ee[0],_e=V.cache;if(_e.has(Oe))return _e.get(Oe);var Ve=k.apply(this,ee);return V.cache=_e.set(Oe,Ve),Ve};return V.cache=new(pe.Cache||hs),V}pe.Cache=hs;function at(k,P){return k===P||k!==k&&P!==P}function We(k){return Qt(k)&&we.call(k,"callee")&&(!au.call(k,"callee")||Nt.call(k)==c)}var ct=Array.isArray;function Ht(k){return k!=null&&an(k.length)&&!xt(k)}function Qt(k){return At(k)&&Ht(k)}function xt(k){var P=Jt(k)?Nt.call(k):"";return P==p||P==g}function an(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=a}function Jt(k){var P=typeof k;return!!k&&(P=="object"||P=="function")}function At(k){return!!k&&typeof k=="object"}function fn(k){return typeof k=="symbol"||At(k)&&Nt.call(k)==_}var pn=G?J(G):Au;function ts(k){return k==null?"":Ps(k)}function qn(k,P,V){var ee=k==null?void 0:wr(k,P);return ee===void 0?V:ee}function gn(k,P){return k!=null&&Du(k,P,wu)}function ms(k){return Ht(k)?yu(k):zi(k)}function Yi(k){return k}function ti(k){return Ar(k)?ie(C(k)):Tu(k)}t.exports=Y}(ah,ah.exports);var eL=ah.exports;const S0=On(eL),ch=(t,[e,n])=>t.filter(s=>s.startTime>=e&&s.startTime<n).length,T0=(t,e)=>t.reduce((n,s)=>n+SP(e,[s.startTime,s.endTime]),0);function tL(t,e){return hg({seriesList:k0(t),bucketDuration:e.bucketDuration??He.Hour,getLabel:dg(e,Da()),getYValue:T0,isToday:e.isToday,resetTime:e.resetTime})}function nL(t,e){return fg({seriesList:E0(t),bucketDuration:He.Day,domain:ug(e),getLabel:n=>qp(n,!1),getYValue:T0,resetTime:e.resetTime})}function sL(t,e){return hg({seriesList:k0(t),bucketDuration:e.bucketDuration??He.Hour,getLabel:dg(e,Da()),getYValue:ch,isToday:e.isToday,resetTime:e.resetTime})}function rL(t,e){return fg({seriesList:E0(t),bucketDuration:He.Day,domain:ug(e),getLabel:n=>qp(n,!1),getYValue:ch,resetTime:e.resetTime})}function iL(t,e){return hg({seriesList:aL(t),bucketDuration:e.bucketDuration??He.Hour,getLabel:dg(e,Da()),getYValue:ch,isToday:e.isToday,resetTime:e.resetTime})}function oL(t,e){return fg({seriesList:cL(t),bucketDuration:He.Day,domain:ug(e),getLabel:n=>qp(n,!1),getYValue:ch,resetTime:e.resetTime})}function k0(t){const e=Date.now();return t.map(n=>({name:n.name,platform:n.platform,values:n.values.reduce((s,r)=>{const i=qd(r.startedAt),o=r.startedAt-i,a=(r.endedAt??e)-i;if(a<=He.Day)s.push({session:r,startTime:o,endTime:a});else{s.push({session:r,startTime:o,endTime:He.Day});const c=a%He.Day;s.push({session:r,startTime:new Kn(0*He.Hour).ms,endTime:c})}return s},[])}))}function E0(t){const e=Date.now();return t.map(n=>({name:n.name,platform:n.platform,values:n.values.reduce((s,r)=>{const i=r.startedAt,o=r.endedAt??e;return s.push({session:r,startTime:i,endTime:o}),s},[])}))}function aL(t){return t.map(e=>({name:e.name,platform:e.platform,values:e.values.map(n=>{const s=qd(n.timestamp),r=n.timestamp-s;return{ad:n,startTime:r,endTime:r}})}))}function cL(t){return t.map(e=>({name:e.name,platform:e.platform,values:e.values.map(n=>({ad:n,startTime:n.timestamp,endTime:n.timestamp}))}))}function lL(t,e,n){let s,r;const i=t.flatMap(o=>o.values);if(i.length===0)s=8*He.Hour+e,r=20*He.Hour+He.Second-e;else{const[o,a]=S0(i,d=>d.startTime<n),[c,l]=S0(i,d=>d.endTime<=n),u=a.length>0?Iw(a.map(d=>d.startTime)):Iw(o.map(d=>d.startTime))+He.Day,h=c.length>0?Rw(c.map(d=>d.endTime))+He.Day:Rw(l.map(d=>d.endTime));s=Math.floor(u/e)*e,r=h}return{startTime:s,endTime:r}}function ug(t){return{startTime:t.startDate,endTime:t.endDate}}function dg({is24HourFormat:t},e){return n=>EP(n,{is24HourFormat:t,baseTime:e})}function hg({seriesList:t,bucketDuration:e,getLabel:n,getYValue:s,isToday:r,resetTime:i}){const o={labels:[],series:t.map(h=>({name:h.name,values:[],additionalData:h.platform}))},a=lL(t,e,i),c=Math.max(a.startTime-e,i),l=Math.min(a.endTime,He.Day+i);let u=c;for(const h of Yp(c,l,e)){const d=h%He.Day,p=d,g=Math.min(d+e,He.Day);o.labels.push(n(d)),t.forEach((f,m)=>{t[m].values.length>0&&o.series[m].values.push(s(f.values,[p,g]))}),u=h+e}return u<He.Day+i&&(o.labels.push(n(u)),t.forEach((h,d)=>{!r&&h.values.length>0&&o.series[d].values.push(0)})),o}function fg({seriesList:t,bucketDuration:e,domain:n,getLabel:s,getYValue:r,resetTime:i}){const o={labels:[],series:t.map(l=>({name:l.name,additionalData:l.platform,values:[]}))},[a,c]=Nw(n.startTime,n.endTime,i);for(const l of Yp(a,c,e)){const u=l,h=l+e;o.labels.push(s(u)),t.forEach((d,p)=>{t[p].values.length>0&&o.series[p].values.push(r(d.values,[u,h]))})}return o}function uL(t){return io(t,()=>{throw Error(`Value not provided for "${t}"`)},!0)}function pg(){return uL(Xf.Stayfocusd)}var _l=(t=>(t[t.GetPopupTimer=0]="GetPopupTimer",t[t.GetTimerForBlockAll=1]="GetTimerForBlockAll",t[t.GetTimersForGroups=2]="GetTimersForGroups",t[t.GetNuclearTimer=3]="GetNuclearTimer",t[t.UsageHighlights=4]="UsageHighlights",t[t.UsageSummary=5]="UsageSummary",t[t.UsageSummaryForLineChart=6]="UsageSummaryForLineChart",t[t.GetAppGroups=7]="GetAppGroups",t[t.PairingCode=8]="PairingCode",t[t.DeviceGroup=9]="DeviceGroup",t[t.Devices=10]="Devices",t))(_l||{}),xl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ao=typeof window>"u"||"Deno"in globalThis;function Ss(){}function dL(t,e){return typeof t=="function"?t(e):t}function gg(t){return typeof t=="number"&&t>=0&&t!==1/0}function M0(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Pa(t,e){return typeof t=="function"?t(e):t}function qs(t,e){return typeof t=="function"?t(e):t}function D0(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:a}=t;if(o){if(s){if(e.queryHash!==mg(o,e.options))return!1}else if(!Sl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||i&&!i(e))}function C0(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Al(e.options.mutationKey)!==Al(i))return!1}else if(!Sl(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function mg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Al)(t)}function Al(t){return JSON.stringify(t,(e,n)=>bg(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Sl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Sl(t[n],e[n])):!1}function O0(t,e){if(t===e)return t;const n=P0(t)&&P0(e);if(n||bg(t)&&bg(e)){const s=n?t:Object.keys(t),r=s.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let l=0;l<o;l++){const u=n?l:i[l];(!n&&s.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,c++):(a[u]=O0(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&c++)}return r===o&&c===r?t:a}return e}function yg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function P0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bg(t){if(!I0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!I0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function I0(t){return Object.prototype.toString.call(t)==="[object Object]"}function hL(t){return new Promise(e=>{setTimeout(e,t)})}function vg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?O0(t,e):e}function fL(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function pL(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var wg=Symbol();function R0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gL=(PA=class extends xl{constructor(){super();Se(this,Bo);Se(this,Mi);Se(this,Ua);le(this,Ua,e=>{if(!Ao&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,Mi)||this.setEventListener(O(this,Ua))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Mi))==null||e.call(this),le(this,Mi,void 0))}setEventListener(e){var n;le(this,Ua,e),(n=O(this,Mi))==null||n.call(this),le(this,Mi,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){O(this,Bo)!==e&&(le(this,Bo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,Bo)=="boolean"?O(this,Bo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bo=new WeakMap,Mi=new WeakMap,Ua=new WeakMap,PA),_g=new gL,mL=(IA=class extends xl{constructor(){super();Se(this,za,!0);Se(this,Di);Se(this,qa);le(this,qa,e=>{if(!Ao&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){O(this,Di)||this.setEventListener(O(this,qa))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Di))==null||e.call(this),le(this,Di,void 0))}setEventListener(e){var n;le(this,qa,e),(n=O(this,Di))==null||n.call(this),le(this,Di,e(this.setOnline.bind(this)))}setOnline(e){O(this,za)!==e&&(le(this,za,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return O(this,za)}},za=new WeakMap,Di=new WeakMap,qa=new WeakMap,IA),lh=new mL;function xg(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}function yL(t){return Math.min(1e3*2**t,3e4)}function L0(t){return(t??"online")==="online"?lh.isOnline():!0}var N0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ag(t){return t instanceof N0}function F0(t){let e=!1,n=0,s=!1,r;const i=xg(),o=f=>{var m;s||(d(new N0(f)),(m=t.abort)==null||m.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>_g.isFocused()&&(t.networkMode==="always"||lh.isOnline())&&t.canRun(),u=()=>L0(t.networkMode)&&t.canRun(),h=f=>{var m;s||(s=!0,(m=t.onSuccess)==null||m.call(t,f),r==null||r(),i.resolve(f))},d=f=>{var m;s||(s=!0,(m=t.onError)==null||m.call(t,f),r==null||r(),i.reject(f))},p=()=>new Promise(f=>{var m;r=y=>{(s||l())&&f(y)},(m=t.onPause)==null||m.call(t)}).then(()=>{var f;r=void 0,s||(f=t.onContinue)==null||f.call(t)}),g=()=>{if(s)return;let f;const m=n===0?t.initialPromise:void 0;try{f=m??t.fn()}catch(y){f=Promise.reject(y)}Promise.resolve(f).then(h).catch(y=>{var _;if(s)return;const w=t.retry??(Ao?0:3),v=t.retryDelay??yL,b=typeof v=="function"?v(n,y):v,T=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(e||!T){d(y);return}n++,(_=t.onFail)==null||_.call(t,n,y),hL(b).then(()=>l()?void 0:p()).then(()=>{e?d(y):g()})})};return{promise:i,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),i)}}var bL=t=>setTimeout(t,0);function vL(){let t=[],e=0,n=a=>{a()},s=a=>{a()},r=bL;const i=a=>{e?t.push(a):r(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{s(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{r=a}}}var Tn=vL(),B0=(RA=class{constructor(){Se(this,jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gg(this.gcTime)&&le(this,jo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ao?1/0:5*60*1e3))}clearGcTimeout(){O(this,jo)&&(clearTimeout(O(this,jo)),le(this,jo,void 0))}},jo=new WeakMap,RA),wL=(LA=class extends B0{constructor(e){super();Se(this,Ys);Se(this,Ya);Se(this,Ga);Se(this,Ds);Se(this,$o);Se(this,Dn);Se(this,nu);Se(this,Ho);le(this,Ho,!1),le(this,nu,e.defaultOptions),this.setOptions(e.options),this.observers=[],le(this,$o,e.client),le(this,Ds,O(this,$o).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,le(this,Ya,_L(this.options)),this.state=e.state??O(this,Ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=O(this,Dn))==null?void 0:e.promise}setOptions(e){this.options={...O(this,nu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,Ds).remove(this)}setData(e,n){const s=vg(this.state.data,e,this.options);return qe(this,Ys,si).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(e,n){qe(this,Ys,si).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var s,r;const n=(s=O(this,Dn))==null?void 0:s.promise;return(r=O(this,Dn))==null||r.cancel(e),n?n.then(Ss).catch(Ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Ya))}isActive(){return this.observers.some(e=>qs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!M0(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,Dn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,Dn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),O(this,Ds).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(O(this,Dn)&&(O(this,Ho)?O(this,Dn).cancel({revert:!0}):O(this,Dn).cancelRetry()),this.scheduleGc()),O(this,Ds).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,Ys,si).call(this,{type:"invalidate"})}fetch(e,n){var c,l,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(O(this,Dn))return O(this,Dn).continueRetry(),O(this,Dn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(d=>d.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(le(this,Ho,!0),s.signal)})},i=()=>{const h=R0(this.options,n),d={client:O(this,$o),queryKey:this.queryKey,meta:this.meta};return r(d),le(this,Ho,!1),this.options.persister?this.options.persister(h,d,this):h(d)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:O(this,$o),state:this.state,fetchFn:i};r(o),(c=this.options.behavior)==null||c.onFetch(o,this),le(this,Ga,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&qe(this,Ys,si).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=h=>{var d,p,g,f;Ag(h)&&h.silent||qe(this,Ys,si).call(this,{type:"error",error:h}),Ag(h)||((p=(d=O(this,Ds).config).onError)==null||p.call(d,h,this),(f=(g=O(this,Ds).config).onSettled)==null||f.call(g,this.state.data,h,this)),this.scheduleGc()};return le(this,Dn,F0({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var d,p,g,f;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(m){a(m);return}(p=(d=O(this,Ds).config).onSuccess)==null||p.call(d,h,this),(f=(g=O(this,Ds).config).onSettled)==null||f.call(g,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,d)=>{qe(this,Ys,si).call(this,{type:"failed",failureCount:h,error:d})},onPause:()=>{qe(this,Ys,si).call(this,{type:"pause"})},onContinue:()=>{qe(this,Ys,si).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),O(this,Dn).start()}},Ya=new WeakMap,Ga=new WeakMap,Ds=new WeakMap,$o=new WeakMap,Dn=new WeakMap,nu=new WeakMap,Ho=new WeakMap,Ys=new WeakSet,si=function(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...j0(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Ag(r)&&r.revert&&O(this,Ga)?{...O(this,Ga),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),Tn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),O(this,Ds).notify({query:this,type:"updated",action:e})})},LA);function j0(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:L0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _L(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $0=(NA=class extends xl{constructor(n={}){super();Se(this,gr);this.config=n,le(this,gr,new Map)}build(n,s,r){const i=s.queryKey,o=s.queryHash??mg(i,s);let a=this.get(o);return a||(a=new wL({client:n,queryKey:i,queryHash:o,options:n.defaultQueryOptions(s),state:r,defaultOptions:n.getQueryDefaults(i)}),this.add(a)),a}add(n){O(this,gr).has(n.queryHash)||(O(this,gr).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const s=O(this,gr).get(n.queryHash);s&&(n.destroy(),s===n&&O(this,gr).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Tn.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return O(this,gr).get(n)}getAll(){return[...O(this,gr).values()]}find(n){const s={exact:!0,...n};return this.getAll().find(r=>D0(s,r))}findAll(n={}){const s=this.getAll();return Object.keys(n).length>0?s.filter(r=>D0(n,r)):s}notify(n){Tn.batch(()=>{this.listeners.forEach(s=>{s(n)})})}onFocus(){Tn.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Tn.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},gr=new WeakMap,NA),xL=(FA=class extends B0{constructor(e){super();Se(this,yr);Se(this,mr);Se(this,Vn);Se(this,Wo);this.mutationId=e.mutationId,le(this,Vn,e.mutationCache),le(this,mr,[]),this.state=e.state||AL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){O(this,mr).includes(e)||(O(this,mr).push(e),this.clearGcTimeout(),O(this,Vn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){le(this,mr,O(this,mr).filter(n=>n!==e)),this.scheduleGc(),O(this,Vn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){O(this,mr).length||(this.state.status==="pending"?this.scheduleGc():O(this,Vn).remove(this))}continue(){var e;return((e=O(this,Wo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,l,u,h,d,p,g,f,m,y,w,v,b,T,_,S,x;const n=()=>{qe(this,yr,Zi).call(this,{type:"continue"})};le(this,Wo,F0({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,D)=>{qe(this,yr,Zi).call(this,{type:"failed",failureCount:E,error:D})},onPause:()=>{qe(this,yr,Zi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Vn).canRun(this)}));const s=this.state.status==="pending",r=!O(this,Wo).canStart();try{if(s)n();else{qe(this,yr,Zi).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(i=O(this,Vn).config).onMutate)==null?void 0:o.call(i,e,this));const D=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));D!==this.state.context&&qe(this,yr,Zi).call(this,{type:"pending",context:D,variables:e,isPaused:r})}const E=await O(this,Wo).start();return await((u=(l=O(this,Vn).config).onSuccess)==null?void 0:u.call(l,E,e,this.state.context,this)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,E,e,this.state.context)),await((g=(p=O(this,Vn).config).onSettled)==null?void 0:g.call(p,E,null,this.state.variables,this.state.context,this)),await((m=(f=this.options).onSettled)==null?void 0:m.call(f,E,null,e,this.state.context)),qe(this,yr,Zi).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(y=O(this,Vn).config).onError)==null?void 0:w.call(y,E,e,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,E,e,this.state.context)),await((_=(T=O(this,Vn).config).onSettled)==null?void 0:_.call(T,void 0,E,this.state.variables,this.state.context,this)),await((x=(S=this.options).onSettled)==null?void 0:x.call(S,void 0,E,e,this.state.context)),E}finally{qe(this,yr,Zi).call(this,{type:"error",error:E})}}finally{O(this,Vn).runNext(this)}}},mr=new WeakMap,Vn=new WeakMap,Wo=new WeakMap,yr=new WeakSet,Zi=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tn.batch(()=>{O(this,mr).forEach(s=>{s.onMutationUpdate(e)}),O(this,Vn).notify({mutation:this,type:"updated",action:e})})},FA);function AL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var H0=(BA=class extends xl{constructor(n={}){super();Se(this,Gr);Se(this,Gs);Se(this,su);this.config=n,le(this,Gr,new Set),le(this,Gs,new Map),le(this,su,0)}build(n,s,r){const i=new xL({mutationCache:this,mutationId:++nf(this,su)._,options:n.defaultMutationOptions(s),state:r});return this.add(i),i}add(n){O(this,Gr).add(n);const s=uh(n);if(typeof s=="string"){const r=O(this,Gs).get(s);r?r.push(n):O(this,Gs).set(s,[n])}this.notify({type:"added",mutation:n})}remove(n){if(O(this,Gr).delete(n)){const s=uh(n);if(typeof s=="string"){const r=O(this,Gs).get(s);if(r)if(r.length>1){const i=r.indexOf(n);i!==-1&&r.splice(i,1)}else r[0]===n&&O(this,Gs).delete(s)}}this.notify({type:"removed",mutation:n})}canRun(n){const s=uh(n);if(typeof s=="string"){const r=O(this,Gs).get(s),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===n}else return!0}runNext(n){var r;const s=uh(n);if(typeof s=="string"){const i=(r=O(this,Gs).get(s))==null?void 0:r.find(o=>o!==n&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tn.batch(()=>{O(this,Gr).forEach(n=>{this.notify({type:"removed",mutation:n})}),O(this,Gr).clear(),O(this,Gs).clear()})}getAll(){return Array.from(O(this,Gr))}find(n){const s={exact:!0,...n};return this.getAll().find(r=>C0(s,r))}findAll(n={}){return this.getAll().filter(s=>C0(n,s))}notify(n){Tn.batch(()=>{this.listeners.forEach(s=>{s(n)})})}resumePausedMutations(){const n=this.getAll().filter(s=>s.state.isPaused);return Tn.batch(()=>Promise.all(n.map(s=>s.continue().catch(Ss))))}},Gr=new WeakMap,Gs=new WeakMap,su=new WeakMap,BA);function uh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function W0(t){return{onFetch:(e,n)=>{var u,h,d,p,g;const s=e.options,r=(d=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let f=!1;const m=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},y=R0(e.options,e.fetchOptions),w=async(v,b,T)=>{if(f)return Promise.reject();if(b==null&&v.pages.length)return Promise.resolve(v);const _={client:e.client,queryKey:e.queryKey,pageParam:b,direction:T?"backward":"forward",meta:e.options.meta};m(_);const S=await y(_),{maxPages:x}=e.options,E=T?pL:fL;return{pages:E(v.pages,S,x),pageParams:E(v.pageParams,b,x)}};if(r&&i.length){const v=r==="backward",b=v?SL:V0,T={pages:i,pageParams:o},_=b(s,T);a=await w(T,_,v)}else{const v=t??i.length;do{const b=c===0?o[0]??s.initialPageParam:V0(s,a);if(c>0&&b==null)break;a=await w(a,b),c++}while(c<v)}return a};e.options.persister?e.fetchFn=()=>{var f,m;return(m=(f=e.options).persister)==null?void 0:m.call(f,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function V0(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function SL(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var TL=(jA=class{constructor(e={}){Se(this,Kt);Se(this,Ci);Se(this,Oi);Se(this,Ka);Se(this,Za);Se(this,Pi);Se(this,Qa);Se(this,Xa);le(this,Kt,e.queryCache||new $0),le(this,Ci,e.mutationCache||new H0),le(this,Oi,e.defaultOptions||{}),le(this,Ka,new Map),le(this,Za,new Map),le(this,Pi,0)}mount(){nf(this,Pi)._++,O(this,Pi)===1&&(le(this,Qa,_g.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,Kt).onFocus())})),le(this,Xa,lh.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,Kt).onOnline())})))}unmount(){var e,n;nf(this,Pi)._--,O(this,Pi)===0&&((e=O(this,Qa))==null||e.call(this),le(this,Qa,void 0),(n=O(this,Xa))==null||n.call(this),le(this,Xa,void 0))}isFetching(e){return O(this,Kt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return O(this,Ci).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const n=this.defaultQueryOptions({queryKey:e});return(s=O(this,Kt).get(n.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),s=O(this,Kt).build(this,n),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Pa(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(r))}getQueriesData(e){return O(this,Kt).findAll(e).map(({queryKey:n,state:s})=>{const r=s.data;return[n,r]})}setQueryData(e,n,s){const r=this.defaultQueryOptions({queryKey:e}),i=O(this,Kt).get(r.queryHash),o=i==null?void 0:i.state.data,a=dL(n,o);if(a!==void 0)return O(this,Kt).build(this,r).setData(a,{...s,manual:!0})}setQueriesData(e,n,s){return Tn.batch(()=>O(this,Kt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,n,s)]))}getQueryState(e){var s;const n=this.defaultQueryOptions({queryKey:e});return(s=O(this,Kt).get(n.queryHash))==null?void 0:s.state}removeQueries(e){const n=O(this,Kt);Tn.batch(()=>{n.findAll(e).forEach(s=>{n.remove(s)})})}resetQueries(e,n){const s=O(this,Kt);return Tn.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const s={revert:!0,...n},r=Tn.batch(()=>O(this,Kt).findAll(e).map(i=>i.cancel(s)));return Promise.all(r).then(Ss).catch(Ss)}invalidateQueries(e,n={}){return Tn.batch(()=>(O(this,Kt).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},n)))}refetchQueries(e,n={}){const s={...n,cancelRefetch:n.cancelRefetch??!0},r=Tn.batch(()=>O(this,Kt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,s);return s.throwOnError||(o=o.catch(Ss)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ss)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const s=O(this,Kt).build(this,n);return s.isStaleByTime(Pa(n.staleTime,s))?s.fetch(n):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ss).catch(Ss)}fetchInfiniteQuery(e){return e.behavior=W0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ss).catch(Ss)}ensureInfiniteQueryData(e){return e.behavior=W0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lh.isOnline()?O(this,Ci).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Kt)}getMutationCache(){return O(this,Ci)}getDefaultOptions(){return O(this,Oi)}setDefaultOptions(e){le(this,Oi,e)}setQueryDefaults(e,n){O(this,Ka).set(Al(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...O(this,Ka).values()],s={};return n.forEach(r=>{Sl(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,n){O(this,Za).set(Al(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...O(this,Za).values()],s={};return n.forEach(r=>{Sl(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const n={...O(this,Oi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=mg(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===wg&&(n.enabled=!1),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...O(this,Oi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){O(this,Kt).clear(),O(this,Ci).clear()}},Kt=new WeakMap,Ci=new WeakMap,Oi=new WeakMap,Ka=new WeakMap,Za=new WeakMap,Pi=new WeakMap,Qa=new WeakMap,Xa=new WeakMap,jA),kL=($A=class extends xl{constructor(e,n){super();Se(this,gt);Se(this,Xn);Se(this,nt);Se(this,ru);Se(this,Un);Se(this,Vo);Se(this,Ja);Se(this,Ii);Se(this,Ri);Se(this,iu);Se(this,ec);Se(this,tc);Se(this,Uo);Se(this,zo);Se(this,Li);Se(this,nc,new Set);this.options=n,le(this,Xn,e),le(this,Ri,null),le(this,Ii,xg()),this.options.experimental_prefetchInRender||O(this,Ii).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,nt).addObserver(this),U0(O(this,nt),this.options)?qe(this,gt,Pu).call(this):this.updateResult(),qe(this,gt,Om).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sg(O(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sg(O(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,gt,Pm).call(this),qe(this,gt,Im).call(this),O(this,nt).removeObserver(this)}setOptions(e){const n=this.options,s=O(this,nt);if(this.options=O(this,Xn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qs(this.options.enabled,O(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,gt,Rm).call(this),O(this,nt).setOptions(this.options),n._defaulted&&!yg(this.options,n)&&O(this,Xn).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,nt),observer:this});const r=this.hasListeners();r&&z0(O(this,nt),s,this.options,n)&&qe(this,gt,Pu).call(this),this.updateResult(),r&&(O(this,nt)!==s||qs(this.options.enabled,O(this,nt))!==qs(n.enabled,O(this,nt))||Pa(this.options.staleTime,O(this,nt))!==Pa(n.staleTime,O(this,nt)))&&qe(this,gt,Mm).call(this);const i=qe(this,gt,Dm).call(this);r&&(O(this,nt)!==s||qs(this.options.enabled,O(this,nt))!==qs(n.enabled,O(this,nt))||i!==O(this,Li))&&qe(this,gt,Cm).call(this,i)}getOptimisticResult(e){const n=O(this,Xn).getQueryCache().build(O(this,Xn),e),s=this.createResult(n,e);return ML(this,s)&&(le(this,Un,s),le(this,Ja,this.options),le(this,Vo,O(this,nt).state)),s}getCurrentResult(){return O(this,Un)}trackResult(e,n){const s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),n==null||n(r),e[r])})}),s}trackProp(e){O(this,nc).add(e)}getCurrentQuery(){return O(this,nt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=O(this,Xn).defaultQueryOptions(e),s=O(this,Xn).getQueryCache().build(O(this,Xn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return qe(this,gt,Pu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,Un)))}createResult(e,n){var E;const s=O(this,nt),r=this.options,i=O(this,Un),o=O(this,Vo),a=O(this,Ja),l=e!==s?e.state:O(this,ru),{state:u}=e;let h={...u},d=!1,p;if(n._optimisticResults){const D=this.hasListeners(),R=!D&&U0(e,n),N=D&&z0(e,s,n,r);(R||N)&&(h={...h,...j0(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:f,status:m}=h;p=h.data;let y=!1;if(n.placeholderData!==void 0&&p===void 0&&m==="pending"){let D;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(D=i.data,y=!0):D=typeof n.placeholderData=="function"?n.placeholderData((E=O(this,tc))==null?void 0:E.state.data,O(this,tc)):n.placeholderData,D!==void 0&&(m="success",p=vg(i==null?void 0:i.data,D,n),d=!0)}if(n.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&n.select===O(this,iu))p=O(this,ec);else try{le(this,iu,n.select),p=n.select(p),p=vg(i==null?void 0:i.data,p,n),le(this,ec,p),le(this,Ri,null)}catch(D){le(this,Ri,D)}O(this,Ri)&&(g=O(this,Ri),p=O(this,ec),f=Date.now(),m="error");const w=h.fetchStatus==="fetching",v=m==="pending",b=m==="error",T=v&&w,_=p!==void 0,x={status:m,fetchStatus:h.fetchStatus,isPending:v,isSuccess:m==="success",isError:b,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:f,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!v,isLoadingError:b&&!_,isPaused:h.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&_,isStale:Tg(e,n),refetch:this.refetch,promise:O(this,Ii)};if(this.options.experimental_prefetchInRender){const D=$=>{x.status==="error"?$.reject(x.error):x.data!==void 0&&$.resolve(x.data)},R=()=>{const $=le(this,Ii,x.promise=xg());D($)},N=O(this,Ii);switch(N.status){case"pending":e.queryHash===s.queryHash&&D(N);break;case"fulfilled":(x.status==="error"||x.data!==N.value)&&R();break;case"rejected":(x.status!=="error"||x.error!==N.reason)&&R();break}}return x}updateResult(){const e=O(this,Un),n=this.createResult(O(this,nt),this.options);if(le(this,Vo,O(this,nt).state),le(this,Ja,this.options),O(this,Vo).data!==void 0&&le(this,tc,O(this,nt)),yg(n,e))return;le(this,Un,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!O(this,nc).size)return!0;const o=new Set(i??O(this,nc));return this.options.throwOnError&&o.add("error"),Object.keys(O(this,Un)).some(a=>{const c=a;return O(this,Un)[c]!==e[c]&&o.has(c)})};qe(this,gt,qA).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,gt,Om).call(this)}},Xn=new WeakMap,nt=new WeakMap,ru=new WeakMap,Un=new WeakMap,Vo=new WeakMap,Ja=new WeakMap,Ii=new WeakMap,Ri=new WeakMap,iu=new WeakMap,ec=new WeakMap,tc=new WeakMap,Uo=new WeakMap,zo=new WeakMap,Li=new WeakMap,nc=new WeakMap,gt=new WeakSet,Pu=function(e){qe(this,gt,Rm).call(this);let n=O(this,nt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ss)),n},Mm=function(){qe(this,gt,Pm).call(this);const e=Pa(this.options.staleTime,O(this,nt));if(Ao||O(this,Un).isStale||!gg(e))return;const s=M0(O(this,Un).dataUpdatedAt,e)+1;le(this,Uo,setTimeout(()=>{O(this,Un).isStale||this.updateResult()},s))},Dm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,nt)):this.options.refetchInterval)??!1},Cm=function(e){qe(this,gt,Im).call(this),le(this,Li,e),!(Ao||qs(this.options.enabled,O(this,nt))===!1||!gg(O(this,Li))||O(this,Li)===0)&&le(this,zo,setInterval(()=>{(this.options.refetchIntervalInBackground||_g.isFocused())&&qe(this,gt,Pu).call(this)},O(this,Li)))},Om=function(){qe(this,gt,Mm).call(this),qe(this,gt,Cm).call(this,qe(this,gt,Dm).call(this))},Pm=function(){O(this,Uo)&&(clearTimeout(O(this,Uo)),le(this,Uo,void 0))},Im=function(){O(this,zo)&&(clearInterval(O(this,zo)),le(this,zo,void 0))},Rm=function(){const e=O(this,Xn).getQueryCache().build(O(this,Xn),this.options);if(e===O(this,nt))return;const n=O(this,nt);le(this,nt,e),le(this,ru,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},qA=function(e){Tn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(O(this,Un))}),O(this,Xn).getQueryCache().notify({query:O(this,nt),type:"observerResultsUpdated"})})},$A);function EL(t,e){return qs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function U0(t,e){return EL(t,e)||t.state.data!==void 0&&Sg(t,e,e.refetchOnMount)}function Sg(t,e,n){if(qs(e.enabled,t)!==!1){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&Tg(t,e)}return!1}function z0(t,e,n,s){return(t!==e||qs(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Tg(t,n)}function Tg(t,e){return qs(e.enabled,t)!==!1&&t.isStaleByTime(Pa(e.staleTime,t))}function ML(t,e){return!yg(t.getCurrentResult(),e)}var DL="VUE_QUERY_CLIENT";function q0(t){const e=t?`:${t}`:"";return`${DL}${e}`}function Y0(t,e){Object.keys(t).forEach(n=>{t[n]=e[n]})}function kg(t,e,n="",s=0){if(e){const r=e(t,n,s);if(r===void 0&&ht(t)||r!==void 0)return r}if(Array.isArray(t))return t.map((r,i)=>kg(r,e,String(i),s+1));if(typeof t=="object"&&OL(t)){const r=Object.entries(t).map(([i,o])=>[i,kg(o,e,i,s+1)]);return Object.fromEntries(r)}return t}function CL(t,e){return kg(t,e)}function Ze(t,e=!1){return CL(t,(n,s,r)=>{if(r===1&&s==="queryKey")return Ze(n,!0);if(e&&PL(n))return Ze(n(),e);if(ht(n))return Ze(me(n),e)})}function OL(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function PL(t){return typeof t=="function"}function G0(t,e){return typeof t=="function"?t(...e):!!t}function IL(t=""){if(!Vy())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const e=q0(t),n=io(e);if(!n)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return n}var RL=class extends $0{find(t){return super.find(Ze(t))}findAll(t={}){return super.findAll(Ze(t))}},LL=class extends H0{find(t){return super.find(Ze(t))}findAll(t={}){return super.findAll(Ze(t))}},NL=class extends TL{constructor(t={}){const e={defaultOptions:t.defaultOptions,queryCache:t.queryCache||new RL,mutationCache:t.mutationCache||new LL};super(e),this.isRestoring=Tt(!1)}isFetching(t={}){return super.isFetching(Ze(t))}isMutating(t={}){return super.isMutating(Ze(t))}getQueryData(t){return super.getQueryData(Ze(t))}ensureQueryData(t){return super.ensureQueryData(Ze(t))}getQueriesData(t){return super.getQueriesData(Ze(t))}setQueryData(t,e,n={}){return super.setQueryData(Ze(t),e,Ze(n))}setQueriesData(t,e,n={}){return super.setQueriesData(Ze(t),e,Ze(n))}getQueryState(t){return super.getQueryState(Ze(t))}removeQueries(t={}){return super.removeQueries(Ze(t))}resetQueries(t={},e={}){return super.resetQueries(Ze(t),Ze(e))}cancelQueries(t={},e={}){return super.cancelQueries(Ze(t),Ze(e))}invalidateQueries(t={},e={}){const n=Ze(t),s=Ze(e);if(super.invalidateQueries({...n,refetchType:"none"},s),n.refetchType==="none")return Promise.resolve();const r={...n,type:n.refetchType??n.type??"active"};return no().then(()=>super.refetchQueries(r,s))}refetchQueries(t={},e={}){return super.refetchQueries(Ze(t),Ze(e))}fetchQuery(t){return super.fetchQuery(Ze(t))}prefetchQuery(t){return super.prefetchQuery(Ze(t))}fetchInfiniteQuery(t){return super.fetchInfiniteQuery(Ze(t))}prefetchInfiniteQuery(t){return super.prefetchInfiniteQuery(Ze(t))}setDefaultOptions(t){super.setDefaultOptions(Ze(t))}setQueryDefaults(t,e){super.setQueryDefaults(Ze(t),Ze(e))}getQueryDefaults(t){return super.getQueryDefaults(Ze(t))}setMutationDefaults(t,e){super.setMutationDefaults(Ze(t),Ze(e))}getMutationDefaults(t){return super.getMutationDefaults(Ze(t))}},FL={install:(t,e={})=>{const n=q0(e.queryClientKey);let s;if("queryClient"in e&&e.queryClient)s=e.queryClient;else{const o="queryClientConfig"in e?e.queryClientConfig:void 0;s=new NL(o)}Ao||s.mount();let r=()=>{};if(e.clientPersister){s.isRestoring.value=!0;const[o,a]=e.clientPersister(s);r=o,a.then(()=>{var c;s.isRestoring.value=!1,(c=e.clientPersisterOnSuccess)==null||c.call(e,s)})}const i=()=>{s.unmount(),r()};if(t.onUnmount)t.onUnmount(i);else{const o=t.unmount;t.unmount=function(){i(),o()}}t.provide(n,s)}};function BL(t,e,n){const s=IL(),r=Re(()=>{const p=Ze(e);typeof p.enabled=="function"&&(p.enabled=p.enabled());const g=s.defaultQueryOptions(p);return g._optimisticResults=s.isRestoring.value?"isRestoring":"optimistic",g}),i=new t(s,r.value),o=hy(i.getCurrentResult());let a=()=>{};tn(s.isRestoring,p=>{p||(a(),a=i.subscribe(g=>{Y0(o,g)}))},{immediate:!0});const c=()=>{i.setOptions(r.value),Y0(o,i.getCurrentResult())};tn(r,c),yf(()=>{a()});const l=(...p)=>(c(),o.refetch(...p)),u=()=>new Promise((p,g)=>{let f=()=>{};const m=()=>{if(r.value.enabled!==!1){i.setOptions(r.value);const y=i.getOptimisticResult(r.value);y.isStale?(f(),i.fetchOptimistic(r.value).then(p,w=>{G0(r.value.throwOnError,[w,i.getCurrentQuery()])?g(w):p(i.getCurrentResult())})):(f(),p(y))}};m(),f=tn(r,m)});tn(()=>o.error,p=>{if(o.isError&&!o.isFetching&&G0(r.value.throwOnError,[p,i.getCurrentQuery()]))throw p});const d=gy(o);for(const p in o)typeof o[p]=="function"&&(d[p]=o[p]);return d.suspense=u,d.refetch=l,d}function dh(t,e){return BL(kL,t)}function jL(){const t=pg();return dh({queryKey:[_l.GetTimersForGroups],queryFn:()=>t.timers.getAllTimersByType(As.Group),refetchOnMount:!0,refetchOnReconnect:!0,refetchOnWindowFocus:!0})}function $L(t){return{id:t.id,website_urls:t.websiteUrls,brand_ids:t.brandIds,limit_type:t.limitType,is_enabled:t.isEnabled,daily_limit_duration:t.dailyLimitDuration?Zp(t.dailyLimitDuration):void 0,daily_limit_block_type:t.dailyLimitBlockType,daily_limit_metric_type:t.dailyLimitMetricType,custom_limit_name:t.customLimitName}}function HL(t){return(t.limit_type==Oa.DailyUsageLimit||t.limit_type==Oa.BlockPermanently)&&(t.website_urls&&t.website_urls.length>0||t.brand_ids&&t.brand_ids.length>0)&&(t.daily_limit_block_type==null||t.daily_limit_block_type==th.Block)&&(t.daily_limit_metric_type==null||t.daily_limit_metric_type==nh.UsageTime)}function K0(t){if(HL(t))return{id:t.id,websiteUrls:t.website_urls??[],limitType:t.limit_type,isEnabled:t.is_enabled,brandIds:t.brand_ids??[],isSynced:!0,dailyLimitDuration:t.limit_type==Oa.BlockPermanently?0:t.daily_limit_duration*He.Second,dailyLimitBlockType:th.Block,dailyLimitMetricType:nh.UsageTime,customLimitName:t.custom_limit_name??""}}async function WL(t,e,n){async function s(r,i=!1){let o="";if(r.length>0)if(i){const c=(await xo()).find(l=>l.brand_id==r[0]);c&&(o=c.name)}else o=r[0];return r.length==1?o:`${o} ${Je("more",r.length.toString())}`}if(t)return t;if(e.length>0)return await s(e);if(n.length>0)return await s(n,!0)}async function Z0(t){return{id:t.id,name:await WL(t.customLimitName,t.websiteUrls,t.brandIds??[]),allowedTimeMs:t.dailyLimitDuration,brandIds:t.brandIds,type:As.Group,blocklist:t.websiteUrls,isEnabled:t.isEnabled,isSynced:t.isSynced}}function VL(t){return{id:t.id,customLimitName:t.name,dailyLimitDuration:t.allowedTimeMs,websiteUrls:t.blocklist,brandIds:t.brandIds,isEnabled:t.isEnabled,isSynced:t.isSynced,limitType:t.allowedTimeMs==0?Oa.BlockPermanently:Oa.DailyUsageLimit,dailyLimitBlockType:th.Block,dailyLimitMetricType:nh.UsageTime}}function UL(){async function t(s){const r=await vn.getValue(),i=r[s];return i.isSynced=!0,await vn.setValue(r),VL(i)}async function e(s){const r=await vn.getValue();delete r[s],await vn.setValue(r)}async function n(s){const r=await vn.getValue(),i=r[s.id];if(i)i.name=s.customLimitName??"",i.allowedTimeMs=s.dailyLimitDuration??0,i.isEnabled=s.isEnabled,i.isSynced=s.isSynced,i.blocklist=s.websiteUrls,i.brandIds=s.brandIds;else{const o=await Z0(s);r[o.id]=o}await vn.setValue(r)}return{upsertLimit:n,removeUsageLimit:e,setSyncFlagUsageLimit:t}}function Q0(){const t=ig(),e=UL();async function n(d,p){const g=await s();g&&await p(g),await d()}async function s(){const d=await Zd.getValue();return(d==null?void 0:d.key)??null}async function r(){const d=await s();return d?await t.getGroupConfig({deviceGroupKey:d}):null}async function i(){const d=await r();return d?d.generic_usage_limits.reduce((p,g)=>{const f=K0(g);return f&&p.push(f),p},[]):[]}async function o(d=null){let p=await vn.getValue();if(d||(d=await r()),d){p=Object.fromEntries(Object.entries(p).filter(([,m])=>!m.isSynced));const f=d.generic_usage_limits;for(let m=0;m<f.length;m++){const y=f[m],w=K0(y);if(w){const v=await Z0(w);p[v.id]=v}}}else Object.values(p).forEach(f=>{if(f.isSynced)return delete p[f.id]});await vn.setValue(p)}async function a(){const d=await r(),p=(d==null?void 0:d.ignored_websites)||[],g=(d==null?void 0:d.ignored_apps)||[],f=(d==null?void 0:d.ignored_desktop_apps)||[];await t0.setValue(p),await n0.setValue(f),await s0.setValue(g),await o(d)}async function c(d){const p=await e.setSyncFlagUsageLimit(d);await l(p)}async function l(d){await n(async()=>{await e.upsertLimit(d)},async p=>{d.isSynced&&await t.addGenericUsageLimit({key:p,genericLimits:[$L(d)]})})}async function u(d){await n(async()=>{await e.removeUsageLimit(d)},async p=>{await t.removeGenericUsageLimit({key:p,limitIds:[d]})})}async function h(d){await t.removeDeviceFromDeviceGroup(d),await a()}return{update:a,removeDevice:h,addGenericUsageLimit:l,removeGenericUsageLimit:u,getGenericUsageLimits:i,updateGenericUsageLimits:o,syncNewGenericUsageLimit:c}}function Tl(t){const{state:e,...n}=Yb(t.getValue,t.fallback);let s;return ha(()=>{s=t.watch(r=>{e.value=r})}),xc(()=>{s==null||s()}),{state:Re({get(){return e.value},set(r){t.setValue(r),e.value=r}}),...n}}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let X0;const hh=t=>X0=t,J0=Symbol();function Eg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var kl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(kl||(kl={}));function zL(){const t=Ym(!0),e=t.run(()=>Tt({}));let n=[],s=[];const r=Mf({install(i){hh(r),r._a=i,i.provide(J0,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const e_=()=>{};function t_(t,e,n,s=e_){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&mf()&&yf(r),r}function Ia(t,...e){t.slice().forEach(n=>{n(...e)})}const qL=t=>t(),n_=Symbol(),Mg=Symbol();function Dg(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Eg(r)&&Eg(s)&&t.hasOwnProperty(n)&&!ht(s)&&!Mr(s)?t[n]=Dg(r,s):t[n]=s}return t}const YL=Symbol();function GL(t){return!Eg(t)||!t.hasOwnProperty(YL)}const{assign:vi}=Object;function KL(t){return!!(ht(t)&&t.effect)}function ZL(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=r?r():{});const u=gy(n.state.value[t]);return vi(u,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=Mf(Re(()=>{hh(n);const p=n._s.get(t);return o[d].call(p,p)})),h),{}))}return c=s_(t,l,e,n,s,!0),c}function s_(t,e,n={},s,r,i){let o;const a=vi({actions:{}},n),c={deep:!0};let l,u,h=[],d=[],p;const g=s.state.value[t];!i&&!g&&(s.state.value[t]={}),Tt({});let f;function m(x){let E;l=u=!1,typeof x=="function"?(x(s.state.value[t]),E={type:kl.patchFunction,storeId:t,events:p}):(Dg(s.state.value[t],x),E={type:kl.patchObject,payload:x,storeId:t,events:p});const D=f=Symbol();no().then(()=>{f===D&&(l=!0)}),u=!0,Ia(h,E,s.state.value[t])}const y=i?function(){const{state:E}=n,D=E?E():{};this.$patch(R=>{vi(R,D)})}:e_;function w(){o.stop(),h=[],d=[],s._s.delete(t)}const v=(x,E="")=>{if(n_ in x)return x[Mg]=E,x;const D=function(){hh(s);const R=Array.from(arguments),N=[],$=[];function X(H){N.push(H)}function W(H){$.push(H)}Ia(d,{args:R,name:D[Mg],store:T,after:X,onError:W});let q;try{q=x.apply(this&&this.$id===t?this:T,R)}catch(H){throw Ia($,H),H}return q instanceof Promise?q.then(H=>(Ia(N,H),H)).catch(H=>(Ia($,H),Promise.reject(H))):(Ia(N,q),q)};return D[n_]=!0,D[Mg]=E,D},b={_p:s,$id:t,$onAction:t_.bind(null,d),$patch:m,$reset:y,$subscribe(x,E={}){const D=t_(h,x,E.detached,()=>R()),R=o.run(()=>tn(()=>s.state.value[t],N=>{(E.flush==="sync"?u:l)&&x({storeId:t,type:kl.direct,events:p},N)},vi({},c,E)));return D},$dispose:w},T=Vu(b);s._s.set(t,T);const S=(s._a&&s._a.runWithContext||qL)(()=>s._e.run(()=>(o=Ym()).run(()=>e({action:v}))));for(const x in S){const E=S[x];if(ht(E)&&!KL(E)||Mr(E))i||(g&&GL(E)&&(ht(E)?E.value=g[x]:Dg(E,g[x])),s.state.value[t][x]=E);else if(typeof E=="function"){const D=v(E,x);S[x]=D,a.actions[x]=E}}return vi(T,S),vi(Ye(T),S),Object.defineProperty(T,"$state",{get:()=>s.state.value[t],set:x=>{m(E=>{vi(E,x)})}}),s._p.forEach(x=>{vi(T,o.run(()=>x({store:T,app:s._a,pinia:s,options:a})))}),g&&i&&n.hydrate&&n.hydrate(T.$state,g),l=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function QL(t,e,n){let s,r;const i=typeof e=="function";s=t,r=i?n:e;function o(a,c){const l=Vy();return a=a||(l?io(J0,null):null),a&&hh(a),a=X0,a._s.has(s)||(i?s_(s,e,r,a):ZL(s,r,a)),a._s.get(s)}return o.$id=s,o}function Cg(t){{const e=Ye(t),n={};for(const s in e){const r=e[s];r.effect?n[s]=Re({get:()=>t[s],set(i){t[s]=i}}):(ht(r)||Mr(r))&&(n[s]=my(t,s))}return n}}const Og=QL("device-group",()=>{const t=Q0(),{state:e}=Tl(Zd);async function n(i){e.value=i,await Zd.setValue(Ye(i))}async function s(){e.value=null}tn(e,i=>{i||t.update()});async function r(i){await t.removeDevice(i)}return{deviceGroup:e,kickedFromGroup:s,removeDevice:r,setDeviceGroup:n}});function XL(){const{data:t}=jL(),{deviceGroup:e}=Cg(Og());return{groups:Re(()=>{if(e.value&&Q0().updateGenericUsageLimits(),t.value)return rI(t.value)})}}function Pg(t,e){return Math.round(e/t*100)}var $n=(t=>(t[t.Duration=0]="Duration",t[t.Ads=1]="Ads",t[t.Sessions=2]="Sessions",t))($n||{}),fh=(t=>(t[t.All=0]="All",t[t.Blocked=1]="Blocked",t[t.Allowed=2]="Allowed",t))(fh||{}),Ra=(t=>(t.AppType="app-type",t.Device="device",t))(Ra||{});function JL(t,e,n,s,r,i){const o=pg(),a=XL(),{data:c,error:l,isFetching:u}=dh({queryKey:[_l.UsageSummary,t,s,r],queryFn:async()=>{var b;return o.usage.getUsageSummary(t.value.startDate,t.value.endDate,(b=s==null?void 0:s.value)==null?void 0:b.key,r==null?void 0:r.value)},placeholderData:()=>[]}),h=Re(()=>c.value??[]),d=Re(()=>{const b=h.value??[];switch(e.value){case 0:return b;case 2:return b.filter(T=>T.allowed);case 1:return b.filter(T=>T.blocked)}}),p=zb(async()=>await o.usage.getMetaDataForApps(d.value)),g=Re(()=>{var b;return((b=p.value)==null?void 0:b.reduce((T,_)=>T+_.totalDuration,0))??0}),f=Re(()=>{var b;return((b=p.value)==null?void 0:b.reduce((T,_)=>T+_.adCount,0))??0}),m=Re(()=>{var b;return((b=p.value)==null?void 0:b.reduce((T,_)=>T+_.sessionCount,0))??0}),y=Re(()=>{const b=p.value?p.value.slice():[];switch(n.value){case 0:return b.filter(T=>T.totalDuration>He.Second).sort((T,_)=>_.totalDuration-T.totalDuration);case 1:return b.filter(T=>T.adCount!=0).sort((T,_)=>_.adCount-T.adCount)??[];case 2:return b.sort((T,_)=>_.sessionCount-T.sessionCount)}}),w=Re(()=>y.value.map(b=>{var _;const T=eN(n.value,b,g.value,f.value,m.value);return{...b,...T,group:(_=a.groups.value)==null?void 0:_.find(S=>{var x;return(x=S.websiteUrls)==null?void 0:x.includes(b.appId)})}}));return{summary:Re(()=>w.value),totalSessionCount:m,totalAdCount:f,totalDuration:g,error:l,isFetching:u}}function eN(t,e,n,s,r){switch(t){case 0:{const i=n==0?1:n;return{primaryMetricValue:e.totalDuration,primaryMetricIntegerPercent:Pg(i,e.totalDuration),primaryMetric:lg(e.totalDuration),secondaryMetric:ag(e.sessionCount),tertiaryMetric:cg(e.adCount),primaryMetricPerPlatforms:e.valuePerPlatforms}}case 1:{const i=s==0?1:s;return{primaryMetricValue:e.adCount,primaryMetricIntegerPercent:Pg(i,e.adCount),primaryMetric:cg(e.adCount),secondaryMetric:lg(e.totalDuration),tertiaryMetric:ag(e.sessionCount),primaryMetricPerPlatforms:e.valuePerPlatforms}}case 2:{const i=r==0?1:r;return{primaryMetricValue:e.sessionCount,primaryMetricIntegerPercent:Pg(i,e.sessionCount),primaryMetric:ag(e.sessionCount),secondaryMetric:lg(e.totalDuration),tertiaryMetric:cg(e.adCount),primaryMetricPerPlatforms:e.valuePerPlatforms}}}}function tN(t,e,n){var r;const s=nN(((r=t==null?void 0:t.find(i=>i.install_id===e.createdBy))==null?void 0:r.name)??"web");return(s==="android"||s==="ios")&&n==="web"?"mobile-web":n}function nN(t){const e=t.toLowerCase();return e.includes("android")||e.includes("wear")||e.includes("google sdk")?"android":e.includes("ios")?"ios":e.includes("windows")?"windows":e.includes("mac")?"mac":e.includes("linux")?"linux":(e.includes("web")||e.includes("chrome")||e.includes("firefox")||e.includes("safari"),"web")}class Ig{static register(e){this.caches.add(e)}static clearAll(){this.caches.forEach(e=>e.clear())}static cleanupAll(){this.caches.forEach(e=>e.cleanupExpired())}}te(Ig,"caches",new Set);const sN=He.Minute*5;class rN{constructor(e=sN){te(this,"cache",new Map);this.cacheTime=e,Ig.register(this)}get(e){const n=this.cache.get(e);return n?Date.now()-n.timestamp<this.cacheTime?n.data:(this.cache.delete(e),null):null}set(e,n){this.cache.set(e,{data:n,timestamp:Date.now()})}clear(){this.cache.clear()}cleanupExpired(){const e=Date.now();for(const[n,{timestamp:s}]of this.cache.entries())e-s>=this.cacheTime&&this.cache.delete(n)}}const r_={emit(t,...e){for(let n=this.events[t]||[],s=0,r=n.length;s<r;s++)n[s](...e)},events:{},on(t,e){var n;return((n=this.events)[t]||(n[t]=[])).push(e),()=>{var s;this.events[t]=(s=this.events[t])==null?void 0:s.filter(r=>e!==r)}}};function iN(t){const e=ig();async function n(l,u){return(await t.sessionsRepo.findSessions(l,u)??[]).map(p=>{const g=Zp(p.startedAt)*He.Second,f=p.endedAt!=null?g+Zp(p.endedAt-p.startedAt)*He.Second:null;return{...p,startedAt:g,endedAt:f}}).map(p=>c(p))}const s=new rN;r_.on("cleanCache",()=>{Ig.clearAll()});async function r(l,u,h){if(!h)return[];const d=`${h}_${l}_${u}`,p=s.get(d);if(p)return p;const g=await jc(),f=kP(l,u,90),y=(await Promise.all(f.map(w=>e.listDeviceGroupSessions({deviceGroupKey:h,startTime:w.startDate,endTime:w.endDate,installId:g})))).flat().filter(w=>!!w).map(w=>({id:w.appId+w.startedAt,appId:w.appId,createdBy:w.installId,startedAt:w.startedAt,endedAt:w.endedAt,imported:!0,platform:w.platform}));return s.set(d,y),y}async function i(l,u,h){const d=await n(l,u),p=await r(l,u,h);return[...d,...p]}async function o(l,u,h){return await r(l,u,h)}async function a(l){if(l.length==0)return{};const u=e.getAndroidAppInfo({appIds:[...l]}),h={};for(const d of await u)h[d.app_id]={displayName:d.display_name,iconUrl:d.icon_url};return h}function c(l){return{...l,platform:"web"}}return{filterSessions:i,filterRemoteSessions:o,findAppMetadata:a}}function oN(t,e){const n=s=>s[e];return t.reduce((s,r)=>{var o;const i=n(r);return s[i]=((o=s[i])==null?void 0:o.concat(r))??[r],s},{})}const[rW,i_]=Wd("usage-service",aN,{logger:zT});function aN(t){const e=uO(),n=iN(e),s=e.adsRepo,r=e.pageViewsRepo;r_.on("dailyReset",async()=>{const m=await r.getActivePageViews();if(m.length==1){const y=m[0];await r.endPageView(m[0],Date.now()),y.startedAt=Date.now(),await r.startPageView(y)}});const i=async()=>Zd.getValue(),o=async()=>{const m=await zw.getValue();return new Kn(m.hours,He.Hour).plus(new Kn(m.minutes,He.Minute))},a=async(m,y)=>{const w=await o(),[v,b]=Nw(m,y,w.ms);return{start:v,end:b}},c=m=>Math.round(m/He.Second)*He.Second,l=async(m,y)=>{const{blocklist:w,brands:v}=await ml(),b=await xo(),T=await yl.getValue();let _;return m==fh.Blocked&&(_="blocked"),m==fh.Allowed&&(_="allowed"),_&&(y=y.filter(S=>Jp(S.appId,{type:As.Group,blocklist:w,brandIds:v},T,w,b)==_)),y},u=(m,y)=>m?y.filter(w=>w.appId.includes(m)):y,h=async m=>{const y=new og(await s0.getValue()),w=new og(await n0.getValue()),v=new og(await t0.getValue());return m.filter(({appId:b})=>!(y.has(b)||w.has(b)||v.has(b)))},d=async(m,y,w,v)=>{const b=await zw.getValue(),T=b.hours*He.Hour+b.minutes*He.Minute,_={...m,resetTime:T};let S=await n.filterSessions(m.startDate,m.endDate,m.deviceGroupKey);m.deviceInstallId&&(S=S.filter(E=>E.createdBy==m.deviceInstallId)),S=await l(m.websiteType,S),S=u(m.searchText,S),S=await h(S);const x=await p(S,m);if(m.primaryMetric===$n.Ads){const E=await s.findAds(m.startDate,m.endDate),D=g(x,E);return y(D,_)}return m.primaryMetric===$n.Sessions?w(x,_):v(x,_)},p=async(m,y)=>{switch(y.groupBy){case Ra.AppType:{const w={desktop:[],web:[],android:[],"mobile-web":[]};return m.forEach(v=>{var _;const b=oh(v.platform),T=tN(y.devices??[],v,b);(_=w[T])==null||_.push(v)}),Object.entries(w).map(([v,b])=>({name:JR(v),platform:v,values:b}))}case Ra.Device:{const w=await jc();return Object.entries(oN(m,"createdBy")).map(([v,b])=>{var T,_;return{name:w==v?Je("thisDevice"):((_=(T=y.devices)==null?void 0:T.find(S=>S.install_id===v))==null?void 0:_.name)??v,values:b}})}}return[{values:m}]},g=(m,y)=>m.map(w=>{const v=w.values.map(b=>b.id);return{name:w.name,platform:w.platform,values:y.filter(b=>v.includes(b.sessionId))}}),f=async m=>{const y=await xo();return await Array.from(new Set(m.map(b=>({appId:b.appId,platform:b.platform})))).reduce(async(b,T)=>{var x;const _=await b,S=(x=ZR(y,T.appId,oh(T.platform)))==null?void 0:x.name;return _[T.appId]=S??T.appId,_},Promise.resolve({}))};return{getTodaysUsage:async()=>{const m=await o(),y=new Us().startOfDay.plus(m),w=y.ms>Date.now()?new Us(wP()).plus(m):y,v=w.add(Kn.DAY),b=await r.findPageViewsByStartedAt(w.ms,v.ms),T=await i();if(T){const S=(await n.filterRemoteSessions(w.ms,v.ms,T==null?void 0:T.key)).map(x=>({id:x.id,path:"",startedAt:x.startedAt,endedAt:x.endedAt,appId:x.appId,createdBy:x.createdBy}));return{local:b,remote:S}}return{local:b,remote:[]}},getUsageHighlights:async(m,y)=>{const{start:w,end:v}=await a(m,y),b=await n.filterSessions(w,v)??[],T=await s.findAds(w,v),{blocklist:_,brands:S}=await ml(),x=await xo(),E=b.reduce((q,H)=>{const L=new Date(H.startedAt).getHours();return L in q||(q[L]=0),q[L]+=H.endedAt?H.endedAt-H.startedAt:0,q},{}),D=Object.keys(E).reduce((q,H)=>E[q]>E[H]?q:Number(H),0),R=b.reduce((q,H)=>{const L=H.appId;return L in q||(q[L]={count:0,totalDuration:0,blocked:Kd(L,_,S,x)=="blocked"}),q[L].count+=1,q[L].totalDuration+=H.endedAt?H.endedAt-H.startedAt:0,q},{}),N=b.reduce((q,H)=>q+(H.endedAt?c(H.endedAt-H.startedAt):0),0),$=Object.values(R).filter(q=>q.blocked),X=$.length,W=$.reduce((q,H)=>q+H.count,0);return{sessionCount:b.length,totalDuration:N,blockedAppCount:X,blockedSessionCount:W,appCount:Object.keys(R).length,favoriteHour:D,adCount:T.length}},getUsageSummary:async(m,y,w,v)=>{const{start:b,end:T}=await a(m,y);let _=await n.filterSessions(b,T,w);_=await h(_);const S=await s.findAds(b,T);v&&v!="all"&&(_=_.filter(X=>X.createdBy==v));const{blocklist:x,brands:E}=await ml(),D=await xo(),R=await yl.getValue(),N=await f(_),$=_.reduce((X,W)=>{const q=Be=>Be.endedAt?c(Be.endedAt-Be.startedAt):0,H=Be=>S.filter(st=>st.sessionId==Be.id).length,L=oh(W.platform),se=W.appId,ye=N[se];X[ye]||(X[ye]={appId:se,brandName:N[se],sessionCount:0,totalDuration:0,blocked:Kd(se,x,E,D)=="blocked",allowed:R.some(Be=>Ca(se,Be)),adCount:0,valuePerPlatforms:[],platform:oh(W.platform)});const Le=X[ye].valuePerPlatforms.find(Be=>Be.platform==L);return Le?(Le.duration+=q(W),Le.sessionsCount+=1,Le.adsCount+=H(W)):X[ye].valuePerPlatforms.push({platform:L,duration:q(W),sessionsCount:1,adsCount:H(W)}),X[ye].sessionCount+=1,X[ye].adCount+=H(W),X[ye].totalDuration+=q(W),X},{});return Object.values($)},getMetaDataForApps:async m=>{const y=m.reduce((v,b)=>(b.platform==ih.Android&&v.add(b.appId),v),new Set),w=await n.findAppMetadata(Array.from(y));return m.map(v=>({...v,...w[v.appId]}))},getChartData:async m=>{const{start:y,end:w}=await a(m.startDate,m.endDate);return m.startDate=y,m.endDate=w,m.isDailyChart?d(m,oL,rL,nL):d(m,iL,sL,tL)},uploadAll:async()=>{await t.uploadAll()}}}function cN(){return{timers:tI(),usage:i_()}}const o_="@wxt-dev/analytics";function lN(t){var e;if(typeof chrome>"u"||!((e=chrome==null?void 0:chrome.runtime)!=null&&e.id))throw Error("Cannot use WXT analytics in contexts without access to the browser.runtime APIs");return t==null&&console.warn("[@wxt-dev/analytics] Config not provided to createAnalytics. If you're using WXT, add the 'analytics' property to '<srcDir>/app.config.ts'."),location.pathname==="/background.js"?uN(t):dN()}function uN(t){var p;const e=(t==null?void 0:t.userId)??Rg("wxt-analytics:user-id"),n=(t==null?void 0:t.userProperties)??Rg("wxt-analytics:user-properties",{}),s=(t==null?void 0:t.enabled)??Rg("local:wxt-analytics:enabled",!1),r=chrome.runtime.getPlatformInfo(),i=w0.UAParser();let o=Promise.resolve(e.getValue()).then(g=>g??globalThis.crypto.randomUUID()),a=n.getValue();const c=chrome.runtime.getManifest(),l=()=>({timestamp:Date.now(),sessionId:void 0,language:navigator.language,referrer:void 0,screen:void 0,url:location.href,title:void 0}),u=async g=>{const f=await r;return{meta:g,user:{id:await o,properties:{version:(t==null?void 0:t.version)??c.version_name??c.version,wxtMode:"production",wxtBrowser:"chrome",arch:f.arch,os:f.os,browser:i.browser.name,browserVersion:i.browser.version,...await a}}}},h={identify:async(g,f={},m=l())=>{var w,v;o=Promise.resolve(g),a=Promise.resolve(f),await Promise.all([(w=e.setValue)==null?void 0:w.call(e,g),(v=n.setValue)==null?void 0:v.call(n,f)]);const y=await u(m);t!=null&&t.debug&&console.debug("[@wxt-dev/analytics] identify",y),await s.getValue()?await Promise.allSettled(d.map(b=>b.identify(y))):t!=null&&t.debug&&console.debug("[@wxt-dev/analytics] Analytics disabled, identify() not uploaded")},page:async(g,f=l())=>{var w,v;const y={...await u(f),page:{url:(f==null?void 0:f.url)??((w=globalThis.location)==null?void 0:w.href),location:g,title:(f==null?void 0:f.title)??((v=globalThis.document)==null?void 0:v.title)}};t!=null&&t.debug&&console.debug("[@wxt-dev/analytics] page",y),await s.getValue()?await Promise.allSettled(d.map(b=>b.page(y))):t!=null&&t.debug&&console.debug("[@wxt-dev/analytics] Analytics disabled, page() not uploaded")},track:async(g,f,m=l())=>{const w={...await u(m),event:{name:g,properties:f}};t!=null&&t.debug&&console.debug("[@wxt-dev/analytics] track",w),await s.getValue()?await Promise.allSettled(d.map(v=>v.track(w))):t!=null&&t.debug&&console.debug("[@wxt-dev/analytics] Analytics disabled, track() not uploaded")},setEnabled:async g=>{var f;await((f=s.setValue)==null?void 0:f.call(s,g))},autoTrack:()=>()=>{}},d=((p=t==null?void 0:t.providers)==null?void 0:p.map(g=>g(h,t)))??[];return chrome.runtime.onConnect.addListener(g=>{g.name===o_&&g.onMessage.addListener(({fn:f,args:m})=>{var y;(y=h[f])==null||y.call(h,...m)})}),h}function dN(){const t=chrome.runtime.connect({name:o_}),e=Date.now(),n=()=>{var i;return{sessionId:e,timestamp:Date.now(),language:navigator.language,referrer:((i=globalThis.document)==null?void 0:i.referrer)||void 0,screen:globalThis.window?`${globalThis.window.screen.width}x${globalThis.window.screen.height}`:void 0,url:location.href,title:document.title||void 0}},s=i=>(...o)=>{t.postMessage({fn:i,args:[...o,n()]})},r={identify:s("identify"),page:s("page"),track:s("track"),setEnabled:s("setEnabled"),autoTrack:i=>{const o=a=>{var l,u;const c=a.target;!c||!hN.has(c.tagName)&&!fN.has(c.getAttribute("role"))||r.track("click",{tagName:(l=c.tagName)==null?void 0:l.toLowerCase(),id:c.id||void 0,className:c.className||void 0,textContent:((u=c.textContent)==null?void 0:u.substring(0,50))||void 0,href:c.href})};return i.addEventListener("click",o,{capture:!0,passive:!0}),()=>{i.removeEventListener("click",o)}}};return r}function Rg(t,e){return{getValue:async()=>(await chrome.storage.local.get(t))[t]??e,setValue:n=>chrome.storage.local.set({[t]:n})}}const hN=new Set(["A","BUTTON","INPUT","SELECT","TEXTAREA"]),fN=new Set(["button","link","checkbox","menuitem","tab","radio"]);function pN(t){return e=>(n,s)=>t(n,s,e)}function ph(t,...e){}const gN={debug:(...t)=>ph(console.debug,...t),log:(...t)=>ph(console.log,...t),warn:(...t)=>ph(console.warn,...t),error:(...t)=>ph(console.error,...t)},Xh=class Xh extends Event{constructor(e,n){super(Xh.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=n}};te(Xh,"EVENT_NAME",Ng("wxt:locationchange"));let Lg=Xh;function Ng(t){var e;return`${(e=Qi==null?void 0:Qi.runtime)==null?void 0:e.id}:blocked-statistics:${t}`}function mN(t){let e,n;return{run(){e==null&&(n=new URL(location.href),e=t.setInterval(()=>{let s=new URL(location.href);s.href!==n.href&&(window.dispatchEvent(new Lg(s,n)),n=s)},1e3))}}}const ou=class ou{constructor(e,n){te(this,"isTopFrame",window.self===window.top);te(this,"abortController");te(this,"locationWatcher",mN(this));te(this,"receivedMessageIds",new Set);this.contentScriptName=e,this.options=n,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return Qi.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,n){const s=setInterval(()=>{this.isValid&&e()},n);return this.onInvalidated(()=>clearInterval(s)),s}setTimeout(e,n){const s=setTimeout(()=>{this.isValid&&e()},n);return this.onInvalidated(()=>clearTimeout(s)),s}requestAnimationFrame(e){const n=requestAnimationFrame((...s)=>{this.isValid&&e(...s)});return this.onInvalidated(()=>cancelAnimationFrame(n)),n}requestIdleCallback(e,n){const s=requestIdleCallback((...r)=>{this.signal.aborted||e(...r)},n);return this.onInvalidated(()=>cancelIdleCallback(s)),s}addEventListener(e,n,s,r){var i;n==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(i=e.addEventListener)==null||i.call(e,n.startsWith("wxt:")?Ng(n):n,s,{...r,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),gN.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:ou.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){var i,o,a;const n=((i=e.data)==null?void 0:i.type)===ou.SCRIPT_STARTED_MESSAGE_TYPE,s=((o=e.data)==null?void 0:o.contentScriptName)===this.contentScriptName,r=!this.receivedMessageIds.has((a=e.data)==null?void 0:a.messageId);return n&&s&&r}listenForNewerScripts(e){let n=!0;const s=r=>{if(this.verifyScriptStartedEvent(r)){this.receivedMessageIds.add(r.data.messageId);const i=n;if(n=!1,i&&(e!=null&&e.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",s),this.onInvalidated(()=>removeEventListener("message",s))}};te(ou,"SCRIPT_STARTED_MESSAGE_TYPE",Ng("wxt:content-script-started"));let Fg=ou;const yN=Symbol("null");let bN=0;class vN extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[e]=arguments;if(e!=null){if(typeof e[Symbol.iterator]!="function")throw new TypeError(typeof e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[n,s]of e)this.set(n,s)}}_getPublicKeys(e,n=!1){if(!Array.isArray(e))throw new TypeError("The keys parameter must be an array");const s=this._getPrivateKey(e,n);let r;return s&&this._publicKeys.has(s)?r=this._publicKeys.get(s):n&&(r=[...e],this._publicKeys.set(s,r)),{privateKey:s,publicKey:r}}_getPrivateKey(e,n=!1){const s=[];for(let r of e){r===null&&(r=yN);const i=typeof r=="object"||typeof r=="function"?"_objectHashes":typeof r=="symbol"?"_symbolHashes":!1;if(!i)s.push(r);else if(this[i].has(r))s.push(this[i].get(r));else if(n){const o=`@@mkm-ref-${bN++}@@`;this[i].set(r,o),s.push(o)}else return!1}return JSON.stringify(s)}set(e,n){const{publicKey:s}=this._getPublicKeys(e,!0);return super.set(s,n)}get(e){const{publicKey:n}=this._getPublicKeys(e);return super.get(n)}has(e){const{publicKey:n}=this._getPublicKeys(e);return super.has(n)}delete(e){const{publicKey:n,privateKey:s}=this._getPublicKeys(e);return!!(n&&super.delete(n)&&this._publicKeys.delete(s))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new vN;var wN=/^[a-z](?:[\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-(?:[\x2D\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,_N=function(t){return wN.test(t)},xN=_N;const AN=On(xN);var SN=(t,e,n)=>new Promise((s,r)=>{var i=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?s(c.value):Promise.resolve(c.value).then(i,o);a((n=n.apply(t,e)).next())});function TN(t){return SN(this,null,function*(){const{name:e,mode:n="closed",css:s,isolateEvents:r=!1}=t;if(!AN(e))throw Error(`"${e}" is not a valid custom element name. It must be two words and kebab-case, with a few exceptions. See spec for more details: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name`);const i=document.createElement(e),o=i.attachShadow({mode:n}),a=document.createElement("html"),c=document.createElement("body"),l=document.createElement("head");if(s){const u=document.createElement("style");"url"in s?u.textContent=yield fetch(s.url).then(h=>h.text()):u.textContent=s.textContent,l.appendChild(u)}return a.appendChild(l),a.appendChild(c),o.appendChild(a),r&&(Array.isArray(r)?r:["keydown","keyup","keypress"]).forEach(h=>{c.addEventListener(h,d=>d.stopPropagation())}),{parentElement:i,shadow:o,isolatedElement:c}})}const kN=100,EN=pN((t,e,n)=>{const s=async(r,i,o)=>{const a=new URL(e!=null&&e.debug?"/debug/mp/collect":"/mp/collect","https://www.google-analytics.com");n.apiSecret&&a.searchParams.set("api_secret",n.apiSecret),n.measurementId&&a.searchParams.set("measurement_id",n.measurementId);const c={language:r.meta.language,screen:r.meta.screen,...r.user.properties},l=Object.fromEntries(Object.entries(c).map(([u,h])=>[u,h==null?void 0:{value:h}]));await fetch(a.href,{method:"POST",body:JSON.stringify({client_id:r.user.id,consent:{ad_user_data:"DENIED",ad_personalization:"DENIED"},user_properties:l,events:[{name:i,params:{session_id:r.meta.sessionId,engagement_time_msec:kN,...o}}]})})};return{identify:()=>Promise.resolve(),page:r=>s(r,"page_view",{page_title:r.page.title,page_location:r.page.location}),track:r=>s(r,r.event.name,r.event.properties)}}),MN={analytics:{providers:[EN({measurementId:"G-RD9W7TJ9TZ",apiSecret:"XaR9YDEpQc6GG_m2eeA5Jw"})],userId:{getValue:jc,setValue:()=>{}},enabled:{getValue:async()=>{const{canUploadData:t}=f0();return await t()},setValue:()=>{}}}};function DN(){return MN}const gh=lN(DN().analytics);function CN(){const t="#40DA99",e="#4FE6E8",n="#5080E7",s="#854FE8",r=new Map([["desktop",s],["web",t],["android",n],["mobile-web",e]]);return{getPlatformColor:function(o){return r.get(o)}}}var ON={grad:.9,turn:360,rad:360/(2*Math.PI)},$r=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},dn=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Ts=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},a_=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},c_=function(t){return{r:Ts(t.r,0,255),g:Ts(t.g,0,255),b:Ts(t.b,0,255),a:Ts(t.a)}},Bg=function(t){return{r:dn(t.r),g:dn(t.g),b:dn(t.b),a:dn(t.a,3)}},PN=/^#([0-9a-f]{3,8})$/i,mh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},l_=function(t){var e=t.r,n=t.g,s=t.b,r=t.a,i=Math.max(e,n,s),o=i-Math.min(e,n,s),a=o?i===e?(n-s)/o:i===n?2+(s-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:i?o/i*100:0,v:i/255*100,a:r}},u_=function(t){var e=t.h,n=t.s,s=t.v,r=t.a;e=e/360*6,n/=100,s/=100;var i=Math.floor(e),o=s*(1-n),a=s*(1-(e-i)*n),c=s*(1-(1-e+i)*n),l=i%6;return{r:255*[s,a,o,o,c,s][l],g:255*[c,s,s,a,o,o][l],b:255*[o,o,c,s,s,a][l],a:r}},d_=function(t){return{h:a_(t.h),s:Ts(t.s,0,100),l:Ts(t.l,0,100),a:Ts(t.a)}},h_=function(t){return{h:dn(t.h),s:dn(t.s),l:dn(t.l),a:dn(t.a,3)}},f_=function(t){return u_((n=(e=t).s,{h:e.h,s:(n*=((s=e.l)<50?s:100-s)/100)>0?2*n/(s+n)*100:0,v:s+n,a:e.a}));var e,n,s},El=function(t){return{h:(e=l_(t)).h,s:(r=(200-(n=e.s))*(s=e.v)/100)>0&&r<200?n*s/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,n,s,r},IN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,RN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,LN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,NN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p_={string:[[function(t){var e=PN.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?dn(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?dn(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=LN.exec(t)||NN.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:c_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=IN.exec(t)||RN.exec(t);if(!e)return null;var n,s,r=d_({h:(n=e[1],s=e[2],s===void 0&&(s="deg"),Number(n)*(ON[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return f_(r)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,s=t.b,r=t.a,i=r===void 0?1:r;return $r(e)&&$r(n)&&$r(s)?c_({r:Number(e),g:Number(n),b:Number(s),a:Number(i)}):null},"rgb"],[function(t){var e=t.h,n=t.s,s=t.l,r=t.a,i=r===void 0?1:r;if(!$r(e)||!$r(n)||!$r(s))return null;var o=d_({h:Number(e),s:Number(n),l:Number(s),a:Number(i)});return f_(o)},"hsl"],[function(t){var e=t.h,n=t.s,s=t.v,r=t.a,i=r===void 0?1:r;if(!$r(e)||!$r(n)||!$r(s))return null;var o=function(a){return{h:a_(a.h),s:Ts(a.s,0,100),v:Ts(a.v,0,100),a:Ts(a.a)}}({h:Number(e),s:Number(n),v:Number(s),a:Number(i)});return u_(o)},"hsv"]]},g_=function(t,e){for(var n=0;n<e.length;n++){var s=e[n][0](t);if(s)return[s,e[n][1]]}return[null,void 0]},FN=function(t){return typeof t=="string"?g_(t.trim(),p_.string):typeof t=="object"&&t!==null?g_(t,p_.object):[null,void 0]},jg=function(t,e){var n=El(t);return{h:n.h,s:Ts(n.s+100*e,0,100),l:n.l,a:n.a}},$g=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},m_=function(t,e){var n=El(t);return{h:n.h,s:n.s,l:Ts(n.l+100*e,0,100),a:n.a}},Hg=function(){function t(e){this.parsed=FN(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return dn($g(this.rgba),2)},t.prototype.isDark=function(){return $g(this.rgba)<.5},t.prototype.isLight=function(){return $g(this.rgba)>=.5},t.prototype.toHex=function(){return e=Bg(this.rgba),n=e.r,s=e.g,r=e.b,o=(i=e.a)<1?mh(dn(255*i)):"","#"+mh(n)+mh(s)+mh(r)+o;var e,n,s,r,i,o},t.prototype.toRgb=function(){return Bg(this.rgba)},t.prototype.toRgbString=function(){return e=Bg(this.rgba),n=e.r,s=e.g,r=e.b,(i=e.a)<1?"rgba("+n+", "+s+", "+r+", "+i+")":"rgb("+n+", "+s+", "+r+")";var e,n,s,r,i},t.prototype.toHsl=function(){return h_(El(this.rgba))},t.prototype.toHslString=function(){return e=h_(El(this.rgba)),n=e.h,s=e.s,r=e.l,(i=e.a)<1?"hsla("+n+", "+s+"%, "+r+"%, "+i+")":"hsl("+n+", "+s+"%, "+r+"%)";var e,n,s,r,i},t.prototype.toHsv=function(){return e=l_(this.rgba),{h:dn(e.h),s:dn(e.s),v:dn(e.v),a:dn(e.a,3)};var e},t.prototype.invert=function(){return Hr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Hr(jg(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Hr(jg(this.rgba,-e))},t.prototype.grayscale=function(){return Hr(jg(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Hr(m_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Hr(m_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Hr({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):dn(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=El(this.rgba);return typeof e=="number"?Hr({h:e,s:n.s,l:n.l,a:n.a}):dn(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Hr(e).toHex()},t}(),Hr=function(t){return t instanceof Hg?t:new Hg(t)};function BN(t){return e=>{if(e<t.length)return t[e];const n=t.length,s=e+.5,r=-Math.pow(1.3,-Math.floor((s+n)/(2*n)))+1,o=Math.floor(e/n)%2===1,a=new Hg(t[e%n]);let c;return o?c=a.darken(r).toHex():c=a.lighten(r).toHex(),c}}function Ml(t){return Math.floor(255*t/100).toString(16).padStart(2,"0")}const yh="#000000";function y_(){const{state:t}=Tl(cI),{getPlatformColor:e}=CN(),n=Re(()=>t.value=="light"),s=Re(()=>yh+Ml(90)),r=Re(()=>n.value?yh:"#FFF"),i=Re(()=>n.value?yh+Ml(12):"#434343"),o=Re(()=>yh+Ml(70)),a=Tt(["#ED3B3B","#F48E2F","#FAD61D","#40DA99","#4FE6E8","#5080E7","#854FE8"]),c=Re(()=>BN(a.value));return{titleColor:s,textColor:r,gridColor:i,axisColor:o,getSeriesColor(l){const u=c.value(l);return{borderColor:u,fillColor:u+Ml(25)}},getSeriesColorByPlatform(l){const u=e(l);return{borderColor:u,fillColor:u+Ml(25)}}}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Dl(t){return t+.5|0}const wi=(t,e,n)=>Math.max(Math.min(t,n),e);function Cl(t){return wi(Dl(t*2.55),0,255)}function _i(t){return wi(Dl(t*255),0,255)}function Wr(t){return wi(Dl(t/2.55)/100,0,1)}function b_(t){return wi(Dl(t*100),0,100)}const ks={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Wg=[..."0123456789ABCDEF"],jN=t=>Wg[t&15],$N=t=>Wg[(t&240)>>4]+Wg[t&15],bh=t=>(t&240)>>4===(t&15),HN=t=>bh(t.r)&&bh(t.g)&&bh(t.b)&&bh(t.a);function WN(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ks[t[1]]*17,g:255&ks[t[2]]*17,b:255&ks[t[3]]*17,a:e===5?ks[t[4]]*17:255}:(e===7||e===9)&&(n={r:ks[t[1]]<<4|ks[t[2]],g:ks[t[3]]<<4|ks[t[4]],b:ks[t[5]]<<4|ks[t[6]],a:e===9?ks[t[7]]<<4|ks[t[8]]:255})),n}const VN=(t,e)=>t<255?e(t):"";function UN(t){var e=HN(t)?jN:$N;return t?"#"+e(t.r)+e(t.g)+e(t.b)+VN(t.a,e):void 0}const zN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v_(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function qN(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function YN(t,e,n){const s=v_(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function GN(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function Vg(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2;let c,l,u;return i!==o&&(u=i-o,l=a>.5?u/(2-i-o):u/(i+o),c=GN(n,s,r,u,i),c=c*60+.5),[c|0,l||0,a]}function Ug(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(_i)}function zg(t,e,n){return Ug(v_,t,e,n)}function KN(t,e,n){return Ug(YN,t,e,n)}function ZN(t,e,n){return Ug(qN,t,e,n)}function w_(t){return(t%360+360)%360}function QN(t){const e=zN.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Cl(+e[5]):_i(+e[5]));const r=w_(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=KN(r,i,o):e[1]==="hsv"?s=ZN(r,i,o):s=zg(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function XN(t,e){var n=Vg(t);n[0]=w_(n[0]+e),n=zg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function JN(t){if(!t)return;const e=Vg(t),n=e[0],s=b_(e[1]),r=b_(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${Wr(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const __={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},x_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function e2(){const t={},e=Object.keys(x_),n=Object.keys(__);let s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,__[i]);i=parseInt(x_[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let vh;function t2(t){vh||(vh=e2(),vh.transparent=[0,0,0,0]);const e=vh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const n2=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function s2(t){const e=n2.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?Cl(o):wi(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?Cl(s):wi(s,0,255)),r=255&(e[4]?Cl(r):wi(r,0,255)),i=255&(e[6]?Cl(i):wi(i,0,255)),{r:s,g:r,b:i,a:n}}}function r2(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Wr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const qg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,La=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function i2(t,e,n){const s=La(Wr(t.r)),r=La(Wr(t.g)),i=La(Wr(t.b));return{r:_i(qg(s+n*(La(Wr(e.r))-s))),g:_i(qg(r+n*(La(Wr(e.g))-r))),b:_i(qg(i+n*(La(Wr(e.b))-i))),a:t.a+n*(e.a-t.a)}}function wh(t,e,n){if(t){let s=Vg(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=zg(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function A_(t,e){return t&&Object.assign(e||{},t)}function S_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_i(t[3]))):(e=A_(t,{r:0,g:0,b:0,a:1}),e.a=_i(e.a)),e}function o2(t){return t.charAt(0)==="r"?s2(t):QN(t)}class Ol{constructor(e){if(e instanceof Ol)return e;const n=typeof e;let s;n==="object"?s=S_(e):n==="string"&&(s=WN(e)||t2(e)||o2(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=A_(this._rgb);return e&&(e.a=Wr(e.a)),e}set rgb(e){this._rgb=S_(e)}rgbString(){return this._valid?r2(this._rgb):void 0}hexString(){return this._valid?UN(this._rgb):void 0}hslString(){return this._valid?JN(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,c=s.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;i=1-l,s.r=255&l*s.r+i*r.r+.5,s.g=255&l*s.g+i*r.g+.5,s.b=255&l*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=i2(this._rgb,e._rgb,n)),this}clone(){return new Ol(this.rgb)}alpha(e){return this._rgb.a=_i(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Dl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wh(this._rgb,2,e),this}darken(e){return wh(this._rgb,2,-e),this}saturate(e){return wh(this._rgb,1,e),this}desaturate(e){return wh(this._rgb,1,-e),this}rotate(e){return XN(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Vr(){}const a2=(()=>{let t=0;return()=>t++})();function Rt(t){return t==null}function sn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function tt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function kn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ur(t,e){return kn(t)?t:e}function Xe(t,e){return typeof t>"u"?e:t}const c2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,T_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ft(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function vt(t,e,n,s){let r,i,o;if(sn(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(tt(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function _h(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function xh(t){if(sn(t))return t.map(xh);if(tt(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=xh(t[n[r]]);return e}return t}function k_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function l2(t,e,n,s){if(!k_(t))return;const r=e[t],i=n[t];tt(r)&&tt(i)?Pl(r,i,s):e[t]=xh(i)}function Pl(t,e,n){const s=sn(e)?e:[e],r=s.length;if(!tt(t))return t;n=n||{};const i=n.merger||l2;let o;for(let a=0;a<r;++a){if(o=s[a],!tt(o))continue;const c=Object.keys(o);for(let l=0,u=c.length;l<u;++l)i(c[l],t,o,n)}return t}function Il(t,e){return Pl(t,e,{merger:u2})}function u2(t,e,n){if(!k_(t))return;const s=e[t],r=n[t];tt(s)&&tt(r)?Il(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xh(r))}const E_={"":t=>t,x:t=>t.x,y:t=>t.y};function d2(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function h2(t){const e=d2(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Rl(t,e){return(E_[e]||(E_[e]=h2(e)))(t)}function Yg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ah=t=>typeof t<"u",xi=t=>typeof t=="function",M_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function f2(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Gt=Math.PI,zt=2*Gt,p2=zt+Gt,Sh=Number.POSITIVE_INFINITY,g2=Gt/180,rn=Gt/2,So=Gt/4,D_=Gt*2/3,C_=Math.log10,Na=Math.sign;function Ll(t,e,n){return Math.abs(t-e)<n}function O_(t){const e=Math.round(t);t=Ll(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(C_(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function m2(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function y2(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Nl(t){return!y2(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function b2(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function v2(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Ur(t){return t*(Gt/180)}function w2(t){return t*(180/Gt)}function P_(t){if(!kn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function I_(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*Gt&&(i+=zt),{angle:i,distance:r}}function Gg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _2(t,e){return(t-e+p2)%zt-Gt}function dr(t){return(t%zt+zt)%zt}function Fl(t,e,n,s){const r=dr(t),i=dr(e),o=dr(n),a=dr(i-r),c=dr(o-r),l=dr(r-i),u=dr(r-o);return r===i||r===o||s&&i===o||a>c&&l<u}function Hn(t,e,n){return Math.max(e,Math.min(n,t))}function x2(t){return Hn(t,-32768,32767)}function To(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Kg(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const ko=(t,e,n,s)=>Kg(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),A2=(t,e,n)=>Kg(t,n,s=>t[s][e]>=n);function S2(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const R_=["push","pop","shift","splice","unshift"];function T2(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),R_.forEach(n=>{const s="_onData"+Yg(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function L_(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(R_.forEach(i=>{delete t[i]}),delete t._chartjs)}function k2(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const N_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function F_(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,N_.call(window,()=>{s=!1,t.apply(e,n)}))}}function E2(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Zg=t=>t==="start"?"left":t==="end"?"right":"center",En=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,M2=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function D2(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:c}=t,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:p,maxDefined:g}=o.getUserBounds();if(p){if(r=Math.min(ko(c,u,h).lo,n?s:ko(e,u,o.getPixelForValue(h)).lo),l){const f=c.slice(0,r+1).reverse().findIndex(m=>!Rt(m[a.axis]));r-=Math.max(0,f)}r=Hn(r,0,s-1)}if(g){let f=Math.max(ko(c,o.axis,d,!0).hi+1,n?0:ko(e,u,o.getPixelForValue(d),!0).hi+1);if(l){const m=c.slice(f-1).findIndex(y=>!Rt(y[a.axis]));f+=Math.max(0,m)}i=Hn(f,r,s)-r}else i=s-r}return{start:r,count:i}}function C2(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const Th=t=>t===0||t===1,B_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*zt/n)),j_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*zt/n)+1,Bl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*rn)+1,easeOutSine:t=>Math.sin(t*rn),easeInOutSine:t=>-.5*(Math.cos(Gt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Th(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Th(t)?t:B_(t,.075,.3),easeOutElastic:t=>Th(t)?t:j_(t,.075,.3),easeInOutElastic(t){return Th(t)?t:t<.5?.5*B_(t*2,.1125,.45):.5+.5*j_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Bl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Bl.easeInBounce(t*2)*.5:Bl.easeOutBounce(t*2-1)*.5+.5};function Qg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $_(t){return Qg(t)?t:new Ol(t)}function Xg(t){return Qg(t)?t:new Ol(t).saturate(.5).darken(.1).hexString()}const O2=["x","y","borderWidth","radius","tension"],P2=["color","borderColor","backgroundColor"];function I2(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:P2},numbers:{type:"number",properties:O2}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function R2(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const H_=new Map;function L2(t,e){e=e||{};const n=t+JSON.stringify(e);let s=H_.get(n);return s||(s=new Intl.NumberFormat(t,e),H_.set(n,s)),s}function Jg(t,e,n){return L2(e,n).format(t)}const N2={values(t){return sn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),i=F2(t,n)}const o=C_(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Jg(t,s,c)}};function F2(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var W_={formatters:N2};function B2(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:W_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Eo=Object.create(null),em=Object.create(null);function jl(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function tm(t,e,n){return typeof e=="string"?Pl(jl(t,e),n):Pl(jl(t,""),e)}class j2{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Xg(r.backgroundColor),this.hoverBorderColor=(s,r)=>Xg(r.borderColor),this.hoverColor=(s,r)=>Xg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return tm(this,e,n)}get(e){return jl(this,e)}describe(e,n){return tm(em,e,n)}override(e,n){return tm(Eo,e,n)}route(e,n,s,r){const i=jl(this,e),o=jl(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],l=o[r];return tt(c)?Object.assign({},l,c):Xe(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var Xt=new j2({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[I2,R2,B2]);function $2(t){return!t||Rt(t.size)||Rt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function V_(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Mo(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function U_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function nm(t,e,n,s){z_(t,e,n,s,null)}function z_(t,e,n,s,r){let i,o,a,c,l,u,h,d;const p=e.pointStyle,g=e.rotation,f=e.radius;let m=(g||0)*g2;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(m),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(f)||f<=0)){switch(t.beginPath(),p){default:r?t.ellipse(n,s,r/2,f,0,0,zt):t.arc(n,s,f,0,zt),t.closePath();break;case"triangle":u=r?r/2:f,t.moveTo(n+Math.sin(m)*u,s-Math.cos(m)*f),m+=D_,t.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*f),m+=D_,t.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*f),t.closePath();break;case"rectRounded":l=f*.516,c=f-l,o=Math.cos(m+So)*c,h=Math.cos(m+So)*(r?r/2-l:c),a=Math.sin(m+So)*c,d=Math.sin(m+So)*(r?r/2-l:c),t.arc(n-h,s-a,l,m-Gt,m-rn),t.arc(n+d,s-o,l,m-rn,m),t.arc(n+h,s+a,l,m,m+rn),t.arc(n-d,s+o,l,m+rn,m+Gt),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*f,u=r?r/2:c,t.rect(n-u,s-c,2*u,2*c);break}m+=So;case"rectRot":h=Math.cos(m)*(r?r/2:f),o=Math.cos(m)*f,a=Math.sin(m)*f,d=Math.sin(m)*(r?r/2:f),t.moveTo(n-h,s-a),t.lineTo(n+d,s-o),t.lineTo(n+h,s+a),t.lineTo(n-d,s+o),t.closePath();break;case"crossRot":m+=So;case"cross":h=Math.cos(m)*(r?r/2:f),o=Math.cos(m)*f,a=Math.sin(m)*f,d=Math.sin(m)*(r?r/2:f),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+d,s-o),t.lineTo(n-d,s+o);break;case"star":h=Math.cos(m)*(r?r/2:f),o=Math.cos(m)*f,a=Math.sin(m)*f,d=Math.sin(m)*(r?r/2:f),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+d,s-o),t.lineTo(n-d,s+o),m+=So,h=Math.cos(m)*(r?r/2:f),o=Math.cos(m)*f,a=Math.sin(m)*f,d=Math.sin(m)*(r?r/2:f),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+d,s-o),t.lineTo(n-d,s+o);break;case"line":o=r?r/2:Math.cos(m)*f,a=Math.sin(m)*f,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(m)*(r?r/2:f),s+Math.sin(m)*f);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function $l(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function kh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Eh(t){t.restore()}function H2(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function W2(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function V2(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Rt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function U2(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,l=n+i.actualBoundingBoxDescent,u=r.strikethrough?(c+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function z2(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Hl(t,e,n,s,r,i={}){const o=sn(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let c,l;for(t.save(),t.font=r.string,V2(t,i),c=0;c<o.length;++c)l=o[c],i.backdrop&&z2(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Rt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(l,n,s,i.maxWidth)),t.fillText(l,n,s,i.maxWidth),U2(t,n,s,l,i),s+=Number(r.lineHeight);t.restore()}function sm(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*Gt,Gt,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,Gt,rn,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,rn,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-rn,!0),t.lineTo(n+o.topLeft,s)}const q2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Y2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function G2(t,e){const n=(""+t).match(q2);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const K2=t=>+t||0;function rm(t,e){const n={},s=tt(e),r=s?Object.keys(e):e,i=tt(t)?s?o=>Xe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=K2(i(o));return n}function Z2(t){return rm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Wl(t){return rm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Es(t){const e=Z2(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Mn(t,e){t=t||{},e=e||Xt.font;let n=Xe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Xe(t.style,e.style);s&&!(""+s).match(Y2)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Xe(t.family,e.family),lineHeight:G2(Xe(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Xe(t.weight,e.weight),string:""};return r.string=$2(r),r}function Mh(t,e,n,s){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function Q2(t,e,n){const{min:s,max:r}=t,i=T_(e,(r-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Do(t,e){return Object.assign(Object.create(t),e)}function im(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=Z_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>im([a,...t],e,i,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return Y_(a,c,()=>iF(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return Q_(a).includes(c)},ownKeys(a){return Q_(a)},set(a,c,l){const u=a._storage||(a._storage=r());return a[c]=u[c]=l,delete a._keys,!0}})}function Fa(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:q_(t,s),setContext:i=>Fa(t,i,n,s),override:i=>Fa(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return Y_(i,o,()=>J2(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function q_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:xi(n)?n:()=>n,isIndexable:xi(s)?s:()=>s}}const X2=(t,e)=>t?t+Yg(e):e,om=(t,e)=>tt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Y_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function J2(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let a=s[e];return xi(a)&&o.isScriptable(e)&&(a=eF(e,a,t,n)),sn(a)&&a.length&&(a=tF(e,a,t,o.isIndexable)),om(e,a)&&(a=Fa(a,r,i&&i[e],o)),a}function eF(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(i,o||s);return a.delete(t),om(t,c)&&(c=am(r._scopes,r,t,c)),c}function tF(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(tt(e[0])){const c=e,l=r._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=am(l,r,t,u);e.push(Fa(h,i,o&&o[t],a))}}return e}function G_(t,e,n){return xi(t)?t(e,n):t}const nF=(t,e)=>t===!0?e:typeof t=="string"?Rl(e,t):void 0;function sF(t,e,n,s,r){for(const i of e){const o=nF(n,i);if(o){t.add(o);const a=G_(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function am(t,e,n,s){const r=e._rootScopes,i=G_(e._fallback,n,s),o=[...t,...r],a=new Set;a.add(s);let c=K_(a,o,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=K_(a,o,i,c,s),c===null)?!1:im(Array.from(a),[""],r,i,()=>rF(e,n,s))}function K_(t,e,n,s,r){for(;n;)n=sF(t,e,n,s,r);return n}function rF(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return sn(r)&&tt(n)?n:r||{}}function iF(t,e,n,s){let r;for(const i of e)if(r=Z_(X2(i,t),n),typeof r<"u")return om(t,r)?am(n,s,t,r):r}function Z_(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Q_(t){let e=t._keys;return e||(e=t._keys=oF(t._scopes)),e}function oF(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const aF=Number.EPSILON||1e-14,Ba=(t,e)=>e<t.length&&!t[e].skip&&t[e],X_=t=>t==="x"?"y":"x";function cF(t,e,n,s){const r=t.skip?e:t,i=e,o=n.skip?e:n,a=Gg(i,r),c=Gg(o,i);let l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const h=s*l,d=s*u;return{previous:{x:i.x-h*(o.x-r.x),y:i.y-h*(o.y-r.y)},next:{x:i.x+d*(o.x-r.x),y:i.y+d*(o.y-r.y)}}}function lF(t,e,n){const s=t.length;let r,i,o,a,c,l=Ba(t,0);for(let u=0;u<s-1;++u)if(c=l,l=Ba(t,u+1),!(!c||!l)){if(Ll(e[u],0,aF)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=i*o*e[u])}}function uF(t,e,n="x"){const s=X_(n),r=t.length;let i,o,a,c=Ba(t,0);for(let l=0;l<r;++l){if(o=a,a=c,c=Ba(t,l+1),!a)continue;const u=a[n],h=a[s];o&&(i=(u-o[n])/3,a[`cp1${n}`]=u-i,a[`cp1${s}`]=h-i*e[l]),c&&(i=(c[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${s}`]=h+i*e[l])}}function dF(t,e="x"){const n=X_(e),s=t.length,r=Array(s).fill(0),i=Array(s);let o,a,c,l=Ba(t,0);for(o=0;o<s;++o)if(a=c,c=l,l=Ba(t,o+1),!!c){if(l){const u=l[e]-c[e];r[o]=u!==0?(l[n]-c[n])/u:0}i[o]=a?l?Na(r[o-1])!==Na(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}lF(t,r,i),uF(t,i,e)}function Dh(t,e,n){return Math.max(Math.min(t,n),e)}function hF(t,e){let n,s,r,i,o,a=$l(t[0],e);for(n=0,s=t.length;n<s;++n)o=i,i=a,a=n<s-1&&$l(t[n+1],e),i&&(r=t[n],o&&(r.cp1x=Dh(r.cp1x,e.left,e.right),r.cp1y=Dh(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Dh(r.cp2x,e.left,e.right),r.cp2y=Dh(r.cp2y,e.top,e.bottom)))}function fF(t,e,n,s,r){let i,o,a,c;if(e.spanGaps&&(t=t.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")dF(t,r);else{let l=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],c=cF(l,a,t[Math.min(i+1,o-(s?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&hF(t,n)}function cm(){return typeof window<"u"&&typeof document<"u"}function lm(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ch(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Oh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function pF(t,e){return Oh(t).getPropertyValue(e)}const gF=["top","right","bottom","left"];function Co(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=gF[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const mF=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function yF(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,a,c;if(mF(r,i,t.target))a=r,c=i;else{const l=e.getBoundingClientRect();a=s.clientX-l.left,c=s.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Oo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=Oh(n),i=r.boxSizing==="border-box",o=Co(r,"padding"),a=Co(r,"border","width"),{x:c,y:l,box:u}=yF(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:p,height:g}=e;return i&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((c-h)/p*n.width/s),y:Math.round((l-d)/g*n.height/s)}}function bF(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&lm(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=Oh(i),c=Co(a,"border","width"),l=Co(a,"padding");e=o.width-l.width-c.width,n=o.height-l.height-c.height,s=Ch(a.maxWidth,i,"clientWidth"),r=Ch(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Sh,maxHeight:r||Sh}}const Ph=t=>Math.round(t*10)/10;function vF(t,e,n,s){const r=Oh(t),i=Co(r,"margin"),o=Ch(r.maxWidth,t,"clientWidth")||Sh,a=Ch(r.maxHeight,t,"clientHeight")||Sh,c=bF(t,e,n);let{width:l,height:u}=c;if(r.boxSizing==="content-box"){const d=Co(r,"border","width"),p=Co(r,"padding");l-=p.width+d.width,u-=p.height+d.height}return l=Math.max(0,l-i.width),u=Math.max(0,s?l/s:u-i.height),l=Ph(Math.min(l,o,c.maxWidth)),u=Ph(Math.min(u,a,c.maxHeight)),l&&!u&&(u=Ph(l/2)),(e!==void 0||n!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,l=Ph(Math.floor(u*s))),{width:l,height:u}}function J_(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const wF=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};cm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ex(t,e){const n=pF(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Po(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _F(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function xF(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Po(t,r,n),a=Po(r,i,n),c=Po(i,e,n),l=Po(o,a,n),u=Po(a,c,n);return Po(l,u,n)}const AF=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},SF=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ja(t,e,n){return t?AF(e,n):SF()}function tx(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function nx(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function sx(t){return t==="angle"?{between:Fl,compare:_2,normalize:dr}:{between:To,compare:(e,n)=>e-n,normalize:e=>e}}function rx({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function TF(t,e,n){const{property:s,start:r,end:i}=n,{between:o,normalize:a}=sx(s),c=e.length;let{start:l,end:u,loop:h}=t,d,p;if(h){for(l+=c,u+=c,d=0,p=c;d<p&&o(a(e[l%c][s]),r,i);++d)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:h,style:t.style}}function ix(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,o=e.length,{compare:a,between:c,normalize:l}=sx(s),{start:u,end:h,loop:d,style:p}=TF(t,e,n),g=[];let f=!1,m=null,y,w,v;const b=()=>c(r,v,y)&&a(r,v)!==0,T=()=>a(i,y)===0||c(i,v,y),_=()=>f||b(),S=()=>!f||T();for(let x=u,E=u;x<=h;++x)w=e[x%o],!w.skip&&(y=l(w[s]),y!==v&&(f=c(y,r,i),m===null&&_()&&(m=a(y,r)===0?x:E),m!==null&&S()&&(g.push(rx({start:m,end:x,loop:d,count:o,style:p})),m=null),E=x,v=y));return m!==null&&g.push(rx({start:m,end:h,loop:d,count:o,style:p})),g}function ox(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=ix(s[r],t.points,e);i.length&&n.push(...i)}return n}function kF(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function EF(t,e,n,s){const r=t.length,i=[];let o=e,a=t[e],c;for(c=e+1;c<=n;++c){const l=t[c%r];l.skip||l.stop?a.skip||(s=!1,i.push({start:e%r,end:(c-1)%r,loop:s}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function MF(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:o,end:a}=kF(n,r,i,s);if(s===!0)return ax(t,[{start:o,end:a,loop:i}],n,e);const c=a<o?a+r:a,l=!!t._fullLoop&&o===0&&a===r-1;return ax(t,EF(n,o,c,l),n,e)}function ax(t,e,n,s){return!s||!s.setContext||!n?e:DF(t,e,n,s)}function DF(t,e,n,s){const r=t._chart.getContext(),i=cx(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,l=[];let u=i,h=e[0].start,d=h;function p(g,f,m,y){const w=a?-1:1;if(g!==f){for(g+=c;n[g%c].skip;)g-=w;for(;n[f%c].skip;)f+=w;g%c!==f%c&&(l.push({start:g%c,end:f%c,loop:m,style:y}),u=y,h=f%c)}}for(const g of e){h=a?h:g.start;let f=n[h%c],m;for(d=h+1;d<=g.end;d++){const y=n[d%c];m=cx(s.setContext(Do(r,{type:"segment",p0:f,p1:y,p0DataIndex:(d-1)%c,p1DataIndex:d%c,datasetIndex:o}))),CF(m,u)&&p(h,d-1,g.loop,u),f=y,u=m}h<d-1&&p(h,d-1,g.loop,u)}return l}function cx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function CF(t,e){if(!e)return!1;const n=[],s=function(r,i){return Qg(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class OF{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=N_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var zr=new OF;const lx="transparent",PF={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=$_(t||lx),r=s.valid&&$_(e||lx);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class IF{constructor(e,n,s,r){const i=n[s];r=Mh([e.to,r,i,e.from]);const o=Mh([e.from,i,r]);this._active=!0,this._fn=e.fn||PF[e.type||typeof o],this._easing=Bl[e.easing]||Bl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Mh([e.to,n,r,e.from]),this._from=Mh([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let c;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class ux{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!tt(e))return;const n=Object.keys(Xt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!tt(i))return;const o={};for(const a of n)o[a]=i[a];(sn(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,r=LF(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&RF(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[l];let h=i[l];const d=s.get(l);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[l]=u;continue}i[l]=h=new IF(d,e,l,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return zr.add(this._chart,s),!0}}function RF(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function LF(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function dx(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function NF(t,e,n){if(n===!1)return!1;const s=dx(t,n),r=dx(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function FF(t){let e,n,s,r;return tt(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function hx(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function fx(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,a,c,l;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===n){if(u=!0,s.all)continue;break}l=t.values[c],kn(l)&&(i||e===0||Na(e)===Na(l))&&(e+=l)}return!u&&!s.all?0:e}function BF(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,l,u;for(c=0,l=o.length;c<l;++c)u=o[c],a[c]={[r]:u,[i]:t[u]};return a}function um(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function jF(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function $F(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function HF(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function px(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function gx(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,c=i.axis,l=o.axis,u=jF(i,o,s),h=e.length;let d;for(let p=0;p<h;++p){const g=e[p],{[c]:f,[l]:m}=g,y=g._stacks||(g._stacks={});d=y[l]=HF(r,u,f),d[a]=m,d._top=px(d,o,!0,s.type),d._bottom=px(d,o,!1,s.type);const w=d._visualValues||(d._visualValues={});w[a]=m}}function dm(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function WF(t,e){return Do(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function VF(t,e,n){return Do(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vl(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const hm=t=>t==="reset"||t==="none",mx=(t,e)=>e?t:Object.assign({},t),UF=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:hx(n,!0),values:null};class $a{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=um(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,d,p,g)=>h==="x"?d:h==="r"?g:p,i=n.xAxisID=Xe(s.xAxisID,dm(e,"x")),o=n.yAxisID=Xe(s.yAxisID,dm(e,"y")),a=n.rAxisID=Xe(s.rAxisID,dm(e,"r")),c=n.indexAxis,l=n.iAxisID=r(c,i,o,a),u=n.vAxisID=r(c,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(l),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&L_(this._data,this),e._stacked&&Vl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(tt(n)){const r=this._cachedMeta;this._data=BF(n,r)}else if(s!==n){if(s){L_(s,this);const r=this._cachedMeta;Vl(r),r._parsed=[]}n&&Object.isExtensible(n)&&T2(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=um(n.vScale,n),n.stack!==s.stack&&(r=!0,Vl(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(gx(this,n._parsed),n._stacked=um(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let c=e===0&&n===r.length?!0:s._sorted,l=e>0&&s._parsed[e-1],u,h,d;if(this._parsing===!1)s._parsed=r,s._sorted=!0,d=r;else{sn(r[e])?d=this.parseArrayData(s,r,e,n):tt(r[e])?d=this.parseObjectData(s,r,e,n):d=this.parsePrimitiveData(s,r,e,n);const p=()=>h[a]===null||l&&h[a]<l[a];for(u=0;u<n;++u)s._parsed[u+e]=h=d[u],c&&(p()&&(c=!1),l=h);s._sorted=c}o&&gx(this,d)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,a=i.axis,c=o.axis,l=i.getLabels(),u=i===o,h=new Array(r);let d,p,g;for(d=0,p=r;d<p;++d)g=d+s,h[d]={[a]:u||i.parse(l[g],g),[c]:o.parse(n[g],g)};return h}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,a=new Array(r);let c,l,u,h;for(c=0,l=r;c<l;++c)u=c+s,h=n[u],a[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=new Array(r);let u,h,d,p;for(u=0,h=r;u<h;++u)d=u+s,p=n[d],l[u]={x:i.parse(Rl(p,a),d),y:o.parse(Rl(p,c),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:hx(r,!0),values:n._stacks[e.axis]._visualValues};return fx(a,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const a=r&&s._stacks[n.axis];r&&a&&(r.values=a,o=fx(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,a=this._getOtherScale(e),c=UF(n,s,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=$F(a);let d,p;function g(){p=r[d];const f=p[a.axis];return!kn(p[e.axis])||u>f||h<f}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(l,e,p,c),i));++d);if(i){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(l,e,p,c);break}}return l}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],kn(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=FF(Xe(this.options.clip,NF(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,a,c),u=a;u<a+c;++u){const h=r[u];h.hidden||(h.active&&l?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=VF(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=WF(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],c=this.enableOptionSharing&&Ah(s);if(a)return mx(a,c);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),u),p=Object.keys(Xt.elements[e]),g=()=>this.getContext(s,r,n),f=l.resolveNamedOptions(d,p,g,h);return f.$shared&&(f.$shared=c,i[o]=Object.freeze(mx(f,c))),f}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let c;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(d,this.getContext(e,s,n))}const l=new ux(r,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||hm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){hm(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!hm(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,c,l]of this._syncList)this[a](c,l);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let a;const c=l=>{for(l.length+=n,a=l.length-1;a>=o;a--)l[a]=l[a-n]};for(c(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&Vl(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}te($a,"defaults",{}),te($a,"datasetElementType",null),te($a,"dataElementType",null);function zF(t,e,n){let s=1,r=1,i=0,o=0;if(e<zt){const a=t,c=a+e,l=Math.cos(a),u=Math.sin(a),h=Math.cos(c),d=Math.sin(c),p=(v,b,T)=>Fl(v,a,c,!0)?1:Math.max(b,b*n,T,T*n),g=(v,b,T)=>Fl(v,a,c,!0)?-1:Math.min(b,b*n,T,T*n),f=p(0,l,h),m=p(rn,u,d),y=g(Gt,l,h),w=g(Gt+rn,u,d);s=(f-y)/2,r=(m-w)/2,i=-(f+y)/2,o=-(m+w)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:o}}class Io extends $a{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=c=>+s[c];if(tt(s[e])){const{key:c="value"}=this._parsing;i=l=>+Rl(s[l],c)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=i(o)}}_getRotation(){return Ur(this.options.rotation-90)}_getCircumference(){return Ur(this.options.circumference)}_getRotationExtents(){let e=zt,n=-zt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(c2(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:p,offsetX:g,offsetY:f}=zF(h,u,c),m=(s.width-o)/d,y=(s.height-o)/p,w=Math.max(Math.min(m,y)/2,0),v=T_(this.options.radius,w),b=Math.max(v*c,0),T=(v-b)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=f*v,r.total=this.calculateTotal(),this.outerRadius=v-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*l,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/zt)}updateElements(e,n,s,r){const i=r==="reset",o=this.chart,a=o.chartArea,l=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=i&&l.animateScale,p=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,r);let y=this._getRotation(),w;for(w=0;w<n;++w)y+=this._circumference(w,i);for(w=n;w<n+s;++w){const v=this._circumference(w,i),b=e[w],T={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+v,circumference:v,outerRadius:g,innerRadius:p};m&&(T.options=f||this.resolveDataElementOptions(w,b.active?"active":r)),y+=v,this.updateElement(b,w,T,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?zt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=Jg(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,o,a,c;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){o=s.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)c=a.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}te(Io,"id","doughnut"),te(Io,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),te(Io,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),te(Io,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Ul extends $a{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:c}=D2(n,r,o);this._drawStart=a,this._drawCount=c,C2(n)&&(a=0,c=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:l},e),this.updateElements(r,a,c,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:l}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),d=o.axis,p=a.axis,{spanGaps:g,segment:f}=this.options,m=Nl(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||r==="none",w=n+s,v=e.length;let b=n>0&&this.getParsed(n-1);for(let T=0;T<v;++T){const _=e[T],S=y?_:{};if(T<n||T>=w){S.skip=!0;continue}const x=this.getParsed(T),E=Rt(x[p]),D=S[d]=o.getPixelForValue(x[d],T),R=S[p]=i||E?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,x,c):x[p],T);S.skip=isNaN(D)||isNaN(R)||E,S.stop=T>0&&Math.abs(x[d]-b[d])>m,f&&(S.parsed=x,S.raw=l.data[T]),h&&(S.options=u||this.resolveDataElementOptions(T,_.active?"active":r)),y||this.updateElement(_,T,S,r),b=x}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}te(Ul,"id","line"),te(Ul,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),te(Ul,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class fm extends Io{}te(fm,"id","pie"),te(fm,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ro(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class pm{constructor(e){te(this,"options");this.options=e||{}}static override(e){Object.assign(pm.prototype,e)}init(){}formats(){return Ro()}parse(){return Ro()}format(){return Ro()}add(){return Ro()}diff(){return Ro()}startOf(){return Ro()}endOf(){return Ro()}}var qF={_date:pm};function YF(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const l=a._reversePixels?A2:ko;if(s){if(r._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=l(i,e,n-h),p=l(i,e,n+h);return{lo:d.lo,hi:p.hi}}}}else{const u=l(i,e,n);if(c){const{vScale:h}=r._cachedMeta,{_parsed:d}=t,p=d.slice(0,u.lo+1).reverse().findIndex(f=>!Rt(f[h.axis]));u.lo-=Math.max(0,p);const g=d.slice(u.hi).findIndex(f=>!Rt(f[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function Ih(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=i.length;a<c;++a){const{index:l,data:u}=i[a],{lo:h,hi:d}=YF(i[a],e,o,r);for(let p=h;p<=d;++p){const g=u[p];g.skip||s(g,l,p)}}}function GF(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function gm(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||Ih(t,n,e,function(a,c,l){!r&&!$l(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:c,index:l})},!0),i}function KF(t,e,n,s){let r=[];function i(o,a,c){const{startAngle:l,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=I_(o,{x:e.x,y:e.y});Fl(h,l,u)&&r.push({element:o,datasetIndex:a,index:c})}return Ih(t,n,e,i),r}function ZF(t,e,n,s,r,i){let o=[];const a=GF(n);let c=Number.POSITIVE_INFINITY;function l(u,h,d){const p=u.inRange(e.x,e.y,r);if(s&&!p)return;const g=u.getCenterPoint(r);if(!(!!i||t.isPointInArea(g))&&!p)return;const m=a(e,g);m<c?(o=[{element:u,datasetIndex:h,index:d}],c=m):m===c&&o.push({element:u,datasetIndex:h,index:d})}return Ih(t,n,e,l),o}function mm(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?KF(t,e,n,r):ZF(t,e,n,s,r,i)}function yx(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ih(t,n,e,(c,l,u)=>{c[o]&&c[o](e[n],r)&&(i.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(e.x,e.y,r))}),s&&!a?[]:i}var QF={modes:{index(t,e,n,s){const r=Oo(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?gm(t,r,i,s,o):mm(t,r,i,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{const u=a[0].index,h=l.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:u})}),c):[]},dataset(t,e,n,s){const r=Oo(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?gm(t,r,i,s,o):mm(t,r,i,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,l=t.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(t,e,n,s){const r=Oo(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return gm(t,r,i,s,o)},nearest(t,e,n,s){const r=Oo(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return mm(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=Oo(e,t);return yx(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=Oo(e,t);return yx(t,r,"y",n.intersect,s)}}};const bx=["left","top","right","bottom"];function zl(t,e){return t.filter(n=>n.pos===e)}function vx(t,e){return t.filter(n=>bx.indexOf(n.pos)===-1&&n.box.axis===e)}function ql(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function XF(t){const e=[];let n,s,r,i,o,a;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function JF(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!bx.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function eB(t,e){const n=JF(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:c}=a.box,l=n[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*s:c&&e.availableWidth,a.height=r):(a.width=s,a.height=u?u*r:c&&e.availableHeight)}return n}function tB(t){const e=XF(t),n=ql(e.filter(l=>l.box.fullSize),!0),s=ql(zl(e,"left"),!0),r=ql(zl(e,"right")),i=ql(zl(e,"top"),!0),o=ql(zl(e,"bottom")),a=vx(e,"x"),c=vx(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:zl(e,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(o).concat(a)}}function wx(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function _x(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function nB(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!tt(r)){n.size&&(t[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[r]+=n.size}i.getPadding&&_x(o,i.getPadding());const a=Math.max(0,e.outerWidth-wx(o,t,"left","right")),c=Math.max(0,e.outerHeight-wx(o,t,"top","bottom")),l=a!==t.w,u=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:l,other:u}:{same:u,other:l}}function sB(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function rB(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function Yl(t,e,n,s){const r=[];let i,o,a,c,l,u;for(i=0,o=t.length,l=0;i<o;++i){a=t[i],c=a.box,c.update(a.width||e.w,a.height||e.h,rB(a.horizontal,e));const{same:h,other:d}=nB(e,n,a,s);l|=h&&r.length,u=u||d,c.fullSize||r.push(a)}return l&&Yl(r,e,n,s)||u}function Rh(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function xx(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const a of t){const c=a.box,l=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){const h=e.w*u,d=l.size||c.height;Ah(l.start)&&(o=l.start),c.fullSize?Rh(c,r.left,o,n.outerWidth-r.right-r.left,d):Rh(c,e.left+l.placed,o,h,d),l.start=o,l.placed+=h,o=c.bottom}else{const h=e.h*u,d=l.size||c.width;Ah(l.start)&&(i=l.start),c.fullSize?Rh(c,i,r.top,d,n.outerHeight-r.bottom-r.top):Rh(c,i,e.top+l.placed,d,h),l.start=i,l.placed+=h,i=c.right}}e.x=i,e.y=o}var Ms={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Es(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=tB(t.boxes),c=a.vertical,l=a.horizontal;vt(t.boxes,f=>{typeof f.beforeLayout=="function"&&f.beforeLayout()});const u=c.reduce((f,m)=>m.box.options&&m.box.options.display===!1?f:f+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);_x(d,Es(s));const p=Object.assign({maxPadding:d,w:i,h:o,x:r.left,y:r.top},r),g=eB(c.concat(l),h);Yl(a.fullSize,p,h,g),Yl(c,p,h,g),Yl(l,p,h,g)&&Yl(c,p,h,g),sB(p),xx(a.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,xx(a.rightAndBottom,p,h,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},vt(a.chartArea,f=>{const m=f.box;Object.assign(m,t.chartArea),m.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Ax{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class iB extends Ax{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lh="$chartjs",oB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Sx=t=>t===null||t==="";function aB(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[Lh]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Sx(r)){const i=ex(t,"width");i!==void 0&&(t.width=i)}if(Sx(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=ex(t,"height");i!==void 0&&(t.height=i)}return t}const Tx=wF?{passive:!0}:!1;function cB(t,e,n){t&&t.addEventListener(e,n,Tx)}function lB(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Tx)}function uB(t,e){const n=oB[t.type]||t.type,{x:s,y:r}=Oo(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Nh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function dB(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Nh(a.addedNodes,s),o=o&&!Nh(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function hB(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Nh(a.removedNodes,s),o=o&&!Nh(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Gl=new Map;let kx=0;function Ex(){const t=window.devicePixelRatio;t!==kx&&(kx=t,Gl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function fB(t,e){Gl.size||window.addEventListener("resize",Ex),Gl.set(t,e)}function pB(t){Gl.delete(t),Gl.size||window.removeEventListener("resize",Ex)}function gB(t,e,n){const s=t.canvas,r=s&&lm(s);if(!r)return;const i=F_((a,c)=>{const l=r.clientWidth;n(a,c),l<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||i(l,u)});return o.observe(r),fB(t,i),o}function ym(t,e,n){n&&n.disconnect(),e==="resize"&&pB(t)}function mB(t,e,n){const s=t.canvas,r=F_(i=>{t.ctx!==null&&n(uB(i,t))},t);return cB(s,e,r),r}class yB extends Ax{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(aB(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Lh])return!1;const s=n[Lh].initial;["height","width"].forEach(i=>{const o=s[i];Rt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Lh],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:dB,detach:hB,resize:gB}[n]||mB;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:ym,detach:ym,resize:ym}[n]||lB)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return vF(e,n,s,r)}isAttached(e){const n=e&&lm(e);return!!(n&&n.isConnected)}}function bB(t){return!cm()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?iB:yB}let Ai=(Jh=class{constructor(){te(this,"x");te(this,"y");te(this,"active",!1);te(this,"options");te(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Nl(this.x)&&Nl(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},te(Jh,"defaults",{}),te(Jh,"defaultRoutes"),Jh);function vB(t,e){const n=t.options.ticks,s=wB(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?xB(e):[],o=i.length,a=i[0],c=i[o-1],l=[];if(o>r)return AB(e,l,i,o/r),l;const u=_B(i,e,r);if(o>0){let h,d;const p=o>1?Math.round((c-a)/(o-1)):null;for(Fh(e,l,u,Rt(p)?0:a-p,a),h=0,d=o-1;h<d;h++)Fh(e,l,u,i[h],i[h+1]);return Fh(e,l,u,c,Rt(p)?e.length:c+p),l}return Fh(e,l,u),l}function wB(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function _B(t,e,n){const s=SB(t),r=e.length/n;if(!s)return Math.max(r,1);const i=m2(s);for(let o=0,a=i.length-1;o<a;o++){const c=i[o];if(c>r)return c}return Math.max(r,1)}function xB(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function AB(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function Fh(t,e,n,s,r){const i=Xe(s,0),o=Math.min(Xe(r,t.length),t.length);let a=0,c,l,u;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(l=Math.max(i,0);l<o;l++)l===u&&(e.push(t[l]),a++,u=Math.round(i+a*n))}function SB(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const TB=t=>t==="left"?"right":t==="right"?"left":t,Mx=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Dx=(t,e)=>Math.min(e||t,t);function Cx(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function kB(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(r),l;if(!(n&&(s===1?l=Math.max(c-i,o-c):e===0?l=(t.getPixelForTick(1)-c)/2:l=(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<i-a||c>o+a)))return c}function EB(t,e){vt(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function Kl(t){return t.drawTicks?t.tickLength:0}function Ox(t,e){if(!t.display)return 0;const n=Mn(t.font,e),s=Es(t.padding);return(sn(t.text)?t.text.length:1)*n.lineHeight+s.height}function MB(t,e){return Do(t,{scale:e,type:"scale"})}function DB(t,e,n){return Do(t,{tick:n,index:e,type:"tick"})}function CB(t,e,n){let s=Zg(t);return(n&&e!=="right"||!n&&e==="right")&&(s=TB(s)),s}function OB(t,e,n,s){const{top:r,left:i,bottom:o,right:a,chart:c}=t,{chartArea:l,scales:u}=c;let h=0,d,p,g;const f=o-r,m=a-i;if(t.isHorizontal()){if(p=En(s,i,a),tt(n)){const y=Object.keys(n)[0],w=n[y];g=u[y].getPixelForValue(w)+f-e}else n==="center"?g=(l.bottom+l.top)/2+f-e:g=Mx(t,n,e);d=a-i}else{if(tt(n)){const y=Object.keys(n)[0],w=n[y];p=u[y].getPixelForValue(w)-m+e}else n==="center"?p=(l.left+l.right)/2-m+e:p=Mx(t,n,e);g=En(s,o,r),h=n==="left"?-rn:rn}return{titleX:p,titleY:g,maxWidth:d,rotation:h}}class Ha extends Ai{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=ur(e,Number.POSITIVE_INFINITY),n=ur(n,Number.NEGATIVE_INFINITY),s=ur(s,Number.POSITIVE_INFINITY),r=ur(r,Number.NEGATIVE_INFINITY),{min:ur(e,s),max:ur(n,r),minDefined:kn(e),maxDefined:kn(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:ur(n,ur(s,n)),max:ur(s,ur(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ft(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Q2(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?Cx(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=vB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ft(this.options.afterUpdate,[this])}beforeSetDimensions(){Ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ft(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ft(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=Ft(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){Ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Dx(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,a,c,l;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,p=Hn(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:p/(s-1),h+6>a&&(a=p/(s-(e.offset?.5:1)),c=this.maxHeight-Kl(e.grid)-n.padding-Ox(e.title,this.chart.options.font),l=Math.sqrt(h*h+d*d),o=w2(Math.min(Math.asin(Hn((u.highest.height+6)/a,-1,1)),Math.asin(Hn(c/l,-1,1))-Math.asin(Hn(d/l,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ft(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=Ox(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Kl(i)+c):(e.height=this.maxHeight,e.width=Kl(i)+c),s.display&&this.ticks.length){const{first:l,last:u,widest:h,highest:d}=this._getLabelSizes(),p=s.padding*2,g=Ur(this.labelRotation),f=Math.cos(g),m=Math.sin(g);if(a){const y=s.mirror?0:m*h.width+f*d.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{const y=s.mirror?0:f*h.width+m*d.height;e.width=Math.min(this.maxWidth,e.width+y+p)}this._calculatePadding(l,u,m,f)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,p=0;c?l?(d=r*e.width,p=s*n.height):(d=s*e.height,p=r*n.width):i==="start"?p=n.width:i==="end"?d=e.width:i!=="inner"&&(d=e.width/2,p=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ft(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Rt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Cx(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],c=Math.floor(n/Dx(n,s));let l=0,u=0,h,d,p,g,f,m,y,w,v,b,T;for(h=0;h<n;h+=c){if(g=e[h].label,f=this._resolveTickFontOptions(h),r.font=m=f.string,y=i[m]=i[m]||{data:{},gc:[]},w=f.lineHeight,v=b=0,!Rt(g)&&!sn(g))v=V_(r,y.data,y.gc,v,g),b=w;else if(sn(g))for(d=0,p=g.length;d<p;++d)T=g[d],!Rt(T)&&!sn(T)&&(v=V_(r,y.data,y.gc,v,T),b+=w);o.push(v),a.push(b),l=Math.max(v,l),u=Math.max(b,u)}EB(i,n);const _=o.indexOf(l),S=a.indexOf(u),x=E=>({width:o[E]||0,height:a[E]||0});return{first:x(0),last:x(n-1),widest:x(_),highest:x(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return x2(this._alignToPixels?Mo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=DB(this.getContext(),e,s))}return this.$context||(this.$context=MB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ur(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>a*r?a/s:c/r:c*r<a*s?c/s:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,c=i.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),d=Kl(i),p=[],g=a.setContext(this.getContext()),f=g.display?g.width:0,m=f/2,y=function(q){return Mo(s,q,f)};let w,v,b,T,_,S,x,E,D,R,N,$;if(o==="top")w=y(this.bottom),S=this.bottom-d,E=w-m,R=y(e.top)+m,$=e.bottom;else if(o==="bottom")w=y(this.top),R=e.top,$=y(e.bottom)-m,S=w+m,E=this.top+d;else if(o==="left")w=y(this.right),_=this.right-d,x=w-m,D=y(e.left)+m,N=e.right;else if(o==="right")w=y(this.left),D=e.left,N=y(e.right)-m,_=w+m,x=this.left+d;else if(n==="x"){if(o==="center")w=y((e.top+e.bottom)/2+.5);else if(tt(o)){const q=Object.keys(o)[0],H=o[q];w=y(this.chart.scales[q].getPixelForValue(H))}R=e.top,$=e.bottom,S=w+m,E=S+d}else if(n==="y"){if(o==="center")w=y((e.left+e.right)/2);else if(tt(o)){const q=Object.keys(o)[0],H=o[q];w=y(this.chart.scales[q].getPixelForValue(H))}_=w-m,x=_-d,D=e.left,N=e.right}const X=Xe(r.ticks.maxTicksLimit,h),W=Math.max(1,Math.ceil(h/X));for(v=0;v<h;v+=W){const q=this.getContext(v),H=i.setContext(q),L=a.setContext(q),se=H.lineWidth,ye=H.color,Le=L.dash||[],Be=L.dashOffset,st=H.tickWidth,dt=H.tickColor,Ce=H.tickBorderDash||[],ft=H.tickBorderDashOffset;b=kB(this,v,c),b!==void 0&&(T=Mo(s,b,se),l?_=x=D=N=T:S=E=R=$=T,p.push({tx1:_,ty1:S,tx2:x,ty2:E,x1:D,y1:R,x2:N,y2:$,width:se,color:ye,borderDash:Le,borderDashOffset:Be,tickWidth:st,tickColor:dt,tickBorderDash:Ce,tickBorderDashOffset:ft}))}return this._ticksLength=h,this._borderValue=w,p}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:h}=i,d=Kl(s.grid),p=d+u,g=h?-u:p,f=-Ur(this.labelRotation),m=[];let y,w,v,b,T,_,S,x,E,D,R,N,$="middle";if(r==="top")_=this.bottom-g,S=this._getXAxisLabelAlignment();else if(r==="bottom")_=this.top+g,S=this._getXAxisLabelAlignment();else if(r==="left"){const W=this._getYAxisLabelAlignment(d);S=W.textAlign,T=W.x}else if(r==="right"){const W=this._getYAxisLabelAlignment(d);S=W.textAlign,T=W.x}else if(n==="x"){if(r==="center")_=(e.top+e.bottom)/2+p;else if(tt(r)){const W=Object.keys(r)[0],q=r[W];_=this.chart.scales[W].getPixelForValue(q)+p}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")T=(e.left+e.right)/2-p;else if(tt(r)){const W=Object.keys(r)[0],q=r[W];T=this.chart.scales[W].getPixelForValue(q)}S=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(c==="start"?$="top":c==="end"&&($="bottom"));const X=this._getLabelSizes();for(y=0,w=a.length;y<w;++y){v=a[y],b=v.label;const W=i.setContext(this.getContext(y));x=this.getPixelForTick(y)+i.labelOffset,E=this._resolveTickFontOptions(y),D=E.lineHeight,R=sn(b)?b.length:1;const q=R/2,H=W.color,L=W.textStrokeColor,se=W.textStrokeWidth;let ye=S;o?(T=x,S==="inner"&&(y===w-1?ye=this.options.reverse?"left":"right":y===0?ye=this.options.reverse?"right":"left":ye="center"),r==="top"?l==="near"||f!==0?N=-R*D+D/2:l==="center"?N=-X.highest.height/2-q*D+D:N=-X.highest.height+D/2:l==="near"||f!==0?N=D/2:l==="center"?N=X.highest.height/2-q*D:N=X.highest.height-R*D,h&&(N*=-1),f!==0&&!W.showLabelBackdrop&&(T+=D/2*Math.sin(f))):(_=x,N=(1-R)*D/2);let Le;if(W.showLabelBackdrop){const Be=Es(W.backdropPadding),st=X.heights[y],dt=X.widths[y];let Ce=N-Be.top,ft=0-Be.left;switch($){case"middle":Ce-=st/2;break;case"bottom":Ce-=st;break}switch(S){case"center":ft-=dt/2;break;case"right":ft-=dt;break;case"inner":y===w-1?ft-=dt:y>0&&(ft-=dt/2);break}Le={left:ft,top:Ce,width:dt+Be.width,height:st+Be.height,color:W.backdropColor}}m.push({label:b,font:E,textOffset:N,options:{rotation:f,color:H,strokeColor:L,strokeWidth:se,textAlign:ye,textBaseline:$,translation:[T,_],backdrop:Le}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ur(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,c=o.widest.width;let l,u;return n==="left"?r?(u=this.right+i,s==="near"?l="left":s==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,s==="near"?l="right":s==="center"?(l="center",u-=c/2):(l="left",u=this.left)):n==="right"?r?(u=this.left+i,s==="near"?l="right":s==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,s==="near"?l="left":s==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(c,l,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(l.x,l.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const c=r[i];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,u,h,d;this.isHorizontal()?(l=Mo(e,this.left,o)-o/2,u=Mo(e,this.right,a)+a/2,h=d=c):(h=Mo(e,this.top,o)-o/2,d=Mo(e,this.bottom,a)+a/2,l=u=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(l,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&kh(s,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,c=o.font,l=o.label,u=o.textOffset;Hl(s,l,0,u,c,a)}r&&Eh(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Mn(s.font),o=Es(s.padding),a=s.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||tt(n)?(c+=o.bottom,sn(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:l,titleY:u,maxWidth:h,rotation:d}=OB(this,c,n,a);Hl(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:d,textAlign:CB(a,n,r),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Xe(e.grid&&e.grid.z,-1),r=Xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ha.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Mn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Bh{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;RB(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,PB(e,o,s),this.override&&Xt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Xt[r]&&(delete Xt[r][s],this.override&&delete Eo[s])}}function PB(t,e,n){const s=Pl(Object.create(null),[n?Xt.get(n):{},Xt.get(e),t.defaults]);Xt.set(e,s),t.defaultRoutes&&IB(e,t.defaultRoutes),t.descriptors&&Xt.describe(e,t.descriptors)}function IB(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");Xt.route(i,r,c,a)})}function RB(t){return"id"in t&&"defaults"in t}class LB{constructor(){this.controllers=new Bh($a,"datasets",!0),this.elements=new Bh(Ai,"elements"),this.plugins=new Bh(Object,"plugins"),this.scales=new Bh(Ha,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):vt(r,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const r=Yg(e);Ft(s["before"+r],[],s),n[e](s),Ft(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var hr=new LB;class NB{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,a=o[s],c=[n,r,i.options];if(Ft(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Rt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=Xe(s.options&&s.options.plugins,{}),i=FB(s);return r===!1&&!n?[]:jB(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function FB(t){const e={},n=[],s=Object.keys(hr.plugins.items);for(let i=0;i<s.length;i++)n.push(hr.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function BB(t,e){return!e&&t===!1?null:t===!0?{}:t}function jB(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const a of e){const c=a.id,l=BB(s[c],r);l!==null&&i.push({plugin:a,options:$B(t.config,{plugin:a,local:n[c]},l,o)})}return i}function $B(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bm(t,e){const n=Xt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function HB(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function WB(t,e){return t===e?"_index_":"_value_"}function Px(t){if(t==="x"||t==="y"||t==="r")return t}function VB(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function vm(t,...e){if(Px(t))return t;for(const n of e){const s=n.axis||VB(n.position)||t.length>1&&Px(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ix(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function UB(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Ix(t,"x",n[0])||Ix(t,"y",n[0])}return{}}function zB(t,e){const n=Eo[t.type]||{scales:{}},s=e.scales||{},r=bm(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!tt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=vm(o,a,UB(o,t),Xt.scales[a.type]),l=WB(c,r),u=n.scales||{};i[o]=Il(Object.create(null),[{axis:c},a,u[c],u[l]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||bm(a,e),u=(Eo[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=HB(h,c),p=o[d+"AxisID"]||d;i[p]=i[p]||Object.create(null),Il(i[p],[{axis:d},s[p],u[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];Il(a,[Xt.scales[a.type],Xt.scale])}),i}function Rx(t){const e=t.options||(t.options={});e.plugins=Xe(e.plugins,{}),e.scales=zB(t,e)}function Lx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function qB(t){return t=t||{},t.data=Lx(t.data),Rx(t),t}const Nx=new Map,Fx=new Set;function jh(t,e){let n=Nx.get(t);return n||(n=e(),Nx.set(t,n),Fx.add(n)),n}const Zl=(t,e,n)=>{const s=Rl(e,n);s!==void 0&&t.add(s)};class YB{constructor(e){this._config=qB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Lx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Rx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return jh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return jh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return jh(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(h=>Zl(c,e,h))),u.forEach(h=>Zl(c,r,h)),u.forEach(h=>Zl(c,Eo[i]||{},h)),u.forEach(h=>Zl(c,Xt,h)),u.forEach(h=>Zl(c,em,h))});const l=Array.from(c);return l.length===0&&l.push(Object.create(null)),Fx.has(n)&&o.set(n,l),l}chartOptionScopes(){const{options:e,type:n}=this;return[e,Eo[n]||{},Xt.datasets[n]||{},{type:n},Xt,em]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Bx(this._resolverCache,e,r);let c=o;if(KB(o,n)){i.$shared=!1,s=xi(s)?s():s;const l=this.createResolver(e,s,a);c=Fa(o,s,l)}for(const l of n)i[l]=c[l];return i}createResolver(e,n,s=[""],r){const{resolver:i}=Bx(this._resolverCache,e,s);return tt(n)?Fa(i,n,void 0,r):i}}function Bx(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:im(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const GB=t=>tt(t)&&Object.getOwnPropertyNames(t).some(e=>xi(t[e]));function KB(t,e){const{isScriptable:n,isIndexable:s}=q_(t);for(const r of e){const i=n(r),o=s(r),a=(o||i)&&t[r];if(i&&(xi(a)||GB(a))||o&&sn(a))return!0}return!1}var ZB="4.4.8";const QB=["top","bottom","left","right","chartArea"];function jx(t,e){return t==="top"||t==="bottom"||QB.indexOf(t)===-1&&e==="x"}function $x(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Hx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ft(n&&n.onComplete,[t],e)}function XB(t){const e=t.chart,n=e.options.animation;Ft(n&&n.onProgress,[t],e)}function Wx(t){return cm()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const $h={},Vx=t=>{const e=Wx(t);return Object.values($h).filter(n=>n.canvas===e).pop()};function JB(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function ej(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}function Hh(t,e,n){return t.options.clip?t[n]:e[n]}function tj(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Hh(n,e,"left"),right:Hh(n,e,"right"),top:Hh(s,e,"top"),bottom:Hh(s,e,"bottom")}:e}let Ql=(Ni=class{static register(...e){hr.add(...e),Ux()}static unregister(...e){hr.remove(...e),Ux()}constructor(e,n){const s=this.config=new YB(n),r=Wx(e),i=Vx(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||bB(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),c=a&&a.canvas,l=c&&c.height,u=c&&c.width;if(this.id=a2(),this.ctx=a,this.canvas=c,this.width=u,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new NB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=E2(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],$h[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}zr.listen(this,"complete",Hx),zr.listen(this,"progress",XB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return Rt(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return hr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():J_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return U_(this.canvas,this.ctx),this}stop(){return zr.stop(this),this}resize(e,n){zr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,J_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ft(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};vt(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],c=vm(o,a),l=c==="r",u=c==="x";return{options:a,dposition:l?"chartArea":u?"bottom":"left",dtype:l?"radialLinear":u?"category":"linear"}}))),vt(i,o=>{const a=o.options,c=a.id,l=vm(c,a),u=Xe(a.type,o.dtype);(a.position===void 0||jx(a.position,l)!==jx(o.dposition))&&(a.position=o.dposition),r[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const d=hr.getScale(u);h=new d({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),vt(r,(o,a)=>{o||delete s[a]}),vt(s,o=>{Ms.configure(this,o,o.options),Ms.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort($x("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||bm(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=hr.getController(a),{datasetElementType:l,dataElementType:u}=Xt.datasets[a];Object.assign(c,{dataElementType:hr.getElement(u),datasetElementType:l&&hr.getElement(l)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){vt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:h}=this.getDatasetMeta(l),d=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||vt(i,l=>{l.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($x("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){vt(this.scales,e=>{Ms.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!M_(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;JB(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!M_(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ms.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],vt(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,xi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zr.has(this)?this.attached&&!zr.running(this)&&zr.start(this):(this.draw(),Hx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,r=!s.disabled,i=tj(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&kh(n,{left:s.left===!1?0:i.left-s.left,right:s.right===!1?this.width:i.right+s.right,top:s.top===!1?0:i.top-s.top,bottom:s.bottom===!1?this.height:i.bottom+s.bottom}),e.controller.draw(),r&&Eh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return $l(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=QF.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Do(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);Ah(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),zr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),U_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete $h[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};vt(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,l)=>{n.addEventListener(this,c,l),e[c]=l},r=(c,l)=>{e[c]&&(n.removeEventListener(this,c,l),delete e[c])},i=(c,l)=>{this.canvas&&this.resize(c,l)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){vt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},vt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,a,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const l=o&&this.getDatasetMeta(o.datasetIndex).controller;l&&l[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!_h(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(c,l)=>c.filter(u=>!l.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(n,e),a=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,a=this._getActiveElements(e,r,s,o),c=f2(e),l=ej(e,this._lastEvent,s,c);s&&(this._lastEvent=null,Ft(i.onHover,[e,a,this],this),c&&Ft(i.onClick,[e,a,this],this));const u=!_h(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=l,u}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},te(Ni,"defaults",Xt),te(Ni,"instances",$h),te(Ni,"overrides",Eo),te(Ni,"registry",hr),te(Ni,"version",ZB),te(Ni,"getChart",Vx),Ni);function Ux(){return vt(Ql.instances,t=>t._plugins.invalidate())}function nj(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:c}=e;let l=r/a;t.beginPath(),t.arc(i,o,a,s-l,n+l),c>r?(l=r/c,t.arc(i,o,c,n+l,s-l,!0)):t.arc(i,o,r,n+rn,s-rn),t.closePath(),t.clip()}function sj(t){return rm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function rj(t,e,n,s){const r=sj(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,s*e/2),a=c=>{const l=(n-Math.min(i,c))*s/2;return Hn(c,0,Math.min(i,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Hn(r.innerStart,0,o),innerEnd:Hn(r.innerEnd,0,o)}}function Wa(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Wh(t,e,n,s,r,i){const{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=e,h=Math.max(e.outerRadius+s+n-l,0),d=u>0?u+s+n+l:0;let p=0;const g=r-c;if(s){const W=u>0?u-s:0,q=h>0?h-s:0,H=(W+q)/2,L=H!==0?g*H/(H+s):g;p=(g-L)/2}const f=Math.max(.001,g*h-n/Gt)/h,m=(g-f)/2,y=c+m+p,w=r-m-p,{outerStart:v,outerEnd:b,innerStart:T,innerEnd:_}=rj(e,d,h,w-y),S=h-v,x=h-b,E=y+v/S,D=w-b/x,R=d+T,N=d+_,$=y+T/R,X=w-_/N;if(t.beginPath(),i){const W=(E+D)/2;if(t.arc(o,a,h,E,W),t.arc(o,a,h,W,D),b>0){const se=Wa(x,D,o,a);t.arc(se.x,se.y,b,D,w+rn)}const q=Wa(N,w,o,a);if(t.lineTo(q.x,q.y),_>0){const se=Wa(N,X,o,a);t.arc(se.x,se.y,_,w+rn,X+Math.PI)}const H=(w-_/d+(y+T/d))/2;if(t.arc(o,a,d,w-_/d,H,!0),t.arc(o,a,d,H,y+T/d,!0),T>0){const se=Wa(R,$,o,a);t.arc(se.x,se.y,T,$+Math.PI,y-rn)}const L=Wa(S,y,o,a);if(t.lineTo(L.x,L.y),v>0){const se=Wa(S,E,o,a);t.arc(se.x,se.y,v,y-rn,E)}}else{t.moveTo(o,a);const W=Math.cos(E)*h+o,q=Math.sin(E)*h+a;t.lineTo(W,q);const H=Math.cos(D)*h+o,L=Math.sin(D)*h+a;t.lineTo(H,L)}t.closePath()}function ij(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let c=e.endAngle;if(i){Wh(t,e,n,s,c,r);for(let l=0;l<i;++l)t.fill();isNaN(a)||(c=o+(a%zt||zt))}return Wh(t,e,n,s,c,r),t.fill(),c}function oj(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=c,p=c.borderAlign==="inner";if(!l)return;t.setLineDash(h||[]),t.lineDashOffset=d,p?(t.lineWidth=l*2,t.lineJoin=u||"round"):(t.lineWidth=l,t.lineJoin=u||"bevel");let g=e.endAngle;if(i){Wh(t,e,n,s,g,r);for(let f=0;f<i;++f)t.stroke();isNaN(a)||(g=o+(a%zt||zt))}p&&nj(t,e,g),i||(Wh(t,e,n,s,g,r),t.stroke())}class Xl extends Ai{constructor(n){super();te(this,"circumference");te(this,"endAngle");te(this,"fullCircles");te(this,"innerRadius");te(this,"outerRadius");te(this,"pixelMargin");te(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=I_(i,{x:n,y:s}),{startAngle:c,endAngle:l,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,g=Xe(d,l-c),f=Fl(o,c,l)&&c!==l,m=g>=zt||f,y=To(a,u+p,h+p);return m&&y}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:l,spacing:u}=this.options,h=(i+o)/2,d=(a+c+u+l)/2;return{x:s+Math.cos(h)*d,y:r+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>zt?Math.floor(r/zt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const l=1-Math.sin(Math.min(Gt,r||0)),u=i*l;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,ij(n,this,u,o,a),oj(n,this,u,o,a),n.restore()}}te(Xl,"id","arc"),te(Xl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),te(Xl,"defaultRoutes",{backgroundColor:"backgroundColor"}),te(Xl,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function zx(t,e,n=e){t.lineCap=Xe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Xe(n.borderDash,e.borderDash)),t.lineDashOffset=Xe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Xe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Xe(n.borderWidth,e.borderWidth),t.strokeStyle=Xe(n.borderColor,e.borderColor)}function aj(t,e,n){t.lineTo(n.x,n.y)}function cj(t){return t.stepped?H2:t.tension||t.cubicInterpolationMode==="monotone"?W2:aj}function qx(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:o,end:a}=e,c=Math.max(r,o),l=Math.min(i,a),u=r<o&&i<o||r>a&&i>a;return{count:s,start:c,loop:e.loop,ilen:l<c&&!u?s+l-c:l-c}}function lj(t,e,n,s){const{points:r,options:i}=e,{count:o,start:a,loop:c,ilen:l}=qx(r,n,s),u=cj(i);let{move:h=!0,reverse:d}=s||{},p,g,f;for(p=0;p<=l;++p)g=r[(a+(d?l-p:p))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,f,g,d,i.stepped),f=g);return c&&(g=r[(a+(d?l:0))%o],u(t,f,g,d,i.stepped)),!!c}function uj(t,e,n,s){const r=e.points,{count:i,start:o,ilen:a}=qx(r,n,s),{move:c=!0,reverse:l}=s||{};let u=0,h=0,d,p,g,f,m,y;const w=b=>(o+(l?a-b:b))%i,v=()=>{f!==m&&(t.lineTo(u,m),t.lineTo(u,f),t.lineTo(u,y))};for(c&&(p=r[w(0)],t.moveTo(p.x,p.y)),d=0;d<=a;++d){if(p=r[w(d)],p.skip)continue;const b=p.x,T=p.y,_=b|0;_===g?(T<f?f=T:T>m&&(m=T),u=(h*u+b)/++h):(v(),t.lineTo(b,T),g=_,h=0,f=m=T),y=T}v()}function wm(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?uj:lj}function dj(t){return t.stepped?_F:t.tension||t.cubicInterpolationMode==="monotone"?xF:Po}function hj(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),zx(t,e.options),t.stroke(r)}function fj(t,e,n,s){const{segments:r,options:i}=e,o=wm(e);for(const a of r)zx(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const pj=typeof Path2D=="function";function gj(t,e,n,s){pj&&!e.options.segment?hj(t,e,n,s):fj(t,e,n,s)}class Si extends Ai{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;fF(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MF(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,o=ox(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],c=dj(s);let l,u;for(l=0,u=o.length;l<u;++l){const{start:h,end:d}=o[l],p=i[h],g=i[d];if(p===g){a.push(p);continue}const f=Math.abs((r-p[n])/(g[n]-p[n])),m=c(p,g,f,s.stepped);m[n]=e[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,n,s){return wm(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=wm(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of r)o&=i(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),gj(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}te(Si,"id","line"),te(Si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),te(Si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),te(Si,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Yx(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Jl extends Ai{constructor(n){super();te(this,"parsed");te(this,"skip");te(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return Yx(this,n,"x",s)}inYRange(n,s){return Yx(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!$l(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,nm(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}te(Jl,"id","point"),te(Jl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),te(Jl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function mj(t,e,n){const s=t.segments,r=t.points,i=e.points,o=[];for(const a of s){let{start:c,end:l}=a;l=xm(c,l,r);const u=_m(n,r[c],r[l],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[c],end:r[l]});continue}const h=ox(e,u);for(const d of h){const p=_m(n,i[d.start],i[d.end],d.loop),g=ix(a,r,p);for(const f of g)o.push({source:f,target:d,start:{[n]:Gx(u,p,"start",Math.max)},end:{[n]:Gx(u,p,"end",Math.min)}})}}return o}function _m(t,e,n,s){if(s)return;let r=e[t],i=n[t];return t==="angle"&&(r=dr(r),i=dr(i)),{property:t,start:r,end:i}}function yj(t,e){const{x:n=null,y:s=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:o,end:a})=>{a=xm(o,a,r);const c=r[o],l=r[a];s!==null?(i.push({x:c.x,y:s}),i.push({x:l.x,y:s})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:l.y}))}),i}function xm(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Gx(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function Kx(t,e){let n=[],s=!1;return sn(t)?(s=!0,n=t):n=yj(t,e),n.length?new Si({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Zx(t){return t&&t.fill!==!1}function bj(t,e,n){let r=t[e].fill;const i=[e];let o;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!kn(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function vj(t,e,n){const s=Aj(t);if(tt(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return kn(r)&&Math.floor(r)===r?wj(s[0],e,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function wj(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function _j(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:tt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function xj(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:tt(t)?s=t.value:s=e.getBaseValue(),s}function Aj(t){const e=t.options,n=e.fill;let s=Xe(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function Sj(t){const{scale:e,index:n,line:s}=t,r=[],i=s.segments,o=s.points,a=Tj(e,n);a.push(Kx({x:null,y:e.bottom},s));for(let c=0;c<i.length;c++){const l=i[c];for(let u=l.start;u<=l.end;u++)kj(r,o[u],a)}return new Si({points:r,options:{}})}function Tj(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function kj(t,e,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:o,last:a,point:c}=Ej(i,e,"x");if(!(!c||o&&a)){if(o)s.unshift(c);else if(t.push(c),!a)break}}t.push(...s)}function Ej(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const r=s[n],i=t.segments,o=t.points;let a=!1,c=!1;for(let l=0;l<i.length;l++){const u=i[l],h=o[u.start][n],d=o[u.end][n];if(To(r,h,d)){a=r===h,c=r===d;break}}return{first:a,last:c,point:s}}class Qx{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:r,y:i,radius:o}=this;return n=n||{start:0,end:zt},e.arc(r,i,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:r}=this,i=e.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function Mj(t){const{chart:e,fill:n,line:s}=t;if(kn(n))return Dj(e,n);if(n==="stack")return Sj(t);if(n==="shape")return!0;const r=Cj(t);return r instanceof Qx?r:Kx(r,s)}function Dj(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Cj(t){return(t.scale||{}).getPointPositionForValue?Pj(t):Oj(t)}function Oj(t){const{scale:e={},fill:n}=t,s=_j(n,e);if(kn(s)){const r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function Pj(t){const{scale:e,fill:n}=t,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,o=xj(n,e,i),a=[];if(s.grid.circular){const c=e.getPointPositionForValue(0,i);return new Qx({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(e.getPointPositionForValue(c,o));return a}function Am(t,e,n){const s=Mj(e),{line:r,scale:i,axis:o}=e,a=r.options,c=a.fill,l=a.backgroundColor,{above:u=l,below:h=l}=c||{};s&&r.points.length&&(kh(t,n),Ij(t,{line:r,target:s,above:u,below:h,area:n,scale:i,axis:o}),Eh(t))}function Ij(t,e){const{line:n,target:s,above:r,below:i,area:o,scale:a}=e,c=n._loop?"angle":e.axis;t.save(),c==="x"&&i!==r&&(Xx(t,s,o.top),Jx(t,{line:n,target:s,color:r,scale:a,property:c}),t.restore(),t.save(),Xx(t,s,o.bottom)),Jx(t,{line:n,target:s,color:i,scale:a,property:c}),t.restore()}function Xx(t,e,n){const{segments:s,points:r}=e;let i=!0,o=!1;t.beginPath();for(const a of s){const{start:c,end:l}=a,u=r[c],h=r[xm(c,l,r)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Jx(t,e){const{line:n,target:s,property:r,color:i,scale:o}=e,a=mj(n,s,r);for(const{source:c,target:l,start:u,end:h}of a){const{style:{backgroundColor:d=i}={}}=c,p=s!==!0;t.save(),t.fillStyle=d,Rj(t,o,p&&_m(r,u,h)),t.beginPath();const g=!!n.pathSegment(t,c);let f;if(p){g?t.closePath():eA(t,s,h,r);const m=!!s.pathSegment(t,l,{move:g,reverse:!0});f=g&&m,f||eA(t,s,u,r)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function Rj(t,e,n){const{top:s,bottom:r}=e.chart.chartArea,{property:i,start:o,end:a}=n||{};i==="x"&&(t.beginPath(),t.rect(o,s,a-o,r-s),t.clip())}function eA(t,e,n,s){const r=e.interpolate(n,s);r&&t.lineTo(r.x,r.y)}var Vh={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,r=[];let i,o,a,c;for(o=0;o<s;++o)i=t.getDatasetMeta(o),a=i.dataset,c=null,a&&a.options&&a instanceof Si&&(c={visible:t.isDatasetVisible(o),index:o,fill:vj(a,o,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=c,r.push(c);for(o=0;o<s;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=bj(r,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),s&&a.fill&&Am(t.ctx,a,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;Zx(i)&&Am(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!Zx(s)||n.drawTime!=="beforeDatasetDraw"||Am(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const tA=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},Lj=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class nA extends Ai{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ft(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Mn(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=tA(s,i);let l,u;n.font=r.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,i,a,c)+10):(u=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=r+a;let h=e;i.textAlign="left",i.textBaseline="middle";let d=-1,p=-u;return this.legendItems.forEach((g,f)=>{const m=s+n/2+i.measureText(g.text).width;(f===0||l[l.length-1]+m+2*a>o)&&(h+=u,l[l.length-(f>0?0:1)]=0,p+=u,d++),c[f]={left:0,top:p,row:d,width:m,height:r},l[l.length-1]+=m+a}),h}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-e;let h=a,d=0,p=0,g=0,f=0;return this.legendItems.forEach((m,y)=>{const{itemWidth:w,itemHeight:v}=Nj(s,n,i,m,r);y>0&&p+v+2*a>u&&(h+=d+a,l.push({width:d,height:p}),g+=d+a,f++,d=p=0),c[y]={left:g,top:p,col:f,width:w,height:v},d=Math.max(d,w),p+=v+a}),h+=d,l.push({width:d,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=ja(i,this.left,this.width);if(this.isHorizontal()){let a=0,c=En(s,this.left+r,this.right-this.lineWidths[a]);for(const l of n)a!==l.row&&(a=l.row,c=En(s,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+e+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=En(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const l of n)l.col!==a&&(a=l.col,c=En(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;kh(e,this),this._draw(),Eh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=Xt.color,c=ja(e.rtl,this.left,this.width),l=Mn(o.font),{padding:u}=o,h=l.size,d=h/2;let p;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:g,boxHeight:f,itemHeight:m}=tA(o,h),y=function(_,S,x){if(isNaN(g)||g<=0||isNaN(f)||f<0)return;r.save();const E=Xe(x.lineWidth,1);if(r.fillStyle=Xe(x.fillStyle,a),r.lineCap=Xe(x.lineCap,"butt"),r.lineDashOffset=Xe(x.lineDashOffset,0),r.lineJoin=Xe(x.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=Xe(x.strokeStyle,a),r.setLineDash(Xe(x.lineDash,[])),o.usePointStyle){const D={radius:f*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:E},R=c.xPlus(_,g/2),N=S+d;z_(r,D,R,N,o.pointStyleWidth&&g)}else{const D=S+Math.max((h-f)/2,0),R=c.leftForLtr(_,g),N=Wl(x.borderRadius);r.beginPath(),Object.values(N).some($=>$!==0)?sm(r,{x:R,y:D,w:g,h:f,radius:N}):r.rect(R,D,g,f),r.fill(),E!==0&&r.stroke()}r.restore()},w=function(_,S,x){Hl(r,x.text,_,S+m/2,l,{strikethrough:x.hidden,textAlign:c.textAlign(x.textAlign)})},v=this.isHorizontal(),b=this._computeTitleHeight();v?p={x:En(i,this.left+u,this.right-s[0]),y:this.top+u+b,line:0}:p={x:this.left+u,y:En(i,this.top+b+u,this.bottom-n[0].height),line:0},tx(this.ctx,e.textDirection);const T=m+u;this.legendItems.forEach((_,S)=>{r.strokeStyle=_.fontColor,r.fillStyle=_.fontColor;const x=r.measureText(_.text).width,E=c.textAlign(_.textAlign||(_.textAlign=o.textAlign)),D=g+d+x;let R=p.x,N=p.y;c.setWidth(this.width),v?S>0&&R+D+u>this.right&&(N=p.y+=T,p.line++,R=p.x=En(i,this.left+u,this.right-s[p.line])):S>0&&N+T>this.bottom&&(R=p.x=R+n[p.line].width+u,p.line++,N=p.y=En(i,this.top+b+u,this.bottom-n[p.line].height));const $=c.x(R);if(y($,N,_),R=M2(E,R+g+d,v?R+D:this.right,e.rtl),w(c.x(R),N,_),v)p.x+=D+u;else if(typeof _.text!="string"){const X=l.lineHeight;p.y+=sA(_,X)+u}else p.y+=T}),nx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Mn(n.font),r=Es(n.padding);if(!n.display)return;const i=ja(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,l=r.top+c;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+l,h=En(e.align,h,this.right-d);else{const g=this.columnSizes.reduce((f,m)=>Math.max(f,m.height),0);u=l+En(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=En(a,h,h+d);o.textAlign=i.textAlign(Zg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Hl(o,n.text,p,u,s)}_computeTitleHeight(){const e=this.options.title,n=Mn(e.font),s=Es(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(To(e,this.left,this.right)&&To(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],To(e,r.left,r.left+r.width)&&To(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!jj(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=Lj(r,s);r&&!i&&Ft(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&Ft(n.onHover,[e,s,this],this)}else s&&Ft(n.onClick,[e,s,this],this)}}function Nj(t,e,n,s,r){const i=Fj(s,t,e,n),o=Bj(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function Fj(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function Bj(t,e,n){let s=t;return typeof e.text!="string"&&(s=sA(e,n)),s}function sA(t,e){const n=t.text?t.text.length:0;return e*n}function jj(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var rA={id:"legend",_element:nA,start(t,e,n){const s=t.legend=new nA({ctx:t.ctx,options:n,chart:t});Ms.configure(t,s,n),Ms.addBox(t,s)},stop(t){Ms.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Ms.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(n?0:void 0),u=Es(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:s||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class iA extends Ai{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=sn(s.text)?s.text.length:1;this._padding=Es(s.padding);const i=r*Mn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align;let c=0,l,u,h;return this.isHorizontal()?(u=En(a,s,i),h=n+e,l=i-s):(o.position==="left"?(u=s+e,h=En(a,r,n),c=Gt*-.5):(u=i-e,h=En(a,n,r),c=Gt*.5),l=r-n),{titleX:u,titleY:h,maxWidth:l,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Mn(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(i);Hl(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:l,textAlign:Zg(n.align),textBaseline:"middle",translation:[o,a]})}}function $j(t,e){const n=new iA({ctx:t.ctx,options:e,chart:t});Ms.configure(t,n,e),Ms.addBox(t,n),t.titleBlock=n}var oA={id:"title",_element:iA,start(t,e,n){$j(t,n)},stop(t){const e=t.titleBlock;Ms.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Ms.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const eu={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),r+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const l=c.getCenterPoint(),u=Gg(e,l);u<r&&(r=u,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function fr(t,e){return e&&(sn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function qr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Hj(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function aA(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,c=Mn(e.bodyFont),l=Mn(e.titleFont),u=Mn(e.footerFont),h=i.length,d=r.length,p=s.length,g=Es(e.padding);let f=g.height,m=0,y=s.reduce((b,T)=>b+T.before.length+T.lines.length+T.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(f+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const b=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;f+=p*b+(y-p)*c.lineHeight+(y-1)*e.bodySpacing}d&&(f+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let w=0;const v=function(b){m=Math.max(m,n.measureText(b).width+w)};return n.save(),n.font=l.string,vt(t.title,v),n.font=c.string,vt(t.beforeBody.concat(t.afterBody),v),w=e.displayColors?o+2+e.boxPadding:0,vt(s,b=>{vt(b.before,v),vt(b.lines,v),vt(b.after,v)}),w=0,n.font=u.string,vt(t.footer,v),n.restore(),m+=g.width,{width:m,height:f}}function Wj(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function Vj(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function Uj(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:a,right:c}}=t;let l="center";return s==="center"?l=r<=(a+c)/2?"left":"right":r<=i/2?l="left":r>=o-i/2&&(l="right"),Vj(l,t,e,n)&&(l="center"),l}function cA(t,e,n){const s=n.yAlign||e.yAlign||Wj(t,n);return{xAlign:n.xAlign||e.xAlign||Uj(t,e,n,s),yAlign:s}}function zj(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function qj(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function lA(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,l=r+i,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=Wl(o);let g=zj(e,a);const f=qj(e,c,l);return c==="center"?a==="left"?g+=l:a==="right"&&(g-=l):a==="left"?g-=Math.max(u,d)+r:a==="right"&&(g+=Math.max(h,p)+r),{x:Hn(g,0,s.width-e.width),y:Hn(f,0,s.height-e.height)}}function Uh(t,e,n){const s=Es(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function uA(t){return fr([],qr(t))}function Yj(t,e,n){return Do(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function dA(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const hA={beforeTitle:Vr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Vr,beforeBody:Vr,beforeLabel:Vr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Rt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Vr,afterBody:Vr,beforeFooter:Vr,footer:Vr,afterFooter:Vr};function Zn(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?hA[e].call(n,s):r}class Sm extends Ai{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new ux(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Yj(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=Zn(s,"beforeTitle",this,e),i=Zn(s,"title",this,e),o=Zn(s,"afterTitle",this,e);let a=[];return a=fr(a,qr(r)),a=fr(a,qr(i)),a=fr(a,qr(o)),a}getBeforeBody(e,n){return uA(Zn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return vt(e,i=>{const o={before:[],lines:[],after:[]},a=dA(s,i);fr(o.before,qr(Zn(a,"beforeLabel",this,i))),fr(o.lines,Zn(a,"label",this,i)),fr(o.after,qr(Zn(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return uA(Zn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=Zn(s,"beforeFooter",this,e),i=Zn(s,"footer",this,e),o=Zn(s,"afterFooter",this,e);let a=[];return a=fr(a,qr(r)),a=fr(a,qr(i)),a=fr(a,qr(o)),a}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],c,l;for(c=0,l=n.length;c<l;++c)a.push(Hj(this.chart,n[c]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,s))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,s))),vt(a,u=>{const h=dA(e.callbacks,u);r.push(Zn(h,"labelColor",this,u)),i.push(Zn(h,"labelPointStyle",this,u)),o.push(Zn(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=eu[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=aA(this,s),l=Object.assign({},a,c),u=cA(this.chart,s,l),h=lA(s,l,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:l,bottomLeft:u,bottomRight:h}=Wl(a),{x:d,y:p}=e,{width:g,height:f}=n;let m,y,w,v,b,T;return i==="center"?(b=p+f/2,r==="left"?(m=d,y=m-o,v=b+o,T=b-o):(m=d+g,y=m+o,v=b-o,T=b+o),w=m):(r==="left"?y=d+Math.max(c,u)+o:r==="right"?y=d+g-Math.max(l,h)-o:y=this.caretX,i==="top"?(v=p,b=v-o,m=y-o,w=y+o):(v=p+f,b=v+o,m=y+o,w=y-o),T=v),{x1:m,x2:y,x3:w,y1:v,y2:b,y3:T}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,a,c;if(i){const l=ja(s.rtl,this.x,this.width);for(e.x=Uh(this,s.titleAlign,s),n.textAlign=l.textAlign(s.titleAlign),n.textBaseline="middle",o=Mn(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<i;++c)n.fillText(r[c],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===i&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:l}=i,u=Mn(i.bodyFont),h=Uh(this,"left",i),d=r.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,g=n.y+p;if(i.usePointStyle){const f={radius:Math.min(l,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=r.leftForLtr(d,l)+l/2,y=g+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,nm(e,f,m,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,nm(e,f,m,y)}else{e.lineWidth=tt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const f=r.leftForLtr(d,l),m=r.leftForLtr(r.xPlus(d,1),l-2),y=Wl(o.borderRadius);Object.values(y).some(w=>w!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,sm(e,{x:f,y:g,w:l,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),sm(e,{x:m,y:g+1,w:l-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(f,g,l,c),e.strokeRect(f,g,l,c),e.fillStyle=o.backgroundColor,e.fillRect(m,g+1,l-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:l,boxPadding:u}=s,h=Mn(s.bodyFont);let d=h.lineHeight,p=0;const g=ja(s.rtl,this.x,this.width),f=function(x){n.fillText(x,g.x(e.x+p),e.y+d/2),e.y+=d+i},m=g.textAlign(o);let y,w,v,b,T,_,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Uh(this,m,s),n.fillStyle=s.bodyColor,vt(this.beforeBody,f),p=a&&m!=="right"?o==="center"?l/2+u:l+2+u:0,b=0,_=r.length;b<_;++b){for(y=r[b],w=this.labelTextColors[b],n.fillStyle=w,vt(y.before,f),v=y.lines,a&&v.length&&(this._drawColorBox(n,e,b,g,s),d=Math.max(h.lineHeight,c)),T=0,S=v.length;T<S;++T)f(v[T]),d=h.lineHeight;vt(y.after,f)}p=0,d=h.lineHeight,vt(this.afterBody,f),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,a;if(i){const c=ja(s.rtl,this.x,this.width);for(e.x=Uh(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=Mn(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(r[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:c}=e,{width:l,height:u}=s,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:g}=Wl(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(a+l-d,c),n.quadraticCurveTo(a+l,c,a+l,c+d),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(a+l,c+u-g),n.quadraticCurveTo(a+l,c+u,a+l-g,c+u),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(a+p,c+u),n.quadraticCurveTo(a,c+u,a,c+u-p),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=eu[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=aA(this,e),c=Object.assign({},o,this._size),l=cA(n,e,c),u=lA(e,c,l,n);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Es(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),tx(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),nx(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:a,index:c})=>{const l=this.chart.getDatasetMeta(a);if(!l)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:l.data[c],index:c}}),i=!_h(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),a=this._positionChanged(o,e),c=n||!_h(o,i)||a;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=eu[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}te(Sm,"positioners",eu);var fA={id:"tooltip",_element:Sm,positioners:eu,afterInit(t,e,n){n&&(t.tooltip=new Sm({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Gj=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Kj(t,e,n,s){const r=t.indexOf(e);if(r===-1)return Gj(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const Zj=(t,e)=>t===null?null:Hn(Math.round(t),0,e);function pA(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class zh extends Ha{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Rt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Kj(s,e,Xe(n,e),this._addedLabels),Zj(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return pA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}te(zh,"id","category"),te(zh,"defaults",{ticks:{callback:pA}});function Qj(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:c,count:l,maxTicks:u,maxDigits:h,includeBounds:d}=t,p=i||1,g=u-1,{min:f,max:m}=e,y=!Rt(o),w=!Rt(a),v=!Rt(l),b=(m-f)/(h+1);let T=O_((m-f)/g/p)*p,_,S,x,E;if(T<1e-14&&!y&&!w)return[{value:f},{value:m}];E=Math.ceil(m/T)-Math.floor(f/T),E>g&&(T=O_(E*T/g/p)*p),Rt(c)||(_=Math.pow(10,c),T=Math.ceil(T*_)/_),r==="ticks"?(S=Math.floor(f/T)*T,x=Math.ceil(m/T)*T):(S=f,x=m),y&&w&&i&&b2((a-o)/i,T/1e3)?(E=Math.round(Math.min((a-o)/T,u)),T=(a-o)/E,S=o,x=a):v?(S=y?o:S,x=w?a:x,E=l-1,T=(x-S)/E):(E=(x-S)/T,Ll(E,Math.round(E),T/1e3)?E=Math.round(E):E=Math.ceil(E));const D=Math.max(P_(T),P_(S));_=Math.pow(10,Rt(c)?D:c),S=Math.round(S*_)/_,x=Math.round(x*_)/_;let R=0;for(y&&(d&&S!==o?(n.push({value:o}),S<o&&R++,Ll(Math.round((S+R*T)*_)/_,o,gA(o,b,t))&&R++):S<o&&R++);R<E;++R){const N=Math.round((S+R*T)*_)/_;if(w&&N>a)break;n.push({value:N})}return w&&d&&x!==a?n.length&&Ll(n[n.length-1].value,a,gA(a,b,t))?n[n.length-1].value=a:n.push({value:a}):(!w||x===a)&&n.push({value:x}),n}function gA(t,e,{horizontal:n,minRotation:s}){const r=Ur(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Xj extends Ha{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Rt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=c=>r=n?r:c,a=c=>i=s?i:c;if(e){const c=Na(r),l=Na(i);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);a(i+c),e||o(r-c)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Qj(r,i);return e.bounds==="ticks"&&v2(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Jg(e,this.chart.options.locale,this.options.ticks.format)}}class qh extends Xj{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=kn(e)?e:0,this.max=kn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Ur(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}te(qh,"id","linear"),te(qh,"defaults",{ticks:{callback:W_.formatters.numeric}});const Yh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qn=Object.keys(Yh);function mA(t,e){return t-e}function yA(t,e){if(Rt(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),kn(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Nl(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function bA(t,e,n,s){const r=Qn.length;for(let i=Qn.indexOf(t);i<r-1;++i){const o=Yh[Qn[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Qn[i]}return Qn[r-1]}function Jj(t,e,n,s,r){for(let i=Qn.length-1;i>=Qn.indexOf(n);i--){const o=Qn[i];if(Yh[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return Qn[n?Qn.indexOf(n):0]}function e$(t){for(let e=Qn.indexOf(t)+1,n=Qn.length;e<n;++e)if(Yh[Qn[e]].common)return Qn[e]}function vA(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=Kg(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function t$(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let a,c;for(a=i;a<=o;a=+r.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function wA(t,e,n){const s=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:t$(t,s,r,n)}class Gh extends Ha{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new qF._date(e.adapters.date);r.init(n),Il(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:yA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function c(l){!o&&!isNaN(l.min)&&(r=Math.min(r,l.min)),!a&&!isNaN(l.max)&&(i=Math.max(i,l.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=kn(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=kn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=S2(r,i,o);return this._unit=n.unit||(s.autoSkip?bA(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Jj(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:e$(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),wA(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Hn(n,0,o),s=Hn(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||bA(i.minUnit,n,s,this._getLabelCapacity(n)),a=Xe(r.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,l=Nl(c)||c===!0,u={};let h=n,d,p;if(l&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,l?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(d=h,p=0;d<s;d=+e.add(d,a,o),p++)vA(u,d,g);return(d===s||r.bounds==="ticks"||p===1)&&vA(u,d,g),Object.keys(u).sort(mA).map(f=>+f)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return Ft(o,[e,n,s],this);const a=i.time.displayFormats,c=this._unit,l=this._majorUnit,u=c&&a[c],h=l&&a[l],d=s[n],p=l&&h&&d&&d.major;return this._adapter.format(e,r||(p?h:u))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=Ur(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,wA(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(yA(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return k2(e.sort(mA))}}te(Gh,"id","time"),te(Gh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Kh(t,e,n){let s=0,r=t.length-1,i,o,a,c;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=ko(t,"pos",e)),{pos:i,time:a}=t[s],{pos:o,time:c}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=ko(t,"time",e)),{time:i,pos:a}=t[s],{time:o,pos:c}=t[r]);const l=o-i;return l?a+(c-a)*(e-i)/l:a}class _A extends Gh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Kh(n,this.min),this._tableRange=Kh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,a,c,l,u;for(o=0,a=e.length;o<a;++o)l=e[o],l>=n&&l<=s&&r.push(l);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],c=r[o-1],l=r[o],Math.round((u+c)/2)!==l&&i.push({time:l,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Kh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Kh(this._table,s*this._tableRange+this._minPos,!0)}}te(_A,"id","timeseries"),te(_A,"defaults",Gh.defaults);const xA={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},n$={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...xA,...{ariaLabel:{type:String},ariaDescribedby:{type:String}}},s$=yb[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Va(t){return bc(t)?Ye(t):t}function r$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return bc(e)?new Proxy(t,{}):t}function i$(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function AA(t,e){t.labels=e}function SA(t,e,n){const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function o$(t,e){const n={labels:[],datasets:[]};return AA(n,t.labels),SA(n,t.datasets,e),n}const a$=vs({props:n$,setup(t,e){let{expose:n,slots:s}=e;const r=Tt(null),i=aa(null);n({chart:i});const o=()=>{if(!r.value)return;const{type:l,data:u,options:h,plugins:d,datasetIdKey:p}=t,g=o$(u,p),f=r$(g,u);i.value=new Ql(r.value,{type:l,data:f,options:{...h},plugins:d})},a=()=>{const l=Ye(i.value);l&&(t.destroyDelay>0?setTimeout(()=>{l.destroy(),i.value=null},t.destroyDelay):(l.destroy(),i.value=null))},c=l=>{l.update(t.updateMode)};return ha(o),xc(a),tn([()=>t.options,()=>t.data],(l,u)=>{let[h,d]=l,[p,g]=u;const f=Ye(i.value);if(!f)return;let m=!1;if(h){const y=Va(h),w=Va(p);y&&y!==w&&(i$(f,y),m=!0)}if(d){const y=Va(d.labels),w=Va(g.labels),v=Va(d.datasets),b=Va(g.datasets);y!==w&&(AA(f.config.data,y),m=!0),v&&v!==b&&(SA(f.config.data,v,t.datasetIdKey),m=!0)}m&&no(()=>{c(f)})},{deep:!0}),()=>ad("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:r},[ad("p",{},[s.default?s.default():""])])}});function TA(t,e){return Ql.register(e),vs({props:xA,setup(n,s){let{expose:r}=s;const i=aa(null),o=a=>{i.value=a==null?void 0:a.chart};return r({chart:i}),()=>ad(a$,s$({ref:o},{type:t,...n}))}})}const c$=TA("doughnut",Io),l$=TA("line",Ul),u$=vs({__name:"BaseLineChart",props:{title:{},data:{},mainColor:{},yAxis:{},tooltip:{}},setup(t){const e=t;Ql.register(Ul,zh,qh,Jl,Si,Vh,oA,fA);const n=Tt(),{textColor:s,gridColor:r,getSeriesColor:i,getSeriesColorByPlatform:o}=y_(),a=[Vh,rA],c=Re(()=>({labels:e.data.labels,datasets:e.data.series.map((u,h)=>{const{borderColor:d,fillColor:p}=u.additionalData?o(u.additionalData):i(h);return{label:u.name?" "+u.name+"   ":void 0,data:u.values,tension:.2,borderColor:d,borderWidth:2,pointBackgroundColor:d,pointHoverBackgroundColor:d,pointHoverBorderWidth:0,pointRadius:3,pointHoverRadius:6,fill:"origin",backgroundColor:p}})})),l=Re(()=>{var u,h,d;return{responsive:!0,maintainAspectRatio:!1,layout:{padding:20},animation:{duration:500},interaction:{intersect:!1,mode:"nearest",axis:"x"},scales:{y:{beginAtZero:!0,grid:{color:r.value},ticks:{stepSize:(u=e.yAxis)==null?void 0:u.minStepSize,autoSkipPadding:24,color:s.value,callback:(h=e.yAxis)==null?void 0:h.formatTickDisplayValue}},x:{grid:{color:r.value}}},plugins:{tooltip:{callbacks:{label:(d=e.tooltip)==null?void 0:d.getLabel}},legend:{labels:{color:s.value}}}}});return(u,h)=>(rt(),js(me(l$),{ref_key:"chart",ref:n,data:me(c),options:me(l),plugins:a},null,8,["data","options"]))}}),kA=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},d$={},h$={class:"loader w-12 h-12 border-4 border-primary"};function f$(t,e){return rt(),Wt("span",h$)}const p$=kA(d$,[["render",f$],["__scopeId","data-v-7c027716"]]),g$={},m$={class:"m-auto text-center"};function y$(t,e){const n=p$;return rt(),Wt("div",m$,[jt(n)])}const EA=kA(g$,[["render",y$]]),b$=()=>{const{state:t}=Yb(async()=>await jc(),void 0,{immediate:!0});return t};var Zh={exports:{}};Zh.exports,function(t,e){var n=200,s="Expected a function",r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,c="[object Arguments]",l="[object Array]",u="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",f="[object Map]",m="[object Number]",y="[object Object]",w="[object Promise]",v="[object RegExp]",b="[object Set]",T="[object String]",_="[object Symbol]",S="[object WeakMap]",x="[object ArrayBuffer]",E="[object DataView]",D="[object Float32Array]",R="[object Float64Array]",N="[object Int8Array]",$="[object Int16Array]",X="[object Int32Array]",W="[object Uint8Array]",q="[object Uint8ClampedArray]",H="[object Uint16Array]",L="[object Uint32Array]",se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ye=/^\w*$/,Le=/^\./,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,st=/[\\^$.*+?()[\]{}|]/g,dt=/\\(\\)?/g,Ce=/^\[object .+?Constructor\]$/,ft=/^(?:0|[1-9]\d*)$/,ge={};ge[D]=ge[R]=ge[N]=ge[$]=ge[X]=ge[W]=ge[q]=ge[H]=ge[L]=!0,ge[c]=ge[l]=ge[x]=ge[u]=ge[E]=ge[h]=ge[d]=ge[p]=ge[f]=ge[m]=ge[y]=ge[v]=ge[b]=ge[T]=ge[S]=!1;var Et=typeof et=="object"&&et&&et.Object===Object&&et,Zt=typeof self=="object"&&self&&self.Object===Object&&self,ot=Et||Zt||Function("return this")(),Cs=e&&!e.nodeType&&e,I=Cs&&!0&&t&&!t.nodeType&&t,F=I&&I.exports===Cs,U=F&&Et.process,K=function(){try{return U&&U.binding("util")}catch{}}(),G=K&&K.isTypedArray;function Z(A,M,B){switch(B.length){case 0:return A.call(M);case 1:return A.call(M,B[0]);case 2:return A.call(M,B[0],B[1]);case 3:return A.call(M,B[0],B[1],B[2])}return A.apply(M,B)}function ce(A,M){for(var B=-1,z=A?A.length:0,de=Array(z);++B<z;)de[B]=M(A[B],B,A);return de}function ie(A,M){for(var B=-1,z=M.length,de=A.length;++B<z;)A[de+B]=M[B];return A}function ae(A,M){for(var B=-1,z=A?A.length:0;++B<z;)if(M(A[B],B,A))return!0;return!1}function J(A){return function(M){return M==null?void 0:M[A]}}function ke(A,M){var B=A.length;for(A.sort(M);B--;)A[B]=A[B].value;return A}function oe(A,M){for(var B=-1,z=Array(A);++B<A;)z[B]=M(B);return z}function xe(A){return function(M){return A(M)}}function Me(A,M){return A==null?void 0:A[M]}function he(A){var M=!1;if(A!=null&&typeof A.toString!="function")try{M=!!(A+"")}catch{}return M}function ve(A){var M=-1,B=Array(A.size);return A.forEach(function(z,de){B[++M]=[de,z]}),B}function ue(A,M){return function(B){return A(M(B))}}function Ne(A){var M=-1,B=Array(A.size);return A.forEach(function(z){B[++M]=z}),B}var Ge=Array.prototype,wt=Function.prototype,Pe=Object.prototype,we=ot["__core-js_shared__"],Nt=function(){var A=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),Ct=wt.toString,_t=Pe.hasOwnProperty,zn=Pe.toString,au=RegExp("^"+Ct.call(_t).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jn=ot.Symbol,qo=ot.Uint8Array,Yo=Pe.propertyIsEnumerable,Kr=Ge.splice,br=Jn?Jn.isConcatSpreadable:void 0,Ks=ue(Object.keys,Object),vr=Math.max,as=nr(ot,"DataView"),Zs=nr(ot,"Map"),Qs=nr(ot,"Promise"),Go=nr(ot,"Set"),Ko=nr(ot,"WeakMap"),Zr=nr(Object,"create"),Fi=At(as),Zo=At(Zs),Qo=At(Qs),cs=At(Go),Xs=At(Ko),Bi=Jn?Jn.prototype:void 0,Xo=Bi?Bi.valueOf:void 0,sc=Bi?Bi.toString:void 0;function Js(A){var M=-1,B=A?A.length:0;for(this.clear();++M<B;){var z=A[M];this.set(z[0],z[1])}}function ls(){this.__data__=Zr?Zr(null):{}}function us(A){return this.has(A)&&delete this.__data__[A]}function cu(A){var M=this.__data__;if(Zr){var B=M[A];return B===r?void 0:B}return _t.call(M,A)?M[A]:void 0}function lu(A){var M=this.__data__;return Zr?M[A]!==void 0:_t.call(M,A)}function uu(A,M){var B=this.__data__;return B[A]=Zr&&M===void 0?r:M,this}Js.prototype.clear=ls,Js.prototype.delete=us,Js.prototype.get=cu,Js.prototype.has=lu,Js.prototype.set=uu;function ds(A){var M=-1,B=A?A.length:0;for(this.clear();++M<B;){var z=A[M];this.set(z[0],z[1])}}function hs(){this.__data__=[]}function er(A){var M=this.__data__,B=wr(M,A);if(B<0)return!1;var z=M.length-1;return B==z?M.pop():Kr.call(M,B,1),!0}function du(A){var M=this.__data__,B=wr(M,A);return B<0?void 0:M[B][1]}function hu(A){return wr(this.__data__,A)>-1}function fu(A,M){var B=this.__data__,z=wr(B,A);return z<0?B.push([A,M]):B[z][1]=M,this}ds.prototype.clear=hs,ds.prototype.delete=er,ds.prototype.get=du,ds.prototype.has=hu,ds.prototype.set=fu;function fs(A){var M=-1,B=A?A.length:0;for(this.clear();++M<B;){var z=A[M];this.set(z[0],z[1])}}function ji(){this.__data__={hash:new Js,map:new(Zs||ds),string:new Js}}function $i(A){return ei(this,A).delete(A)}function pu(A){return ei(this,A).get(A)}function ps(A){return ei(this,A).has(A)}function Os(A,M){return ei(this,A).set(A,M),this}fs.prototype.clear=ji,fs.prototype.delete=$i,fs.prototype.get=pu,fs.prototype.has=ps,fs.prototype.set=Os;function Hi(A){var M=-1,B=A?A.length:0;for(this.__data__=new fs;++M<B;)this.add(A[M])}function gu(A){return this.__data__.set(A,r),this}function mu(A){return this.__data__.has(A)}Hi.prototype.add=Hi.prototype.push=gu,Hi.prototype.has=mu;function gs(A){this.__data__=new ds(A)}function yu(){this.__data__=new ds}function Wi(A){return this.__data__.delete(A)}function Vi(A){return this.__data__.get(A)}function bu(A){return this.__data__.has(A)}function Qr(A,M){var B=this.__data__;if(B instanceof ds){var z=B.__data__;if(!Zs||z.length<n-1)return z.push([A,M]),this;B=this.__data__=new fs(z)}return B.set(A,M),this}gs.prototype.clear=yu,gs.prototype.delete=Wi,gs.prototype.get=Vi,gs.prototype.has=bu,gs.prototype.set=Qr;function rc(A,M){var B=gn(A)||qn(A)?oe(A.length,String):[],z=B.length,de=!!z;for(var re in A)_t.call(A,re)&&!(de&&(re=="length"||Y(re,z)))&&B.push(re);return B}function wr(A,M){for(var B=A.length;B--;)if(ts(A[B][0],M))return B;return-1}var vu=Du(_u);function wu(A,M,B,z,de){var re=-1,Ae=A.length;for(B||(B=j),de||(de=[]);++re<Ae;){var lt=A[re];B(lt)?ie(de,lt):de[de.length]=lt}return de}var Jo=ta();function _u(A,M){return A&&Jo(A,M,Ot)}function ea(A,M){M=at(M,A)?[M]:Xr(M);for(var B=0,z=M.length;A!=null&&B<z;)A=A[Jt(M[B++])];return B&&B==z?A:void 0}function xu(A){return zn.call(A)}function Au(A,M){return A!=null&&M in Object(A)}function Ui(A,M,B,z,de){return A===M?!0:A==null||M==null||!P(A)&&!V(M)?A!==A&&M!==M:zi(A,M,Ui,B,z,de)}function zi(A,M,B,z,de,re){var Ae=gn(A),lt=gn(M),Qe=l,mt=l;Ae||(Qe=Is(A),Qe=Qe==c?y:Qe),lt||(mt=Is(M),mt=mt==c?y:mt);var ns=Qe==y&&!he(A),ss=mt==y&&!he(M),Yn=Qe==mt;if(Yn&&!ns)return re||(re=new gs),Ae||Oe(A)?Ar(A,M,B,z,de,re):cc(A,M,Qe,B,z,de,re);if(!(de&o)){var Rs=ns&&_t.call(A,"__wrapped__"),Ls=ss&&_t.call(M,"__wrapped__");if(Rs||Ls){var Gi=Rs?A.value():A,ni=Ls?M.value():M;return re||(re=new gs),B(Gi,ni,z,de,re)}}return Yn?(re||(re=new gs),Jr(A,M,B,z,de,re)):!1}function _r(A,M,B,z){var de=B.length,re=de;if(A==null)return!re;for(A=Object(A);de--;){var Ae=B[de];if(Ae[2]?Ae[1]!==A[Ae[0]]:!(Ae[0]in A))return!1}for(;++de<re;){Ae=B[de];var lt=Ae[0],Qe=A[lt],mt=Ae[1];if(Ae[2]){if(Qe===void 0&&!(lt in A))return!1}else{var ns=new gs,ss;if(!(ss===void 0?Ui(mt,Qe,z,i|o,ns):ss))return!1}}return!0}function Su(A){if(!P(A)||ct(A))return!1;var M=ti(A)||he(A)?au:Ce;return M.test(At(A))}function Tu(A){return V(A)&&k(A.length)&&!!ge[zn.call(A)]}function Ps(A){return typeof A=="function"?A:A==null?cn:typeof A=="object"?gn(A)?Mu(A[0],A[1]):Eu(A):Cn(A)}function ic(A){if(!Ht(A))return Ks(A);var M=[];for(var B in Object(A))_t.call(A,B)&&B!="constructor"&&M.push(B);return M}function ku(A,M){var B=-1,z=ms(A)?Array(A.length):[];return vu(A,function(de,re,Ae){z[++B]=M(de,re,Ae)}),z}function Eu(A){var M=lc(A);return M.length==1&&M[0][2]?xt(M[0][0],M[0][1]):function(B){return B===A||_r(B,A,M)}}function Mu(A,M){return at(A)&&Qt(M)?xt(Jt(A),M):function(B){var z=Ve(B,A);return z===void 0&&z===M?en(B,A):Ui(M,z,void 0,i|o)}}function oc(A,M,B){var z=-1;M=ce(M.length?M:[cn],xe(Ps));var de=ku(A,function(re,Ae,lt){var Qe=ce(M,function(mt){return mt(re)});return{criteria:Qe,index:++z,value:re}});return ke(de,function(re,Ae){return es(re,Ae,B)})}function tr(A){return function(M){return ea(M,A)}}function ac(A,M){return M=vr(M===void 0?A.length-1:M,0),function(){for(var B=arguments,z=-1,de=vr(B.length-M,0),re=Array(de);++z<de;)re[z]=B[M+z];z=-1;for(var Ae=Array(M+1);++z<M;)Ae[z]=B[z];return Ae[M]=re,Z(A,this,Ae)}}function qi(A){if(typeof A=="string")return A;if(ee(A))return sc?sc.call(A):"";var M=A+"";return M=="0"&&1/A==-1/0?"-0":M}function Xr(A){return gn(A)?A:an(A)}function xr(A,M){if(A!==M){var B=A!==void 0,z=A===null,de=A===A,re=ee(A),Ae=M!==void 0,lt=M===null,Qe=M===M,mt=ee(M);if(!lt&&!mt&&!re&&A>M||re&&Ae&&Qe&&!lt&&!mt||z&&Ae&&Qe||!B&&Qe||!de)return 1;if(!z&&!re&&!mt&&A<M||mt&&B&&de&&!z&&!re||lt&&B&&de||!Ae&&de||!Qe)return-1}return 0}function es(A,M,B){for(var z=-1,de=A.criteria,re=M.criteria,Ae=de.length,lt=B.length;++z<Ae;){var Qe=xr(de[z],re[z]);if(Qe){if(z>=lt)return Qe;var mt=B[z];return Qe*(mt=="desc"?-1:1)}}return A.index-M.index}function Du(A,M){return function(B,z){if(B==null)return B;if(!ms(B))return A(B,z);for(var de=B.length,re=-1,Ae=Object(B);++re<de&&z(Ae[re],re,Ae)!==!1;);return B}}function ta(A){return function(M,B,z){for(var de=-1,re=Object(M),Ae=z(M),lt=Ae.length;lt--;){var Qe=Ae[++de];if(B(re[Qe],Qe,re)===!1)break}return M}}function Ar(A,M,B,z,de,re){var Ae=de&o,lt=A.length,Qe=M.length;if(lt!=Qe&&!(Ae&&Qe>lt))return!1;var mt=re.get(A);if(mt&&re.get(M))return mt==M;var ns=-1,ss=!0,Yn=de&i?new Hi:void 0;for(re.set(A,M),re.set(M,A);++ns<lt;){var Rs=A[ns],Ls=M[ns];if(z)var Gi=Ae?z(Ls,Rs,ns,M,A,re):z(Rs,Ls,ns,A,M,re);if(Gi!==void 0){if(Gi)continue;ss=!1;break}if(Yn){if(!ae(M,function(ni,na){if(!Yn.has(na)&&(Rs===ni||B(Rs,ni,z,de,re)))return Yn.add(na)})){ss=!1;break}}else if(!(Rs===Ls||B(Rs,Ls,z,de,re))){ss=!1;break}}return re.delete(A),re.delete(M),ss}function cc(A,M,B,z,de,re,Ae){switch(B){case E:if(A.byteLength!=M.byteLength||A.byteOffset!=M.byteOffset)return!1;A=A.buffer,M=M.buffer;case x:return!(A.byteLength!=M.byteLength||!z(new qo(A),new qo(M)));case u:case h:case m:return ts(+A,+M);case d:return A.name==M.name&&A.message==M.message;case v:case T:return A==M+"";case f:var lt=ve;case b:var Qe=re&o;if(lt||(lt=Ne),A.size!=M.size&&!Qe)return!1;var mt=Ae.get(A);if(mt)return mt==M;re|=i,Ae.set(A,M);var ns=Ar(lt(A),lt(M),z,de,re,Ae);return Ae.delete(A),ns;case _:if(Xo)return Xo.call(A)==Xo.call(M)}return!1}function Jr(A,M,B,z,de,re){var Ae=de&o,lt=Ot(A),Qe=lt.length,mt=Ot(M),ns=mt.length;if(Qe!=ns&&!Ae)return!1;for(var ss=Qe;ss--;){var Yn=lt[ss];if(!(Ae?Yn in M:_t.call(M,Yn)))return!1}var Rs=re.get(A);if(Rs&&re.get(M))return Rs==M;var Ls=!0;re.set(A,M),re.set(M,A);for(var Gi=Ae;++ss<Qe;){Yn=lt[ss];var ni=A[Yn],na=M[Yn];if(z)var HA=Ae?z(na,ni,Yn,M,A,re):z(ni,na,Yn,A,M,re);if(!(HA===void 0?ni===na||B(ni,na,z,de,re):HA)){Ls=!1;break}Gi||(Gi=Yn=="constructor")}if(Ls&&!Gi){var ef=A.constructor,tf=M.constructor;ef!=tf&&"constructor"in A&&"constructor"in M&&!(typeof ef=="function"&&ef instanceof ef&&typeof tf=="function"&&tf instanceof tf)&&(Ls=!1)}return re.delete(A),re.delete(M),Ls}function ei(A,M){var B=A.__data__;return We(M)?B[typeof M=="string"?"string":"hash"]:B.map}function lc(A){for(var M=Ot(A),B=M.length;B--;){var z=M[B],de=A[z];M[B]=[z,de,Qt(de)]}return M}function nr(A,M){var B=Me(A,M);return Su(B)?B:void 0}var Is=xu;(as&&Is(new as(new ArrayBuffer(1)))!=E||Zs&&Is(new Zs)!=f||Qs&&Is(Qs.resolve())!=w||Go&&Is(new Go)!=b||Ko&&Is(new Ko)!=S)&&(Is=function(A){var M=zn.call(A),B=M==y?A.constructor:void 0,z=B?At(B):void 0;if(z)switch(z){case Fi:return E;case Zo:return f;case Qo:return w;case cs:return b;case Xs:return S}return M});function C(A,M,B){M=at(M,A)?[M]:Xr(M);for(var z,de=-1,Ae=M.length;++de<Ae;){var re=Jt(M[de]);if(!(z=A!=null&&B(A,re)))break;A=A[re]}if(z)return z;var Ae=A?A.length:0;return!!Ae&&k(Ae)&&Y(re,Ae)&&(gn(A)||qn(A))}function j(A){return gn(A)||qn(A)||!!(br&&A&&A[br])}function Y(A,M){return M=M??a,!!M&&(typeof A=="number"||ft.test(A))&&A>-1&&A%1==0&&A<M}function pe(A,M,B){if(!P(B))return!1;var z=typeof M;return(z=="number"?ms(B)&&Y(M,B.length):z=="string"&&M in B)?ts(B[M],A):!1}function at(A,M){if(gn(A))return!1;var B=typeof A;return B=="number"||B=="symbol"||B=="boolean"||A==null||ee(A)?!0:ye.test(A)||!se.test(A)||M!=null&&A in Object(M)}function We(A){var M=typeof A;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?A!=="__proto__":A===null}function ct(A){return!!Nt&&Nt in A}function Ht(A){var M=A&&A.constructor,B=typeof M=="function"&&M.prototype||Pe;return A===B}function Qt(A){return A===A&&!P(A)}function xt(A,M){return function(B){return B==null?!1:B[A]===M&&(M!==void 0||A in Object(B))}}var an=pn(function(A){A=_e(A);var M=[];return Le.test(A)&&M.push(""),A.replace(Be,function(B,z,de,re){M.push(de?re.replace(dt,"$1"):z||B)}),M});function Jt(A){if(typeof A=="string"||ee(A))return A;var M=A+"";return M=="0"&&1/A==-1/0?"-0":M}function At(A){if(A!=null){try{return Ct.call(A)}catch{}try{return A+""}catch{}}return""}var fn=ac(function(A,M){if(A==null)return[];var B=M.length;return B>1&&pe(A,M[0],M[1])?M=[]:B>2&&pe(M[0],M[1],M[2])&&(M=[M[0]]),oc(A,wu(M),[])});function pn(A,M){if(typeof A!="function"||M&&typeof M!="function")throw new TypeError(s);var B=function(){var z=arguments,de=M?M.apply(this,z):z[0],re=B.cache;if(re.has(de))return re.get(de);var Ae=A.apply(this,z);return B.cache=re.set(de,Ae),Ae};return B.cache=new(pn.Cache||fs),B}pn.Cache=fs;function ts(A,M){return A===M||A!==A&&M!==M}function qn(A){return Yi(A)&&_t.call(A,"callee")&&(!Yo.call(A,"callee")||zn.call(A)==c)}var gn=Array.isArray;function ms(A){return A!=null&&k(A.length)&&!ti(A)}function Yi(A){return V(A)&&ms(A)}function ti(A){var M=P(A)?zn.call(A):"";return M==p||M==g}function k(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=a}function P(A){var M=typeof A;return!!A&&(M=="object"||M=="function")}function V(A){return!!A&&typeof A=="object"}function ee(A){return typeof A=="symbol"||V(A)&&zn.call(A)==_}var Oe=G?xe(G):Tu;function _e(A){return A==null?"":qi(A)}function Ve(A,M,B){var z=A==null?void 0:ea(A,M);return z===void 0?B:z}function en(A,M){return A!=null&&C(A,M,Au)}function Ot(A){return ms(A)?rc(A):ic(A)}function cn(A){return A}function Cn(A){return at(A)?J(Jt(A)):tr(A)}t.exports=fn}(Zh,Zh.exports);var v$=Zh.exports;const w$=On(v$);function _$(t){const e=ig(),n=f0(),s=b$(),r=zb(async()=>await n.canUploadData()&&!!s.value),i=dh({queryKey:[_l.Devices,t],queryFn:async()=>t.value?await e.listDeviceGroupDevices({deviceGroupKey:t.value.key}):[],placeholderData:[],enabled:r.value}),o=Re(()=>{if(i.data.value==null)return i.data.value;const a=[...Ye(i.data.value)],c=a.findIndex(u=>u.install_id===s.value);return[...a.splice(c,1),...w$(a,({name:u})=>u.toLowerCase())]});return{...i,devices:o}}function x$(t){const e=pg();return dh({queryKey:[_l.UsageSummaryForLineChart,t],queryFn:async()=>e.usage.getChartData(t.value)})}const A$={key:1,class:"text-center m-auto","data-testid":"no-chart-data"},S$=4,T$=vs({__name:"LineChart",props:{range:{},source:{},isDailyChart:{type:Boolean},websiteType:{},searchText:{},groupBy:{}},setup(t){const e=t,n=S$*He.Day,s=Re(()=>e.range.endDate-e.range.startDate<n),r=Re(()=>{let f=e.range.startDate;return e.isDailyChart&&s.value&&(f=e.range.endDate-n),{endDate:e.range.endDate,startDate:f}});tn(e,()=>{a.value=c()});const{deviceGroup:i}=Cg(Og()),{devices:o}=_$(i),a=Tt(c());function c(){var f;return{startDate:r.value.startDate,endDate:r.value.endDate,primaryMetric:e.source,isDailyChart:e.isDailyChart,isToday:e.range.startDate>pl().getTime(),websiteType:e.websiteType,searchText:e.searchText,is24HourFormat:!0,deviceGroupKey:(f=i.value)==null?void 0:f.key,devices:o.value??[],groupBy:e.groupBy}}const{data:l,isFetching:u}=x$(a),h=Re(()=>a.value.primaryMetric===$n.Duration?{formatTickDisplayValue:f=>f==0?"0s":new Kn(f).formatString({excludeTrailingZeros:!0}),minStepSize:He.Hour,suggestedMax:10*He.Minute}:{minStepSize:1}),d={getLabel:({raw:f,dataset:m})=>{const y=[];return m.label&&y.push(` ${m.label.trim()}:`),y.push(` ${p.value(f)}`),y.join("")}},p=Re(()=>a.value.primaryMetric===$n.Sessions?f=>Je("xSessions",f.toString()):a.value.primaryMetric===$n.Ads?f=>Je("xAds",f.toString()):f=>new Kn(f).formatString({excludeTrailingZeros:!0})),g=Re(()=>!l.value);return(f,m)=>{const y=EA,w=u$;return me(u)?(rt(),js(y,{key:0})):me(g)?(rt(),Wt("p",A$,Bt(("t"in f?f.t:me(Je))("noChartData")),1)):(rt(),js(w,{key:2,data:me(l),"y-axis":me(h),tooltip:d},null,8,["data","y-axis"]))}}}),k$=vs({__name:"BasePieChart",props:{title:{},data:{},mainColor:{},yAxis:{},tooltip:{},position:{}},setup(t){const e=t;Ql.register(fm,Io,zh,qh,Jl,Xl,Vh,oA,fA);const n=Tt(),s=[Vh,rA],{textColor:r,titleColor:i,getSeriesColor:o}=y_(),a=Re(()=>e.data.series.length===0?[o(0).fillColor]:e.data.series[0].values.map((h,d)=>o(d).fillColor)),c=Re(()=>e.data.series.length===0?[o(0).borderColor]:e.data.series[0].values.map((h,d)=>o(d).borderColor)),l=Re(()=>({labels:e.data.labels,datasets:e.data.series.map(h=>({label:h.name?" "+h.name+"   ":void 0,data:h.values,tension:.2,borderColor:c.value,borderWidth:2,pointBackgroundColor:c.value,pointHoverBackgroundColor:c.value,pointHoverBorderWidth:0,pointRadius:3,pointHoverRadius:6,hoverOffset:4,backgroundColor:a.value}))})),u=Re(()=>{var h;return{responsive:!0,maintainAspectRatio:!1,layout:{padding:15},animation:{duration:500},interaction:{intersect:!1,mode:"nearest",axis:"x"},plugins:{title:{display:!!e.title,text:e.title,color:i.value},tooltip:{callbacks:{label:(h=e.tooltip)==null?void 0:h.getLabel}},legend:{display:!0,position:e.position,labels:{color:r.value,usePointStyle:!0,pointStyle:"circle",boxWidth:8,boxHeight:8}}}}});return(h,d)=>(rt(),js(me(c$),{ref_key:"chart",ref:n,data:l.value,options:u.value,plugins:s},null,8,["data","options"]))}}),E$=vs({__name:"UsageTime",props:{source:{},adCount:{},sessionsCount:{},duration:{}},setup(t){const e=t,n=Re(()=>{switch(e.source){case $n.Duration:return new Kn(e.duration??0).formatString();case $n.Sessions:return`${e.sessionsCount??0} ${Je("sessions").toLowerCase()}`;case $n.Ads:return`${e.adCount??0} ${Je("advertisements_short")}`}}),s=Re(()=>{switch(e.source){case $n.Duration:return Je("usageTime");case $n.Sessions:return Je("sessions");case $n.Ads:return Je("advertisements");default:return""}});return(r,i)=>(rt(),Wt("p",null,[Ie("b",null,Bt(me(s))+":",1),Mc(" "+Bt(me(n)),1)]))}});function MA(){var t,e;(e=(t=document.activeElement)==null?void 0:t.blur)==null||e.call(t)}const M$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function D$(t,e){return rt(),Wt("svg",M$,e[0]||(e[0]=[Ie("path",{fill:"currentColor",d:"M12 16a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2m0-6a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2a2 2 0 0 1 2-2"},null,-1)]))}const C$={name:"mdi-dots-vertical",render:D$},O$={key:0,class:"text-center m-auto","data-testid":"no-chart-data"},P$={class:"flex justify-between items-center"},I$={class:"join lg:join-horizontal max-lg:join-vertical gap-2"},R$={class:"dropdown dropdown-bottom dropdown-end"},L$={tabindex:"0",role:"button",class:"btn btn-sm btn-primary btn-outline m-1"},N$={tabindex:"0",class:"dropdown-content bg-base-100 rounded-md w-80 z-[1] p-4 shadow-xl border"},F$={class:"flex flex-col"},B$={for:"type-of-chart",class:"lg:block mr-2 text-base-content/80"},j$=["value"],$$=["value"],H$=["value"],W$={key:0,class:"flex flex-col mt-3"},V$={for:"group-by",class:"lg:block mr-2 text-base-content/80"},U$=["value"],z$=["value"],q$=vs({__name:"UsageSummaryChart",props:{usageSummary:{},source:{},adCount:{},sessionsCount:{},duration:{},deviceInstallId:{},range:{},websiteType:{},searchText:{}},setup(t){const e=t,n=Tt(Ra.AppType),s=Tt(1),r=Re(()=>s.value==0),i=Re(()=>s.value==2),o=Re(()=>s.value==1);tn(s,()=>{MA()}),tn(n,()=>{MA()});const a={getLabel:({dataIndex:d})=>e.usageSummary[d].primaryMetric},c=Re(()=>({labels:e.usageSummary.map(d=>d.brandName),series:[{values:e.usageSummary.map(d=>d.primaryMetricValue)}]})),l=Re(()=>c.value.series[0].values.length===0);function u(){gh.track("CHANGE_CHART_GROUP_BY")}function h(){gh.track("CHANGE_TYPE_OF_CHART")}return(d,p)=>{const g=E$,f=k$,m=T$;return me(l)?(rt(),Wt("p",O$,Bt(("t"in d?d.t:me(Je))("noChartData")),1)):(rt(),Wt(Ln,{key:1},[Ie("div",P$,[jt(g,{class:"inline-block","usage-summary":d.usageSummary,source:d.source,"ad-count":d.adCount,"sessions-count":d.sessionsCount,duration:d.duration},null,8,["usage-summary","source","ad-count","sessions-count","duration"]),Ie("div",I$,[Ie("div",R$,[Ie("div",L$,[Mc(Bt(("t"in d?d.t:me(Je))("chartOptions"))+" ",1),jt(me(C$))]),Ie("div",N$,[Ie("div",F$,[Ie("label",B$,[Ie("small",null,Bt(("t"in d?d.t:me(Je))("chart")),1)]),If(Ie("select",{id:"type-of-chart",class:"select select-sm select-primary select-bordered w-full","onUpdate:modelValue":p[0]||(p[0]=y=>ht(s)?s.value=y:null),onChange:h},[Ie("option",{value:0},Bt(("t"in d?d.t:me(Je))("chart_by_websites")),9,j$),Ie("option",{value:1},Bt(("t"in d?d.t:me(Je))("chart_daily")),9,$$),Ie("option",{value:2},Bt(("t"in d?d.t:me(Je))("chart_hourly")),9,H$)],544),[[Bb,me(s)]])]),me(i)||me(o)?(rt(),Wt("div",W$,[Ie("label",V$,[Ie("small",null,Bt(("t"in d?d.t:me(Je))("groupBy")),1)]),If(Ie("select",{id:"group-by",class:"select select-sm select-primary select-bordered w-full","onUpdate:modelValue":p[1]||(p[1]=y=>ht(n)?n.value=y:null),onChange:u},[Ie("option",{value:("ChartGroupBy"in d?d.ChartGroupBy:me(Ra)).AppType},Bt(("t"in d?d.t:me(Je))("groupBy_app")),9,U$),Ie("option",{value:("ChartGroupBy"in d?d.ChartGroupBy:me(Ra)).Device},Bt(("t"in d?d.t:me(Je))("groupBy_device")),9,z$)],544),[[Bb,me(n)]])])):Or("",!0)])])])]),me(r)?(rt(),js(f,{key:0,data:me(c),tooltip:a,position:"bottom"},null,8,["data"])):Or("",!0),me(i)||me(o)?(rt(),js(m,{key:1,range:d.range,source:d.source,"website-type":d.websiteType,"search-text":d.searchText,"is-daily-chart":me(o),"group-by":me(n),position:"bottom"},null,8,["range","source","website-type","search-text","is-daily-chart","group-by"])):Or("",!0)],64))}}}),Y$={class:"w-px h-0 overflow-visible relative"},G$={class:"flex flex-col"},K$=vs({__name:"InPlaceDialog",props:{visible:{type:Boolean},alignHorizontal:{}},emits:["dismiss"],setup(t){const e=t,n=Re(()=>({x:e.alignHorizontal??"right"}));return(s,r)=>(rt(),Wt("div",Y$,[jt(XS,{name:"fade-down"},{default:Pf(()=>[s.visible?(rt(),Wt("div",{key:0,class:oi(["shadow-xl absolute rounded-md bg-surface z-30",{"right-0":n.value.x==="right","left-0":n.value.x==="left"}])},[Ie("div",G$,[nS(s.$slots,"default")])],2)):Or("",!0)]),_:3}),s.visible?(rt(),Wt("div",{key:0,onClick:r[0]||(r[0]=i=>s.$emit("dismiss")),class:"z-10 fixed inset-0"})):Or("",!0)]))}});var DA={exports:{}};/*!
 * 
 * litepicker.umd.js
 * Litepicker v2.0.12 (https://github.com/wakirin/Litepicker)
 * Package: litepicker (https://www.npmjs.com/package/litepicker)
 * License: MIT (https://github.com/wakirin/Litepicker/blob/master/LICENCE.md)
 * Copyright 2019-2021 Rinat G.
 *     
 * Hash: 504eef9c08cb42543660
 * 
 */(function(t,e){(function(n,s){t.exports=s()})(window,function(){return function(n){var s={};function r(i){if(s[i])return s[i].exports;var o=s[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=s,r.d=function(i,o,a){r.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:a})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,o){if(1&o&&(i=r(i)),8&o||4&o&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&o&&typeof i!="string")for(var c in i)r.d(a,c,(function(l){return i[l]}).bind(null,c));return a},r.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(o,"a",o),o},r.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},r.p="",r(r.s=4)}([function(n,s,r){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function o(a,c,l){a===void 0&&(a=null),c===void 0&&(c=null),l===void 0&&(l="en-US"),this.dateInstance=typeof c=="object"&&c!==null?c.parse(a instanceof o?a.clone().toJSDate():a):typeof c=="string"?o.parseDateTime(a,c,l):a?o.parseDateTime(a):o.parseDateTime(new Date),this.lang=l}return o.parseDateTime=function(a,c,l){if(c===void 0&&(c="YYYY-MM-DD"),l===void 0&&(l="en-US"),!a)return new Date(NaN);if(a instanceof Date)return new Date(a);if(a instanceof o)return a.clone().toJSDate();if(/^-?\d{10,}$/.test(a))return o.getDateZeroTime(new Date(Number(a)));if(typeof a=="string"){for(var u=[],h=null;(h=o.regex.exec(c))!=null;)h[1]!=="\\"&&u.push(h);if(u.length){var d={year:null,month:null,shortMonth:null,longMonth:null,day:null,value:""};u[0].index>0&&(d.value+=".*?");for(var p=0,g=Object.entries(u);p<g.length;p++){var f=g[p],m=f[0],y=f[1],w=Number(m),v=o.formatPatterns(y[0],l),b=v.group,T=v.pattern;d[b]=w+1,d.value+=T,d.value+=".*?"}var _=new RegExp("^"+d.value+"$");if(_.test(a)){var S=_.exec(a),x=Number(S[d.year]),E=null;d.month?E=Number(S[d.month])-1:d.shortMonth?E=o.shortMonths(l).indexOf(S[d.shortMonth]):d.longMonth&&(E=o.longMonths(l).indexOf(S[d.longMonth]));var D=Number(S[d.day])||1;return new Date(x,E,D,0,0,0,0)}}}return o.getDateZeroTime(new Date(a))},o.convertArray=function(a,c){return a.map(function(l){return l instanceof Array?l.map(function(u){return new o(u,c)}):new o(l,c)})},o.getDateZeroTime=function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)},o.shortMonths=function(a){return o.MONTH_JS.map(function(c){return new Date(2019,c).toLocaleString(a,{month:"short"})})},o.longMonths=function(a){return o.MONTH_JS.map(function(c){return new Date(2019,c).toLocaleString(a,{month:"long"})})},o.formatPatterns=function(a,c){switch(a){case"YY":case"YYYY":return{group:"year",pattern:"(\\d{"+a.length+"})"};case"M":return{group:"month",pattern:"(\\d{1,2})"};case"MM":return{group:"month",pattern:"(\\d{2})"};case"MMM":return{group:"shortMonth",pattern:"("+o.shortMonths(c).join("|")+")"};case"MMMM":return{group:"longMonth",pattern:"("+o.longMonths(c).join("|")+")"};case"D":return{group:"day",pattern:"(\\d{1,2})"};case"DD":return{group:"day",pattern:"(\\d{2})"}}},o.prototype.toJSDate=function(){return this.dateInstance},o.prototype.toLocaleString=function(a,c){return this.dateInstance.toLocaleString(a,c)},o.prototype.toDateString=function(){return this.dateInstance.toDateString()},o.prototype.getSeconds=function(){return this.dateInstance.getSeconds()},o.prototype.getDay=function(){return this.dateInstance.getDay()},o.prototype.getTime=function(){return this.dateInstance.getTime()},o.prototype.getDate=function(){return this.dateInstance.getDate()},o.prototype.getMonth=function(){return this.dateInstance.getMonth()},o.prototype.getFullYear=function(){return this.dateInstance.getFullYear()},o.prototype.setMonth=function(a){return this.dateInstance.setMonth(a)},o.prototype.setHours=function(a,c,l,u){a===void 0&&(a=0),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0),this.dateInstance.setHours(a,c,l,u)},o.prototype.setSeconds=function(a){return this.dateInstance.setSeconds(a)},o.prototype.setDate=function(a){return this.dateInstance.setDate(a)},o.prototype.setFullYear=function(a){return this.dateInstance.setFullYear(a)},o.prototype.getWeek=function(a){var c=new Date(this.timestamp()),l=(this.getDay()+(7-a))%7;c.setDate(c.getDate()-l);var u=c.getTime();return c.setMonth(0,1),c.getDay()!==a&&c.setMonth(0,1+(4-c.getDay()+7)%7),1+Math.ceil((u-c.getTime())/6048e5)},o.prototype.clone=function(){return new o(this.toJSDate())},o.prototype.isBetween=function(a,c,l){switch(l===void 0&&(l="()"),l){default:case"()":return this.timestamp()>a.getTime()&&this.timestamp()<c.getTime();case"[)":return this.timestamp()>=a.getTime()&&this.timestamp()<c.getTime();case"(]":return this.timestamp()>a.getTime()&&this.timestamp()<=c.getTime();case"[]":return this.timestamp()>=a.getTime()&&this.timestamp()<=c.getTime()}},o.prototype.isBefore=function(a,c){switch(c===void 0&&(c="seconds"),c){case"second":case"seconds":return a.getTime()>this.getTime();case"day":case"days":return new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()>new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(a.getFullYear(),a.getMonth(),1).getTime()>new Date(this.getFullYear(),this.getMonth(),1).getTime();case"year":case"years":return a.getFullYear()>this.getFullYear()}throw new Error("isBefore: Invalid unit!")},o.prototype.isSameOrBefore=function(a,c){switch(c===void 0&&(c="seconds"),c){case"second":case"seconds":return a.getTime()>=this.getTime();case"day":case"days":return new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()>=new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime();case"month":case"months":return new Date(a.getFullYear(),a.getMonth(),1).getTime()>=new Date(this.getFullYear(),this.getMonth(),1).getTime()}throw new Error("isSameOrBefore: Invalid unit!")},o.prototype.isAfter=function(a,c){switch(c===void 0&&(c="seconds"),c){case"second":case"seconds":return this.getTime()>a.getTime();case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>new Date(a.getFullYear(),a.getMonth(),1).getTime();case"year":case"years":return this.getFullYear()>a.getFullYear()}throw new Error("isAfter: Invalid unit!")},o.prototype.isSameOrAfter=function(a,c){switch(c===void 0&&(c="seconds"),c){case"second":case"seconds":return this.getTime()>=a.getTime();case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()>=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()>=new Date(a.getFullYear(),a.getMonth(),1).getTime()}throw new Error("isSameOrAfter: Invalid unit!")},o.prototype.isSame=function(a,c){switch(c===void 0&&(c="seconds"),c){case"second":case"seconds":return this.getTime()===a.getTime();case"day":case"days":return new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()===new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime();case"month":case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime()===new Date(a.getFullYear(),a.getMonth(),1).getTime()}throw new Error("isSame: Invalid unit!")},o.prototype.add=function(a,c){switch(c===void 0&&(c="seconds"),c){case"second":case"seconds":this.setSeconds(this.getSeconds()+a);break;case"day":case"days":this.setDate(this.getDate()+a);break;case"month":case"months":this.setMonth(this.getMonth()+a)}return this},o.prototype.subtract=function(a,c){switch(c===void 0&&(c="seconds"),c){case"second":case"seconds":this.setSeconds(this.getSeconds()-a);break;case"day":case"days":this.setDate(this.getDate()-a);break;case"month":case"months":this.setMonth(this.getMonth()-a)}return this},o.prototype.diff=function(a,c){switch(c===void 0&&(c="seconds"),c){default:case"second":case"seconds":return this.getTime()-a.getTime();case"day":case"days":return Math.round((this.timestamp()-a.getTime())/864e5);case"month":case"months":}},o.prototype.format=function(a,c){if(c===void 0&&(c="en-US"),typeof a=="object")return a.output(this.clone().toJSDate());for(var l="",u=[],h=null;(h=o.regex.exec(a))!=null;)h[1]!=="\\"&&u.push(h);if(u.length){u[0].index>0&&(l+=a.substring(0,u[0].index));for(var d=0,p=Object.entries(u);d<p.length;d++){var g=p[d],f=g[0],m=g[1],y=Number(f);l+=this.formatTokens(m[0],c),u[y+1]&&(l+=a.substring(m.index+m[0].length,u[y+1].index)),y===u.length-1&&(l+=a.substring(m.index+m[0].length))}}return l.replace(/\\/g,"")},o.prototype.timestamp=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0).getTime()},o.prototype.formatTokens=function(a,c){switch(a){case"YY":return String(this.getFullYear()).slice(-2);case"YYYY":return String(this.getFullYear());case"M":return String(this.getMonth()+1);case"MM":return("0"+(this.getMonth()+1)).slice(-2);case"MMM":return o.shortMonths(c)[this.getMonth()];case"MMMM":return o.longMonths(c)[this.getMonth()];case"D":return String(this.getDate());case"DD":return("0"+this.getDate()).slice(-2);default:return""}},o.regex=/(\\)?(Y{2,4}|M{1,4}|D{1,2}|d{1,4})/g,o.MONTH_JS=[0,1,2,3,4,5,6,7,8,9,10,11],o}();s.DateTime=i},function(n,s,r){var i,o=this&&this.__extends||(i=function(p,g){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var y in m)m.hasOwnProperty(y)&&(f[y]=m[y])})(p,g)},function(p,g){function f(){this.constructor=p}i(p,g),p.prototype=g===null?Object.create(g):(f.prototype=g.prototype,new f)}),a=this&&this.__spreadArrays||function(){for(var p=0,g=0,f=arguments.length;g<f;g++)p+=arguments[g].length;var m=Array(p),y=0;for(g=0;g<f;g++)for(var w=arguments[g],v=0,b=w.length;v<b;v++,y++)m[y]=w[v];return m};Object.defineProperty(s,"__esModule",{value:!0});var c=r(5),l=r(0),u=r(3),h=r(2),d=function(p){function g(f){var m=p.call(this,f)||this;return m.preventClick=!1,m.bindEvents(),m}return o(g,p),g.prototype.scrollToDate=function(f){if(this.options.scrollToDate){var m=this.options.startDate instanceof l.DateTime?this.options.startDate.clone():null,y=this.options.endDate instanceof l.DateTime?this.options.endDate.clone():null;!this.options.startDate||f&&f!==this.options.element?f&&this.options.endDate&&f===this.options.elementEnd&&(y.setDate(1),this.options.numberOfMonths>1&&y.isAfter(m)&&y.setMonth(y.getMonth()-(this.options.numberOfMonths-1)),this.calendars[0]=y.clone()):(m.setDate(1),this.calendars[0]=m.clone())}},g.prototype.bindEvents=function(){document.addEventListener("click",this.onClick.bind(this),!0),this.ui=document.createElement("div"),this.ui.className=u.litepicker,this.ui.style.display="none",this.ui.addEventListener("mouseenter",this.onMouseEnter.bind(this),!0),this.ui.addEventListener("mouseleave",this.onMouseLeave.bind(this),!1),this.options.autoRefresh?(this.options.element instanceof HTMLElement&&this.options.element.addEventListener("keyup",this.onInput.bind(this),!0),this.options.elementEnd instanceof HTMLElement&&this.options.elementEnd.addEventListener("keyup",this.onInput.bind(this),!0)):(this.options.element instanceof HTMLElement&&this.options.element.addEventListener("change",this.onInput.bind(this),!0),this.options.elementEnd instanceof HTMLElement&&this.options.elementEnd.addEventListener("change",this.onInput.bind(this),!0)),this.options.parentEl?this.options.parentEl instanceof HTMLElement?this.options.parentEl.appendChild(this.ui):document.querySelector(this.options.parentEl).appendChild(this.ui):this.options.inlineMode?this.options.element instanceof HTMLInputElement?this.options.element.parentNode.appendChild(this.ui):this.options.element.appendChild(this.ui):document.body.appendChild(this.ui),this.updateInput(),this.init(),typeof this.options.setup=="function"&&this.options.setup.call(this,this),this.render(),this.options.inlineMode&&this.show()},g.prototype.updateInput=function(){if(this.options.element instanceof HTMLInputElement){var f=this.options.startDate,m=this.options.endDate;if(this.options.singleMode&&f)this.options.element.value=f.format(this.options.format,this.options.lang);else if(!this.options.singleMode&&f&&m){var y=f.format(this.options.format,this.options.lang),w=m.format(this.options.format,this.options.lang);this.options.elementEnd instanceof HTMLInputElement?(this.options.element.value=y,this.options.elementEnd.value=w):this.options.element.value=""+y+this.options.delimiter+w}f||m||(this.options.element.value="",this.options.elementEnd instanceof HTMLInputElement&&(this.options.elementEnd.value=""))}},g.prototype.isSamePicker=function(f){return f.closest("."+u.litepicker)===this.ui},g.prototype.shouldShown=function(f){return!f.disabled&&(f===this.options.element||this.options.elementEnd&&f===this.options.elementEnd)},g.prototype.shouldResetDatePicked=function(){return this.options.singleMode||this.datePicked.length===2},g.prototype.shouldSwapDatePicked=function(){return this.datePicked.length===2&&this.datePicked[0].getTime()>this.datePicked[1].getTime()},g.prototype.shouldCheckLockDays=function(){return this.options.disallowLockDaysInRange&&this.datePicked.length===2},g.prototype.onClick=function(f){var m=f.target;if(f.target.shadowRoot&&(m=f.composedPath()[0]),m&&this.ui)if(this.shouldShown(m))this.show(m);else if(m.closest("."+u.litepicker)||!this.isShowning()){if(this.isSamePicker(m))if(this.emit("before:click",m),this.preventClick)this.preventClick=!1;else{if(m.classList.contains(u.dayItem)){if(f.preventDefault(),m.classList.contains(u.isLocked))return;if(this.shouldResetDatePicked()&&(this.datePicked.length=0),this.datePicked[this.datePicked.length]=new l.DateTime(m.dataset.time),this.shouldSwapDatePicked()){var y=this.datePicked[1].clone();this.datePicked[1]=this.datePicked[0].clone(),this.datePicked[0]=y.clone()}return this.shouldCheckLockDays()&&h.rangeIsLocked(this.datePicked,this.options)&&(this.emit("error:range",this.datePicked),this.datePicked.length=0),this.render(),this.emit.apply(this,a(["preselect"],a(this.datePicked).map(function(T){return T.clone()}))),void(this.options.autoApply&&(this.options.singleMode&&this.datePicked.length?(this.setDate(this.datePicked[0]),this.hide()):this.options.singleMode||this.datePicked.length!==2||(this.setDateRange(this.datePicked[0],this.datePicked[1]),this.hide())))}if(m.classList.contains(u.buttonPreviousMonth)){f.preventDefault();var w=0,v=this.options.switchingMonths||this.options.numberOfMonths;if(this.options.splitView){var b=m.closest("."+u.monthItem);w=h.findNestedMonthItem(b),v=1}return this.calendars[w].setMonth(this.calendars[w].getMonth()-v),this.gotoDate(this.calendars[w],w),void this.emit("change:month",this.calendars[w],w)}if(m.classList.contains(u.buttonNextMonth))return f.preventDefault(),w=0,v=this.options.switchingMonths||this.options.numberOfMonths,this.options.splitView&&(b=m.closest("."+u.monthItem),w=h.findNestedMonthItem(b),v=1),this.calendars[w].setMonth(this.calendars[w].getMonth()+v),this.gotoDate(this.calendars[w],w),void this.emit("change:month",this.calendars[w],w);m.classList.contains(u.buttonCancel)&&(f.preventDefault(),this.hide(),this.emit("button:cancel")),m.classList.contains(u.buttonApply)&&(f.preventDefault(),this.options.singleMode&&this.datePicked.length?this.setDate(this.datePicked[0]):this.options.singleMode||this.datePicked.length!==2||this.setDateRange(this.datePicked[0],this.datePicked[1]),this.hide(),this.emit("button:apply",this.options.startDate,this.options.endDate))}}else this.hide()},g.prototype.showTooltip=function(f,m){var y=this.ui.querySelector("."+u.containerTooltip);y.style.visibility="visible",y.innerHTML=m;var w=this.ui.getBoundingClientRect(),v=y.getBoundingClientRect(),b=f.getBoundingClientRect(),T=b.top,_=b.left;if(this.options.inlineMode&&this.options.parentEl){var S=this.ui.parentNode.getBoundingClientRect();T-=S.top,_-=S.left}else T-=w.top,_-=w.left;T-=v.height,_-=v.width/2,_+=b.width/2,y.style.top=T+"px",y.style.left=_+"px",this.emit("tooltip",y,f)},g.prototype.hideTooltip=function(){this.ui.querySelector("."+u.containerTooltip).style.visibility="hidden"},g.prototype.shouldAllowMouseEnter=function(f){return!this.options.singleMode&&!f.classList.contains(u.isLocked)},g.prototype.shouldAllowRepick=function(){return this.options.elementEnd&&this.options.allowRepick&&this.options.startDate&&this.options.endDate},g.prototype.isDayItem=function(f){return f.classList.contains(u.dayItem)},g.prototype.onMouseEnter=function(f){var m=this,y=f.target;if(this.isDayItem(y)&&this.shouldAllowMouseEnter(y)){if(this.shouldAllowRepick()&&(this.triggerElement===this.options.element?this.datePicked[0]=this.options.endDate.clone():this.triggerElement===this.options.elementEnd&&(this.datePicked[0]=this.options.startDate.clone())),this.datePicked.length!==1)return;var w=this.ui.querySelector("."+u.dayItem+'[data-time="'+this.datePicked[0].getTime()+'"]'),v=this.datePicked[0].clone(),b=new l.DateTime(y.dataset.time),T=!1;if(v.getTime()>b.getTime()){var _=v.clone();v=b.clone(),b=_.clone(),T=!0}if(Array.prototype.slice.call(this.ui.querySelectorAll("."+u.dayItem)).forEach(function($){var X=new l.DateTime($.dataset.time),W=m.renderDay(X);X.isBetween(v,b)&&W.classList.add(u.isInRange),$.className=W.className}),y.classList.add(u.isEndDate),T?(w&&w.classList.add(u.isFlipped),y.classList.add(u.isFlipped)):(w&&w.classList.remove(u.isFlipped),y.classList.remove(u.isFlipped)),this.options.showTooltip){var S=b.diff(v,"day")+1;if(typeof this.options.tooltipNumber=="function"&&(S=this.options.tooltipNumber.call(this,S)),S>0){var x=this.pluralSelector(S),E=S+" "+(this.options.tooltipText[x]?this.options.tooltipText[x]:"["+x+"]");this.showTooltip(y,E);var D=window.navigator.userAgent,R=/(iphone|ipad)/i.test(D),N=/OS 1([0-2])/i.test(D);R&&N&&y.dispatchEvent(new Event("click"))}else this.hideTooltip()}}},g.prototype.onMouseLeave=function(f){f.target,this.options.allowRepick&&(!this.options.allowRepick||this.options.startDate||this.options.endDate)&&(this.datePicked.length=0,this.render())},g.prototype.onInput=function(f){var m=this.parseInput(),y=m[0],w=m[1],v=this.options.format;if(this.options.elementEnd?y instanceof l.DateTime&&w instanceof l.DateTime&&y.format(v)===this.options.element.value&&w.format(v)===this.options.elementEnd.value:this.options.singleMode?y instanceof l.DateTime&&y.format(v)===this.options.element.value:y instanceof l.DateTime&&w instanceof l.DateTime&&""+y.format(v)+this.options.delimiter+w.format(v)===this.options.element.value){if(w&&y.getTime()>w.getTime()){var b=y.clone();y=w.clone(),w=b.clone()}this.options.startDate=new l.DateTime(y,this.options.format,this.options.lang),w&&(this.options.endDate=new l.DateTime(w,this.options.format,this.options.lang)),this.updateInput(),this.render();var T=y.clone(),_=0;(this.options.elementEnd?y.format(v)===f.target.value:f.target.value.startsWith(y.format(v)))||(T=w.clone(),_=this.options.numberOfMonths-1),this.emit("selected",this.getStartDate(),this.getEndDate()),this.gotoDate(T,_)}},g}(c.Calendar);s.Litepicker=d},function(n,s,r){Object.defineProperty(s,"__esModule",{value:!0}),s.findNestedMonthItem=function(i){for(var o=i.parentNode.childNodes,a=0;a<o.length;a+=1)if(o.item(a)===i)return a;return 0},s.dateIsLocked=function(i,o,a){var c=!1;return o.lockDays.length&&(c=o.lockDays.filter(function(l){return l instanceof Array?i.isBetween(l[0],l[1],o.lockDaysInclusivity):l.isSame(i,"day")}).length),c||typeof o.lockDaysFilter!="function"||(c=o.lockDaysFilter.call(this,i.clone(),null,a)),c},s.rangeIsLocked=function(i,o){var a=!1;return o.lockDays.length&&(a=o.lockDays.filter(function(c){if(c instanceof Array){var l=i[0].toDateString()===c[0].toDateString()&&i[1].toDateString()===c[1].toDateString();return c[0].isBetween(i[0],i[1],o.lockDaysInclusivity)||c[1].isBetween(i[0],i[1],o.lockDaysInclusivity)||l}return c.isBetween(i[0],i[1],o.lockDaysInclusivity)}).length),a||typeof o.lockDaysFilter!="function"||(a=o.lockDaysFilter.call(this,i[0].clone(),i[1].clone(),i)),a}},function(n,s,r){var i=r(8);typeof i=="string"&&(i=[[n.i,i,""]]);var o={insert:function(a){var c=document.querySelector("head"),l=window._lastElementInsertedByStyleLoader;window.disableLitepickerStyles||(l?l.nextSibling?c.insertBefore(a,l.nextSibling):c.appendChild(a):c.insertBefore(a,c.firstChild),window._lastElementInsertedByStyleLoader=a)},singleton:!1};r(10)(i,o),i.locals&&(n.exports=i.locals)},function(n,s,r){Object.defineProperty(s,"__esModule",{value:!0});var i=r(1);s.Litepicker=i.Litepicker,r(11),window.Litepicker=i.Litepicker,s.default=i.Litepicker},function(n,s,r){var i,o=this&&this.__extends||(i=function(d,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var m in f)f.hasOwnProperty(m)&&(g[m]=f[m])})(d,p)},function(d,p){function g(){this.constructor=d}i(d,p),d.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)});Object.defineProperty(s,"__esModule",{value:!0});var a=r(6),c=r(0),l=r(3),u=r(2),h=function(d){function p(g){return d.call(this,g)||this}return o(p,d),p.prototype.render=function(){var g=this;this.emit("before:render",this.ui);var f=document.createElement("div");f.className=l.containerMain;var m=document.createElement("div");m.className=l.containerMonths,l["columns"+this.options.numberOfColumns]&&(m.classList.remove(l.columns2,l.columns3,l.columns4),m.classList.add(l["columns"+this.options.numberOfColumns])),this.options.splitView&&m.classList.add(l.splitView),this.options.showWeekNumbers&&m.classList.add(l.showWeekNumbers);for(var y=this.calendars[0].clone(),w=y.getMonth(),v=y.getMonth()+this.options.numberOfMonths,b=0,T=w;T<v;T+=1){var _=y.clone();_.setDate(1),_.setHours(0,0,0,0),this.options.splitView?_=this.calendars[b].clone():_.setMonth(T),m.appendChild(this.renderMonth(_,b)),b+=1}if(this.ui.innerHTML="",f.appendChild(m),this.options.resetButton){var S=void 0;typeof this.options.resetButton=="function"?S=this.options.resetButton.call(this):((S=document.createElement("button")).type="button",S.className=l.resetButton,S.innerHTML=this.options.buttonText.reset),S.addEventListener("click",function(x){x.preventDefault(),g.clearSelection()}),f.querySelector("."+l.monthItem+":last-child").querySelector("."+l.monthItemHeader).appendChild(S)}this.ui.appendChild(f),this.options.autoApply&&!this.options.footerHTML||this.ui.appendChild(this.renderFooter()),this.options.showTooltip&&this.ui.appendChild(this.renderTooltip()),this.ui.dataset.plugins=(this.options.plugins||[]).join("|"),this.emit("render",this.ui)},p.prototype.renderMonth=function(g,f){var m=this,y=g.clone(),w=32-new Date(y.getFullYear(),y.getMonth(),32).getDate(),v=document.createElement("div");v.className=l.monthItem;var b=document.createElement("div");b.className=l.monthItemHeader;var T=document.createElement("div");if(this.options.dropdowns.months){var _=document.createElement("select");_.className=l.monthItemName;for(var S=0;S<12;S+=1){var x=document.createElement("option"),E=new c.DateTime(new Date(g.getFullYear(),S,2,0,0,0)),D=new c.DateTime(new Date(g.getFullYear(),S,1,0,0,0));x.value=String(S),x.text=E.toLocaleString(this.options.lang,{month:"long"}),x.disabled=this.options.minDate&&D.isBefore(new c.DateTime(this.options.minDate),"month")||this.options.maxDate&&D.isAfter(new c.DateTime(this.options.maxDate),"month"),x.selected=D.getMonth()===g.getMonth(),_.appendChild(x)}_.addEventListener("change",function(ge){var Et=ge.target,Zt=0;if(m.options.splitView){var ot=Et.closest("."+l.monthItem);Zt=u.findNestedMonthItem(ot)}m.calendars[Zt].setMonth(Number(Et.value)),m.render(),m.emit("change:month",m.calendars[Zt],Zt,ge)}),T.appendChild(_)}else(E=document.createElement("strong")).className=l.monthItemName,E.innerHTML=g.toLocaleString(this.options.lang,{month:"long"}),T.appendChild(E);if(this.options.dropdowns.years){var R=document.createElement("select");R.className=l.monthItemYear;var N=this.options.dropdowns.minYear,$=this.options.dropdowns.maxYear?this.options.dropdowns.maxYear:new Date().getFullYear();for(g.getFullYear()>$&&((x=document.createElement("option")).value=String(g.getFullYear()),x.text=String(g.getFullYear()),x.selected=!0,x.disabled=!0,R.appendChild(x)),S=$;S>=N;S-=1){var x=document.createElement("option"),X=new c.DateTime(new Date(S,0,1,0,0,0));x.value=String(S),x.text=String(S),x.disabled=this.options.minDate&&X.isBefore(new c.DateTime(this.options.minDate),"year")||this.options.maxDate&&X.isAfter(new c.DateTime(this.options.maxDate),"year"),x.selected=g.getFullYear()===S,R.appendChild(x)}if(g.getFullYear()<N&&((x=document.createElement("option")).value=String(g.getFullYear()),x.text=String(g.getFullYear()),x.selected=!0,x.disabled=!0,R.appendChild(x)),this.options.dropdowns.years==="asc"){var W=Array.prototype.slice.call(R.childNodes).reverse();R.innerHTML="",W.forEach(function(ge){ge.innerHTML=ge.value,R.appendChild(ge)})}R.addEventListener("change",function(ge){var Et=ge.target,Zt=0;if(m.options.splitView){var ot=Et.closest("."+l.monthItem);Zt=u.findNestedMonthItem(ot)}m.calendars[Zt].setFullYear(Number(Et.value)),m.render(),m.emit("change:year",m.calendars[Zt],Zt,ge)}),T.appendChild(R)}else{var q=document.createElement("span");q.className=l.monthItemYear,q.innerHTML=String(g.getFullYear()),T.appendChild(q)}var H=document.createElement("button");H.type="button",H.className=l.buttonPreviousMonth,H.innerHTML=this.options.buttonText.previousMonth;var L=document.createElement("button");L.type="button",L.className=l.buttonNextMonth,L.innerHTML=this.options.buttonText.nextMonth,b.appendChild(H),b.appendChild(T),b.appendChild(L),this.options.minDate&&y.isSameOrBefore(new c.DateTime(this.options.minDate),"month")&&v.classList.add(l.noPreviousMonth),this.options.maxDate&&y.isSameOrAfter(new c.DateTime(this.options.maxDate),"month")&&v.classList.add(l.noNextMonth);var se=document.createElement("div");se.className=l.monthItemWeekdaysRow,this.options.showWeekNumbers&&(se.innerHTML="<div>W</div>");for(var ye=1;ye<=7;ye+=1){var Le=3+this.options.firstDay+ye,Be=document.createElement("div");Be.innerHTML=this.weekdayName(Le),Be.title=this.weekdayName(Le,"long"),se.appendChild(Be)}var st=document.createElement("div");st.className=l.containerDays;var dt=this.calcSkipDays(y);this.options.showWeekNumbers&&dt&&st.appendChild(this.renderWeekNumber(y));for(var Ce=0;Ce<dt;Ce+=1){var ft=document.createElement("div");st.appendChild(ft)}for(Ce=1;Ce<=w;Ce+=1)y.setDate(Ce),this.options.showWeekNumbers&&y.getDay()===this.options.firstDay&&st.appendChild(this.renderWeekNumber(y)),st.appendChild(this.renderDay(y));return v.appendChild(b),v.appendChild(se),v.appendChild(st),this.emit("render:month",v,g),v},p.prototype.renderDay=function(g){g.setHours();var f=document.createElement("div");if(f.className=l.dayItem,f.innerHTML=String(g.getDate()),f.dataset.time=String(g.getTime()),g.toDateString()===new Date().toDateString()&&f.classList.add(l.isToday),this.datePicked.length)this.datePicked[0].toDateString()===g.toDateString()&&(f.classList.add(l.isStartDate),this.options.singleMode&&f.classList.add(l.isEndDate)),this.datePicked.length===2&&this.datePicked[1].toDateString()===g.toDateString()&&f.classList.add(l.isEndDate),this.datePicked.length===2&&g.isBetween(this.datePicked[0],this.datePicked[1])&&f.classList.add(l.isInRange);else if(this.options.startDate){var m=this.options.startDate,y=this.options.endDate;m.toDateString()===g.toDateString()&&(f.classList.add(l.isStartDate),this.options.singleMode&&f.classList.add(l.isEndDate)),y&&y.toDateString()===g.toDateString()&&f.classList.add(l.isEndDate),m&&y&&g.isBetween(m,y)&&f.classList.add(l.isInRange)}if(this.options.minDate&&g.isBefore(new c.DateTime(this.options.minDate))&&f.classList.add(l.isLocked),this.options.maxDate&&g.isAfter(new c.DateTime(this.options.maxDate))&&f.classList.add(l.isLocked),this.options.minDays>1&&this.datePicked.length===1){var w=this.options.minDays-1,v=this.datePicked[0].clone().subtract(w,"day"),b=this.datePicked[0].clone().add(w,"day");g.isBetween(v,this.datePicked[0],"(]")&&f.classList.add(l.isLocked),g.isBetween(this.datePicked[0],b,"[)")&&f.classList.add(l.isLocked)}if(this.options.maxDays&&this.datePicked.length===1){var T=this.options.maxDays;v=this.datePicked[0].clone().subtract(T,"day"),b=this.datePicked[0].clone().add(T,"day"),g.isSameOrBefore(v)&&f.classList.add(l.isLocked),g.isSameOrAfter(b)&&f.classList.add(l.isLocked)}return this.options.selectForward&&this.datePicked.length===1&&g.isBefore(this.datePicked[0])&&f.classList.add(l.isLocked),this.options.selectBackward&&this.datePicked.length===1&&g.isAfter(this.datePicked[0])&&f.classList.add(l.isLocked),u.dateIsLocked(g,this.options,this.datePicked)&&f.classList.add(l.isLocked),this.options.highlightedDays.length&&this.options.highlightedDays.filter(function(_){return _ instanceof Array?g.isBetween(_[0],_[1],"[]"):_.isSame(g,"day")}).length&&f.classList.add(l.isHighlighted),f.tabIndex=f.classList.contains("is-locked")?-1:0,this.emit("render:day",f,g),f},p.prototype.renderFooter=function(){var g=document.createElement("div");if(g.className=l.containerFooter,this.options.footerHTML?g.innerHTML=this.options.footerHTML:g.innerHTML=`
      <span class="`+l.previewDateRange+`"></span>
      <button type="button" class="`+l.buttonCancel+'">'+this.options.buttonText.cancel+`</button>
      <button type="button" class="`+l.buttonApply+'">'+this.options.buttonText.apply+`</button>
      `,this.options.singleMode){if(this.datePicked.length===1){var f=this.datePicked[0].format(this.options.format,this.options.lang);g.querySelector("."+l.previewDateRange).innerHTML=f}}else if(this.datePicked.length===1&&g.querySelector("."+l.buttonApply).setAttribute("disabled",""),this.datePicked.length===2){f=this.datePicked[0].format(this.options.format,this.options.lang);var m=this.datePicked[1].format(this.options.format,this.options.lang);g.querySelector("."+l.previewDateRange).innerHTML=""+f+this.options.delimiter+m}return this.emit("render:footer",g),g},p.prototype.renderWeekNumber=function(g){var f=document.createElement("div"),m=g.getWeek(this.options.firstDay);return f.className=l.weekNumber,f.innerHTML=m===53&&g.getMonth()===0?"53 / 1":m,f},p.prototype.renderTooltip=function(){var g=document.createElement("div");return g.className=l.containerTooltip,g},p.prototype.weekdayName=function(g,f){return f===void 0&&(f="short"),new Date(1970,0,g,12,0,0,0).toLocaleString(this.options.lang,{weekday:f})},p.prototype.calcSkipDays=function(g){var f=g.getDay()-this.options.firstDay;return f<0&&(f+=7),f},p}(a.LPCore);s.Calendar=h},function(n,s,r){var i,o=this&&this.__extends||(i=function(d,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var m in f)f.hasOwnProperty(m)&&(g[m]=f[m])})(d,p)},function(d,p){function g(){this.constructor=d}i(d,p),d.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}),a=this&&this.__assign||function(){return(a=Object.assign||function(d){for(var p,g=1,f=arguments.length;g<f;g++)for(var m in p=arguments[g])Object.prototype.hasOwnProperty.call(p,m)&&(d[m]=p[m]);return d}).apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0});var c=r(7),l=r(0),u=r(1),h=function(d){function p(g){var f=d.call(this)||this;f.datePicked=[],f.calendars=[],f.options={element:null,elementEnd:null,parentEl:null,firstDay:1,format:"YYYY-MM-DD",lang:"en-US",delimiter:" - ",numberOfMonths:1,numberOfColumns:1,startDate:null,endDate:null,zIndex:9999,position:"auto",selectForward:!1,selectBackward:!1,splitView:!1,inlineMode:!1,singleMode:!0,autoApply:!0,allowRepick:!1,showWeekNumbers:!1,showTooltip:!0,scrollToDate:!0,mobileFriendly:!0,resetButton:!1,autoRefresh:!1,lockDaysFormat:"YYYY-MM-DD",lockDays:[],disallowLockDaysInRange:!1,lockDaysInclusivity:"[]",highlightedDaysFormat:"YYYY-MM-DD",highlightedDays:[],dropdowns:{minYear:1990,maxYear:null,months:!1,years:!1},buttonText:{apply:"Apply",cancel:"Cancel",previousMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7.919 0l2.748 2.667L5.333 8l5.334 5.333L7.919 16 0 8z" fill-rule="nonzero"/></svg>',nextMonth:'<svg width="11" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.748 16L0 13.333 5.333 8 0 2.667 2.748 0l7.919 8z" fill-rule="nonzero"/></svg>',reset:`<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
        <path d="M0 0h24v24H0z" fill="none"/>
        <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
      </svg>`},tooltipText:{one:"day",other:"days"}},f.options=a(a({},f.options),g.element.dataset),Object.keys(f.options).forEach(function(N){f.options[N]!=="true"&&f.options[N]!=="false"||(f.options[N]=f.options[N]==="true")});var m=a(a({},f.options.dropdowns),g.dropdowns),y=a(a({},f.options.buttonText),g.buttonText),w=a(a({},f.options.tooltipText),g.tooltipText);f.options=a(a({},f.options),g),f.options.dropdowns=a({},m),f.options.buttonText=a({},y),f.options.tooltipText=a({},w),f.options.elementEnd||(f.options.allowRepick=!1),f.options.lockDays.length&&(f.options.lockDays=l.DateTime.convertArray(f.options.lockDays,f.options.lockDaysFormat)),f.options.highlightedDays.length&&(f.options.highlightedDays=l.DateTime.convertArray(f.options.highlightedDays,f.options.highlightedDaysFormat));var v=f.parseInput(),b=v[0],T=v[1];f.options.startDate&&(f.options.singleMode||f.options.endDate)&&(b=new l.DateTime(f.options.startDate,f.options.format,f.options.lang)),b&&f.options.endDate&&(T=new l.DateTime(f.options.endDate,f.options.format,f.options.lang)),b instanceof l.DateTime&&!isNaN(b.getTime())&&(f.options.startDate=b),f.options.startDate&&T instanceof l.DateTime&&!isNaN(T.getTime())&&(f.options.endDate=T),!f.options.singleMode||f.options.startDate instanceof l.DateTime||(f.options.startDate=null),f.options.singleMode||f.options.startDate instanceof l.DateTime&&f.options.endDate instanceof l.DateTime||(f.options.startDate=null,f.options.endDate=null);for(var _=0;_<f.options.numberOfMonths;_+=1){var S=f.options.startDate instanceof l.DateTime?f.options.startDate.clone():new l.DateTime;if(!f.options.startDate&&(_===0||f.options.splitView)){var x=f.options.maxDate?new l.DateTime(f.options.maxDate):null,E=f.options.minDate?new l.DateTime(f.options.minDate):null,D=f.options.numberOfMonths-1;E&&x&&S.isAfter(x)?(S=E.clone()).setDate(1):!E&&x&&S.isAfter(x)&&((S=x.clone()).setDate(1),S.setMonth(S.getMonth()-D))}S.setDate(1),S.setMonth(S.getMonth()+_),f.calendars[_]=S}if(f.options.showTooltip)if(f.options.tooltipPluralSelector)f.pluralSelector=f.options.tooltipPluralSelector;else try{var R=new Intl.PluralRules(f.options.lang);f.pluralSelector=R.select.bind(R)}catch{f.pluralSelector=function($){return Math.abs($)===0?"one":"other"}}return f}return o(p,d),p.add=function(g,f){u.Litepicker.prototype[g]=f},p.prototype.DateTime=function(g,f){return g?new l.DateTime(g,f):new l.DateTime},p.prototype.init=function(){var g=this;this.options.plugins&&this.options.plugins.length&&this.options.plugins.forEach(function(f){u.Litepicker.prototype.hasOwnProperty(f)?u.Litepicker.prototype[f].init.call(g,g):console.warn("Litepicker: plugin «"+f+"» not found.")})},p.prototype.parseInput=function(){var g=this.options.delimiter,f=new RegExp(""+g),m=this.options.element instanceof HTMLInputElement?this.options.element.value.split(g):[];if(this.options.elementEnd){if(this.options.element instanceof HTMLInputElement&&this.options.element.value.length&&this.options.elementEnd instanceof HTMLInputElement&&this.options.elementEnd.value.length)return[new l.DateTime(this.options.element.value,this.options.format),new l.DateTime(this.options.elementEnd.value,this.options.format)]}else if(this.options.singleMode){if(this.options.element instanceof HTMLInputElement&&this.options.element.value.length)return[new l.DateTime(this.options.element.value,this.options.format)]}else if(this.options.element instanceof HTMLInputElement&&f.test(this.options.element.value)&&m.length&&m.length%2==0){var y=m.slice(0,m.length/2).join(g),w=m.slice(m.length/2).join(g);return[new l.DateTime(y,this.options.format),new l.DateTime(w,this.options.format)]}return[]},p.prototype.isShowning=function(){return this.ui&&this.ui.style.display!=="none"},p.prototype.findPosition=function(g){var f=g.getBoundingClientRect(),m=this.ui.getBoundingClientRect(),y=this.options.position.split(" "),w=window.scrollX||window.pageXOffset,v=window.scrollY||window.pageYOffset,b=0,T=0;if(y[0]!=="auto"&&/top|bottom/.test(y[0]))b=f[y[0]]+v,y[0]==="top"&&(b-=m.height);else{b=f.bottom+v;var _=f.bottom+m.height>window.innerHeight,S=f.top+v-m.height>=m.height;_&&S&&(b=f.top+v-m.height)}if(/left|right/.test(y[0])||y[1]&&y[1]!=="auto"&&/left|right/.test(y[1]))T=/left|right/.test(y[0])?f[y[0]]+w:f[y[1]]+w,y[0]!=="right"&&y[1]!=="right"||(T-=m.width);else{T=f.left+w,_=f.left+m.width>window.innerWidth;var x=f.right+w-m.width>=0;_&&x&&(T=f.right+w-m.width)}return{left:T,top:b}},p}(c.EventEmitter);s.LPCore=h},function(n,s,r){var i,o=typeof Reflect=="object"?Reflect:null,a=o&&typeof o.apply=="function"?o.apply:function(w,v,b){return Function.prototype.apply.call(w,v,b)};i=o&&typeof o.ownKeys=="function"?o.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var c=Number.isNaN||function(w){return w!=w};function l(){l.init.call(this)}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function h(w){return w._maxListeners===void 0?l.defaultMaxListeners:w._maxListeners}function d(w,v,b,T){var _,S,x,E;if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);if((S=w._events)===void 0?(S=w._events=Object.create(null),w._eventsCount=0):(S.newListener!==void 0&&(w.emit("newListener",v,b.listener?b.listener:b),S=w._events),x=S[v]),x===void 0)x=S[v]=b,++w._eventsCount;else if(typeof x=="function"?x=S[v]=T?[b,x]:[x,b]:T?x.unshift(b):x.push(b),(_=h(w))>0&&x.length>_&&!x.warned){x.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+x.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=w,D.type=v,D.count=x.length,E=D,console&&console.warn&&console.warn(E)}return w}function p(){for(var w=[],v=0;v<arguments.length;v++)w.push(arguments[v]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,w))}function g(w,v,b){var T={fired:!1,wrapFn:void 0,target:w,type:v,listener:b},_=p.bind(T);return _.listener=b,T.wrapFn=_,_}function f(w,v,b){var T=w._events;if(T===void 0)return[];var _=T[v];return _===void 0?[]:typeof _=="function"?b?[_.listener||_]:[_]:b?function(S){for(var x=new Array(S.length),E=0;E<x.length;++E)x[E]=S[E].listener||S[E];return x}(_):y(_,_.length)}function m(w){var v=this._events;if(v!==void 0){var b=v[w];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function y(w,v){for(var b=new Array(v),T=0;T<v;++T)b[T]=w[T];return b}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(w){if(typeof w!="number"||w<0||c(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");u=w}}),l.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||c(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(w){for(var v=[],b=1;b<arguments.length;b++)v.push(arguments[b]);var T=w==="error",_=this._events;if(_!==void 0)T=T&&_.error===void 0;else if(!T)return!1;if(T){var S;if(v.length>0&&(S=v[0]),S instanceof Error)throw S;var x=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw x.context=S,x}var E=_[w];if(E===void 0)return!1;if(typeof E=="function")a(E,this,v);else{var D=E.length,R=y(E,D);for(b=0;b<D;++b)a(R[b],this,v)}return!0},l.prototype.addListener=function(w,v){return d(this,w,v,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(w,v){return d(this,w,v,!0)},l.prototype.once=function(w,v){if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v);return this.on(w,g(this,w,v)),this},l.prototype.prependOnceListener=function(w,v){if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v);return this.prependListener(w,g(this,w,v)),this},l.prototype.removeListener=function(w,v){var b,T,_,S,x;if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v);if((T=this._events)===void 0)return this;if((b=T[w])===void 0)return this;if(b===v||b.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete T[w],T.removeListener&&this.emit("removeListener",w,b.listener||v));else if(typeof b!="function"){for(_=-1,S=b.length-1;S>=0;S--)if(b[S]===v||b[S].listener===v){x=b[S].listener,_=S;break}if(_<0)return this;_===0?b.shift():function(E,D){for(;D+1<E.length;D++)E[D]=E[D+1];E.pop()}(b,_),b.length===1&&(T[w]=b[0]),T.removeListener!==void 0&&this.emit("removeListener",w,x||v)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(w){var v,b,T;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[w]),this;if(arguments.length===0){var _,S=Object.keys(b);for(T=0;T<S.length;++T)(_=S[T])!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=b[w])=="function")this.removeListener(w,v);else if(v!==void 0)for(T=v.length-1;T>=0;T--)this.removeListener(w,v[T]);return this},l.prototype.listeners=function(w){return f(this,w,!0)},l.prototype.rawListeners=function(w){return f(this,w,!1)},l.listenerCount=function(w,v){return typeof w.listenerCount=="function"?w.listenerCount(v):m.call(w,v)},l.prototype.listenerCount=m,l.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(n,s,r){(s=r(9)(!1)).push([n.i,`:root{--litepicker-container-months-color-bg: #fff;--litepicker-container-months-box-shadow-color: #ddd;--litepicker-footer-color-bg: #fafafa;--litepicker-footer-box-shadow-color: #ddd;--litepicker-tooltip-color-bg: #fff;--litepicker-month-header-color: #333;--litepicker-button-prev-month-color: #9e9e9e;--litepicker-button-next-month-color: #9e9e9e;--litepicker-button-prev-month-color-hover: #2196f3;--litepicker-button-next-month-color-hover: #2196f3;--litepicker-month-width: calc(var(--litepicker-day-width) * 7);--litepicker-month-weekday-color: #9e9e9e;--litepicker-month-week-number-color: #9e9e9e;--litepicker-day-width: 38px;--litepicker-day-color: #333;--litepicker-day-color-hover: #2196f3;--litepicker-is-today-color: #f44336;--litepicker-is-in-range-color: #bbdefb;--litepicker-is-locked-color: #9e9e9e;--litepicker-is-start-color: #fff;--litepicker-is-start-color-bg: #2196f3;--litepicker-is-end-color: #fff;--litepicker-is-end-color-bg: #2196f3;--litepicker-button-cancel-color: #fff;--litepicker-button-cancel-color-bg: #9e9e9e;--litepicker-button-apply-color: #fff;--litepicker-button-apply-color-bg: #2196f3;--litepicker-button-reset-color: #909090;--litepicker-button-reset-color-hover: #2196f3;--litepicker-highlighted-day-color: #333;--litepicker-highlighted-day-color-bg: #ffeb3b}.show-week-numbers{--litepicker-month-width: calc(var(--litepicker-day-width) * 8)}.litepicker{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;font-size:0.8em;display:none}.litepicker button{border:none;background:none}.litepicker .container__main{display:-webkit-box;display:-ms-flexbox;display:flex}.litepicker .container__months{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;background-color:var(--litepicker-container-months-color-bg);border-radius:5px;-webkit-box-shadow:0 0 5px var(--litepicker-container-months-box-shadow-color);box-shadow:0 0 5px var(--litepicker-container-months-box-shadow-color);width:calc(var(--litepicker-month-width) + 10px);-webkit-box-sizing:content-box;box-sizing:content-box}.litepicker .container__months.columns-2{width:calc((var(--litepicker-month-width) * 2) + 20px)}.litepicker .container__months.columns-3{width:calc((var(--litepicker-month-width) * 3) + 30px)}.litepicker .container__months.columns-4{width:calc((var(--litepicker-month-width) * 4) + 40px)}.litepicker .container__months.split-view .month-item-header .button-previous-month,.litepicker .container__months.split-view .month-item-header .button-next-month{visibility:visible}.litepicker .container__months .month-item{padding:5px;width:var(--litepicker-month-width);-webkit-box-sizing:content-box;box-sizing:content-box}.litepicker .container__months .month-item-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-weight:500;padding:10px 5px;text-align:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--litepicker-month-header-color)}.litepicker .container__months .month-item-header div{-webkit-box-flex:1;-ms-flex:1;flex:1}.litepicker .container__months .month-item-header div>.month-item-name{margin-right:5px}.litepicker .container__months .month-item-header div>.month-item-year{padding:0}.litepicker .container__months .month-item-header .reset-button{color:var(--litepicker-button-reset-color)}.litepicker .container__months .month-item-header .reset-button>svg{fill:var(--litepicker-button-reset-color)}.litepicker .container__months .month-item-header .reset-button *{pointer-events:none}.litepicker .container__months .month-item-header .reset-button:hover{color:var(--litepicker-button-reset-color-hover)}.litepicker .container__months .month-item-header .reset-button:hover>svg{fill:var(--litepicker-button-reset-color-hover)}.litepicker .container__months .month-item-header .button-previous-month,.litepicker .container__months .month-item-header .button-next-month{visibility:hidden;text-decoration:none;padding:3px 5px;border-radius:3px;-webkit-transition:color 0.3s, border 0.3s;transition:color 0.3s, border 0.3s;cursor:default}.litepicker .container__months .month-item-header .button-previous-month *,.litepicker .container__months .month-item-header .button-next-month *{pointer-events:none}.litepicker .container__months .month-item-header .button-previous-month{color:var(--litepicker-button-prev-month-color)}.litepicker .container__months .month-item-header .button-previous-month>svg,.litepicker .container__months .month-item-header .button-previous-month>img{fill:var(--litepicker-button-prev-month-color)}.litepicker .container__months .month-item-header .button-previous-month:hover{color:var(--litepicker-button-prev-month-color-hover)}.litepicker .container__months .month-item-header .button-previous-month:hover>svg{fill:var(--litepicker-button-prev-month-color-hover)}.litepicker .container__months .month-item-header .button-next-month{color:var(--litepicker-button-next-month-color)}.litepicker .container__months .month-item-header .button-next-month>svg,.litepicker .container__months .month-item-header .button-next-month>img{fill:var(--litepicker-button-next-month-color)}.litepicker .container__months .month-item-header .button-next-month:hover{color:var(--litepicker-button-next-month-color-hover)}.litepicker .container__months .month-item-header .button-next-month:hover>svg{fill:var(--litepicker-button-next-month-color-hover)}.litepicker .container__months .month-item-weekdays-row{display:-webkit-box;display:-ms-flexbox;display:flex;justify-self:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;color:var(--litepicker-month-weekday-color)}.litepicker .container__months .month-item-weekdays-row>div{padding:5px 0;font-size:85%;-webkit-box-flex:1;-ms-flex:1;flex:1;width:var(--litepicker-day-width);text-align:center}.litepicker .container__months .month-item:first-child .button-previous-month{visibility:visible}.litepicker .container__months .month-item:last-child .button-next-month{visibility:visible}.litepicker .container__months .month-item.no-previous-month .button-previous-month{visibility:hidden}.litepicker .container__months .month-item.no-next-month .button-next-month{visibility:hidden}.litepicker .container__days{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-self:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:center;-webkit-box-sizing:content-box;box-sizing:content-box}.litepicker .container__days>div,.litepicker .container__days>a{padding:5px 0;width:var(--litepicker-day-width)}.litepicker .container__days .day-item{color:var(--litepicker-day-color);text-align:center;text-decoration:none;border-radius:3px;-webkit-transition:color 0.3s, border 0.3s;transition:color 0.3s, border 0.3s;cursor:default}.litepicker .container__days .day-item:hover{color:var(--litepicker-day-color-hover);-webkit-box-shadow:inset 0 0 0 1px var(--litepicker-day-color-hover);box-shadow:inset 0 0 0 1px var(--litepicker-day-color-hover)}.litepicker .container__days .day-item.is-today{color:var(--litepicker-is-today-color)}.litepicker .container__days .day-item.is-locked{color:var(--litepicker-is-locked-color)}.litepicker .container__days .day-item.is-locked:hover{color:var(--litepicker-is-locked-color);-webkit-box-shadow:none;box-shadow:none;cursor:default}.litepicker .container__days .day-item.is-in-range{background-color:var(--litepicker-is-in-range-color);border-radius:0}.litepicker .container__days .day-item.is-start-date{color:var(--litepicker-is-start-color);background-color:var(--litepicker-is-start-color-bg);border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:0;border-bottom-right-radius:0}.litepicker .container__days .day-item.is-start-date.is-flipped{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:5px;border-bottom-right-radius:5px}.litepicker .container__days .day-item.is-end-date{color:var(--litepicker-is-end-color);background-color:var(--litepicker-is-end-color-bg);border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:5px;border-bottom-right-radius:5px}.litepicker .container__days .day-item.is-end-date.is-flipped{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:0;border-bottom-right-radius:0}.litepicker .container__days .day-item.is-start-date.is-end-date{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px}.litepicker .container__days .day-item.is-highlighted{color:var(--litepicker-highlighted-day-color);background-color:var(--litepicker-highlighted-day-color-bg)}.litepicker .container__days .week-number{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:var(--litepicker-month-week-number-color);font-size:85%}.litepicker .container__footer{text-align:right;padding:10px 5px;margin:0 5px;background-color:var(--litepicker-footer-color-bg);-webkit-box-shadow:inset 0px 3px 3px 0px var(--litepicker-footer-box-shadow-color);box-shadow:inset 0px 3px 3px 0px var(--litepicker-footer-box-shadow-color);border-bottom-left-radius:5px;border-bottom-right-radius:5px}.litepicker .container__footer .preview-date-range{margin-right:10px;font-size:90%}.litepicker .container__footer .button-cancel{background-color:var(--litepicker-button-cancel-color-bg);color:var(--litepicker-button-cancel-color);border:0;padding:3px 7px 4px;border-radius:3px}.litepicker .container__footer .button-cancel *{pointer-events:none}.litepicker .container__footer .button-apply{background-color:var(--litepicker-button-apply-color-bg);color:var(--litepicker-button-apply-color);border:0;padding:3px 7px 4px;border-radius:3px;margin-left:10px;margin-right:10px}.litepicker .container__footer .button-apply:disabled{opacity:0.7}.litepicker .container__footer .button-apply *{pointer-events:none}.litepicker .container__tooltip{position:absolute;margin-top:-4px;padding:4px 8px;border-radius:4px;background-color:var(--litepicker-tooltip-color-bg);-webkit-box-shadow:0 1px 3px rgba(0,0,0,0.25);box-shadow:0 1px 3px rgba(0,0,0,0.25);white-space:nowrap;font-size:11px;pointer-events:none;visibility:hidden}.litepicker .container__tooltip:before{position:absolute;bottom:-5px;left:calc(50% - 5px);border-top:5px solid rgba(0,0,0,0.12);border-right:5px solid transparent;border-left:5px solid transparent;content:""}.litepicker .container__tooltip:after{position:absolute;bottom:-4px;left:calc(50% - 4px);border-top:4px solid var(--litepicker-tooltip-color-bg);border-right:4px solid transparent;border-left:4px solid transparent;content:""}
`,""]),s.locals={showWeekNumbers:"show-week-numbers",litepicker:"litepicker",containerMain:"container__main",containerMonths:"container__months",columns2:"columns-2",columns3:"columns-3",columns4:"columns-4",splitView:"split-view",monthItemHeader:"month-item-header",buttonPreviousMonth:"button-previous-month",buttonNextMonth:"button-next-month",monthItem:"month-item",monthItemName:"month-item-name",monthItemYear:"month-item-year",resetButton:"reset-button",monthItemWeekdaysRow:"month-item-weekdays-row",noPreviousMonth:"no-previous-month",noNextMonth:"no-next-month",containerDays:"container__days",dayItem:"day-item",isToday:"is-today",isLocked:"is-locked",isInRange:"is-in-range",isStartDate:"is-start-date",isFlipped:"is-flipped",isEndDate:"is-end-date",isHighlighted:"is-highlighted",weekNumber:"week-number",containerFooter:"container__footer",previewDateRange:"preview-date-range",buttonCancel:"button-cancel",buttonApply:"button-apply",containerTooltip:"container__tooltip"},n.exports=s},function(n,s,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(a){var c=function(l,u){var h=l[1]||"",d=l[3];if(!d)return h;if(u&&typeof btoa=="function"){var p=(f=d,m=btoa(unescape(encodeURIComponent(JSON.stringify(f)))),y="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(m),"/*# ".concat(y," */")),g=d.sources.map(function(w){return"/*# sourceURL=".concat(d.sourceRoot||"").concat(w," */")});return[h].concat(g).concat([p]).join(`
`)}var f,m,y;return[h].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(c,"}"):c}).join("")},o.i=function(a,c,l){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(l)for(var h=0;h<this.length;h++){var d=this[h][0];d!=null&&(u[d]=!0)}for(var p=0;p<a.length;p++){var g=[].concat(a[p]);l&&u[g[0]]||(c&&(g[2]?g[2]="".concat(c," and ").concat(g[2]):g[2]=c),o.push(g))}},o}},function(n,s,r){var i,o={},a=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},c=function(){var v={};return function(b){if(v[b]===void 0){var T=document.querySelector(b);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[b]=T}return v[b]}}();function l(v,b){for(var T=[],_={},S=0;S<v.length;S++){var x=v[S],E=b.base?x[0]+b.base:x[0],D={css:x[1],media:x[2],sourceMap:x[3]};_[E]?_[E].parts.push(D):T.push(_[E]={id:E,parts:[D]})}return T}function u(v,b){for(var T=0;T<v.length;T++){var _=v[T],S=o[_.id],x=0;if(S){for(S.refs++;x<S.parts.length;x++)S.parts[x](_.parts[x]);for(;x<_.parts.length;x++)S.parts.push(w(_.parts[x],b))}else{for(var E=[];x<_.parts.length;x++)E.push(w(_.parts[x],b));o[_.id]={id:_.id,refs:1,parts:E}}}}function h(v){var b=document.createElement("style");if(v.attributes.nonce===void 0){var T=r.nc;T&&(v.attributes.nonce=T)}if(Object.keys(v.attributes).forEach(function(S){b.setAttribute(S,v.attributes[S])}),typeof v.insert=="function")v.insert(b);else{var _=c(v.insert||"head");if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");_.appendChild(b)}return b}var d,p=(d=[],function(v,b){return d[v]=b,d.filter(Boolean).join(`
`)});function g(v,b,T,_){var S=T?"":_.css;if(v.styleSheet)v.styleSheet.cssText=p(b,S);else{var x=document.createTextNode(S),E=v.childNodes;E[b]&&v.removeChild(E[b]),E.length?v.insertBefore(x,E[b]):v.appendChild(x)}}function f(v,b,T){var _=T.css,S=T.media,x=T.sourceMap;if(S&&v.setAttribute("media",S),x&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),v.styleSheet)v.styleSheet.cssText=_;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(_))}}var m=null,y=0;function w(v,b){var T,_,S;if(b.singleton){var x=y++;T=m||(m=h(b)),_=g.bind(null,T,x,!1),S=g.bind(null,T,x,!0)}else T=h(b),_=f.bind(null,T,b),S=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(T)};return _(v),function(E){if(E){if(E.css===v.css&&E.media===v.media&&E.sourceMap===v.sourceMap)return;_(v=E)}else S()}}n.exports=function(v,b){(b=b||{}).attributes=typeof b.attributes=="object"?b.attributes:{},b.singleton||typeof b.singleton=="boolean"||(b.singleton=a());var T=l(v,b);return u(T,b),function(_){for(var S=[],x=0;x<T.length;x++){var E=T[x],D=o[E.id];D&&(D.refs--,S.push(D))}_&&u(l(_,b),b);for(var R=0;R<S.length;R++){var N=S[R];if(N.refs===0){for(var $=0;$<N.parts.length;$++)N.parts[$]();delete o[N.id]}}}}},function(n,s,r){var i=this&&this.__assign||function(){return(i=Object.assign||function(l){for(var u,h=1,d=arguments.length;h<d;h++)for(var p in u=arguments[h])Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p]);return l}).apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0});var o=r(0),a=r(1),c=r(2);a.Litepicker.prototype.show=function(l){l===void 0&&(l=null),this.emit("before:show",l);var u=l||this.options.element;if(this.triggerElement=u,!this.isShowning()){if(this.options.inlineMode)return this.ui.style.position="relative",this.ui.style.display="inline-block",this.ui.style.top=null,this.ui.style.left=null,this.ui.style.bottom=null,void(this.ui.style.right=null);this.scrollToDate(l),this.render(),this.ui.style.position="absolute",this.ui.style.display="block",this.ui.style.zIndex=this.options.zIndex;var h=this.findPosition(u);this.ui.style.top=h.top+"px",this.ui.style.left=h.left+"px",this.ui.style.right=null,this.ui.style.bottom=null,this.emit("show",l)}},a.Litepicker.prototype.hide=function(){this.isShowning()&&(this.datePicked.length=0,this.updateInput(),this.options.inlineMode?this.render():(this.ui.style.display="none",this.emit("hide")))},a.Litepicker.prototype.getDate=function(){return this.getStartDate()},a.Litepicker.prototype.getStartDate=function(){return this.options.startDate?this.options.startDate.clone():null},a.Litepicker.prototype.getEndDate=function(){return this.options.endDate?this.options.endDate.clone():null},a.Litepicker.prototype.setDate=function(l,u){u===void 0&&(u=!1);var h=new o.DateTime(l,this.options.format,this.options.lang);c.dateIsLocked(h,this.options,[h])&&!u?this.emit("error:date",h):(this.setStartDate(l),this.options.inlineMode&&this.render(),this.emit("selected",this.getDate()))},a.Litepicker.prototype.setStartDate=function(l){l&&(this.options.startDate=new o.DateTime(l,this.options.format,this.options.lang),this.updateInput())},a.Litepicker.prototype.setEndDate=function(l){l&&(this.options.endDate=new o.DateTime(l,this.options.format,this.options.lang),this.options.startDate.getTime()>this.options.endDate.getTime()&&(this.options.endDate=this.options.startDate.clone(),this.options.startDate=new o.DateTime(l,this.options.format,this.options.lang)),this.updateInput())},a.Litepicker.prototype.setDateRange=function(l,u,h){h===void 0&&(h=!1),this.triggerElement=void 0;var d=new o.DateTime(l,this.options.format,this.options.lang),p=new o.DateTime(u,this.options.format,this.options.lang);(this.options.disallowLockDaysInRange?c.rangeIsLocked([d,p],this.options):c.dateIsLocked(d,this.options,[d,p])||c.dateIsLocked(p,this.options,[d,p]))&&!h?this.emit("error:range",[d,p]):(this.setStartDate(d),this.setEndDate(p),this.options.inlineMode&&this.render(),this.updateInput(),this.emit("selected",this.getStartDate(),this.getEndDate()))},a.Litepicker.prototype.gotoDate=function(l,u){u===void 0&&(u=0);var h=new o.DateTime(l);h.setDate(1),this.calendars[u]=h.clone(),this.render()},a.Litepicker.prototype.setLockDays=function(l){this.options.lockDays=o.DateTime.convertArray(l,this.options.lockDaysFormat),this.render()},a.Litepicker.prototype.setHighlightedDays=function(l){this.options.highlightedDays=o.DateTime.convertArray(l,this.options.highlightedDaysFormat),this.render()},a.Litepicker.prototype.setOptions=function(l){delete l.element,delete l.elementEnd,delete l.parentEl,l.startDate&&(l.startDate=new o.DateTime(l.startDate,this.options.format,this.options.lang)),l.endDate&&(l.endDate=new o.DateTime(l.endDate,this.options.format,this.options.lang));var u=i(i({},this.options.dropdowns),l.dropdowns),h=i(i({},this.options.buttonText),l.buttonText),d=i(i({},this.options.tooltipText),l.tooltipText);this.options=i(i({},this.options),l),this.options.dropdowns=i({},u),this.options.buttonText=i({},h),this.options.tooltipText=i({},d),!this.options.singleMode||this.options.startDate instanceof o.DateTime||(this.options.startDate=null,this.options.endDate=null),this.options.singleMode||this.options.startDate instanceof o.DateTime&&this.options.endDate instanceof o.DateTime||(this.options.startDate=null,this.options.endDate=null);for(var p=0;p<this.options.numberOfMonths;p+=1){var g=this.options.startDate?this.options.startDate.clone():new o.DateTime;g.setDate(1),g.setMonth(g.getMonth()+p),this.calendars[p]=g}this.options.lockDays.length&&(this.options.lockDays=o.DateTime.convertArray(this.options.lockDays,this.options.lockDaysFormat)),this.options.highlightedDays.length&&(this.options.highlightedDays=o.DateTime.convertArray(this.options.highlightedDays,this.options.highlightedDaysFormat)),this.render(),this.options.inlineMode&&this.show(),this.updateInput()},a.Litepicker.prototype.clearSelection=function(){this.options.startDate=null,this.options.endDate=null,this.datePicked.length=0,this.updateInput(),this.isShowning()&&this.render(),this.emit("clear:selection")},a.Litepicker.prototype.destroy=function(){this.ui&&this.ui.parentNode&&(this.ui.parentNode.removeChild(this.ui),this.ui=null),this.emit("destroy")}}])})})(DA);var Z$=DA.exports;const Q$=On(Z$),X$=vs({__name:"SfDateRangeInput",props:{startDate:{},endDate:{}},emits:["dateSelected"],setup(t,{emit:e}){const n=t,s=e,r=Tt(),i=Tt(0),o=Re(()=>pl().getTime()),a=Re(()=>n.startDate),c=Re(()=>n.endDate-He.Day),l=Tt();tn([a,c],(d,p)=>{var g,f;(g=l.value)==null||g.setStartDate(d),(f=l.value)==null||f.setEndDate(p)}),tn([i,o],([d,p])=>{var g;(g=l.value)==null||g.setOptions({minDate:d,maxDate:p})});const u=Re(()=>({element:r.value,singleMode:!1,inlineMode:!0,startDate:a.value,endDate:c.value,minDate:i.value,maxDate:o.value}));function h(){l.value=new Q$(u.value),l.value.addListener("selected",(d,p)=>{const g=d.dateInstance.getTime(),f=p.dateInstance.getTime()+He.Day;s("dateSelected",g,f)})}return ha(h),xc(()=>{setTimeout(()=>{var d;return(d=l.value)==null?void 0:d.destroy()},200)}),(d,p)=>(rt(),Wt("div",{ref_key:"input",ref:r,class:"select-none"},null,512))}}),J$={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function eH(t,e){return rt(),Wt("svg",J$,e[0]||(e[0]=[Ie("path",{fill:"currentColor",d:"M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12z"},null,-1)]))}const tH={name:"mdi-content-copy",render:eH},nH={class:"text-sm text-white"},sH=vs({__name:"CopyButton",props:{value:{},tooltipPosition:{default:"right"}},setup(t){const e=t,n=IT(()=>{s.value=!1},3*He.Second,{immediate:!1}),s=Tt(!1);function r(){navigator.clipboard.writeText(e.value),s.value=!0,n.start()}return(i,o)=>(rt(),Wt("button",{class:"relative clickable p-2 z-10 min-w-10 min-h-10",onClick:r},[jt(me(tH),{class:"h-6 w-6"}),me(s)?(rt(),Wt("div",{key:0,class:oi(["absolute bg-success rounded-lg px-2 py-1 text-center",{"top-full left-[50%] translate-x-[-50%]":i.tooltipPosition==="bottom","left-full top-[50%] translate-y-[-50%]":i.tooltipPosition==="right"}])},[Ie("p",nH,Bt(("t"in i?i.t:me(Je))("copied")),1),Ie("span",{class:oi(["w-0 h-0 absolute border-success",{"top-[-6px] left-[50%] translate-x-[-50%] border-x-[6px] border-b-[6px] border-x-transparent":i.tooltipPosition==="bottom","left-[-6px] top-[50%] translate-y-[-50%] border-y-[6px] border-r-[6px] border-y-transparent":i.tooltipPosition==="right"}])},null,2)],2)):Or("",!0)]))}}),rH={class:"m-auto w-[40vw]"},iH={class:"mt-0"},oH={class:"flex items-center justify-center"},aH={class:"text-xl my-2 font-medium truncate"},cH=vs({__name:"BlockedUrl",props:{url:{}},setup(t){const e=t,n=Re(()=>{let s=e.url.replace(/(^\w+:|^)\/\//,"");return s.endsWith("/")&&(s=s.slice(0,-1)),s});return(s,r)=>{const i=sH;return rt(),Wt("div",rH,[Ie("p",iH,Bt(("t"in s?s.t:me(Je))("blockedWebsite")),1),Ie("div",oH,[Ie("p",aH,Bt(me(n)),1),jt(i,{class:"inline-block",value:me(n)},null,8,["value"])])])}}});function lH(t=!1){const e={startDate:pl().getTime(),endDate:vP().getTime()},n=t?HT("range",e):Tt(e);function s(o){const a=new Date(o);return`${a.getMonth()+1}/${a.getDate()}/${a.getFullYear()}`}const r=Re(()=>s(n.value.startDate)),i=Re(()=>{const o=pl().getTime(),a=n.value.endDate-He.Day;return Vp(o,a)?Je("today"):s(a)});return{range:n,formattedStartDate:r,formattedEndDate:i}}const uH={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function dH(t,e){return rt(),Wt("svg",uH,e[0]||(e[0]=[Ie("path",{fill:"currentColor",d:"M9 10H7v2h2zm4 0h-2v2h2zm4 0h-2v2h2zm2-7h-1V1h-2v2H8V1H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m0 16H5V8h14z"},null,-1)]))}const hH={name:"mdi-calendar-range",render:dH},fH={class:"flex flex-col m-5 p-5"},pH={class:"tabs tabs-boxed w-full"},gH={class:"h-[430px]"},mH={key:0},yH={class:"mt-4 mb-3 text-center"},bH={class:"inline-block font-bold text-base"},vH={class:"inline-block align-middle"},wH=["title"],_H={class:"text-xs"},xH={class:"flex flex-col bg-base-100"},AH={key:1,class:"w-full h-[300px] p-4 flex flex-col gap-3 justify-center"},SH={class:"form-control"},TH={class:"cursor-pointer label justify-start mt-2",id:"blockAllSitesForGuide"},kH={class:"label-text"},EH={class:"ml-1 text-left"},MH={key:1},DH=["href"],CH=vs({__name:"BlockedStatistics",setup(t){const e=Tt($n.Duration),n=fh.Blocked,s=Tt(0),r=Tt(),{deviceGroup:i}=Cg(Og()),{state:o}=Tl(aI),{state:a}=Tl(oI),c=Re(()=>{var D,R;if(a.value&&((D=o.value)!=null&&D.has(a.value)))return(R=o.value)==null?void 0:R.get(a.value)});tn(r,D=>{e.value=D?$n.Ads:$n.Duration});const{range:l,formattedStartDate:u,formattedEndDate:h}=lH(),{summary:d,totalAdCount:p,totalSessionCount:g,totalDuration:f,isFetching:m}=JL(l,my(n),e,i),y=Re(()=>s.value==0),w=Re(()=>s.value==1);function v(D){s.value=D}const b=Tt(!1);function T(){b.value=!b.value}function _(){b.value=!1}function S(D,R){l.value={startDate:D,endDate:R},_()}const{state:x}=Tl(yl);function E(D){return D.startsWith("http")?D:D=`https://${D}`}return(D,R)=>{const N=cH,$=X$,X=K$,W=EA,q=q$;return rt(),Wt("div",fH,[me(c)?(rt(),js(N,{key:0,url:me(c)},null,8,["url"])):Or("",!0),Ie("div",pH,[Ie("a",{class:oi(["tab",{"tab-active":me(y)}]),onClick:R[0]||(R[0]=H=>v(0))},Bt(("t"in D?D.t:me(Je))("blockedWebsites")),3),Ie("a",{class:oi(["tab",{"tab-active":me(w)}]),onClick:R[1]||(R[1]=H=>v(1))},Bt(("t"in D?D.t:me(Je))("allowedWebsites")),3)]),Ie("div",gH,[me(y)?(rt(),Wt("div",mH,[Ie("div",yH,[Ie("p",bH,Bt(("t"in D?D.t:me(Je))("spentTimeOnBlockedSites")),1),Ie("div",vH,[Ie("button",{class:"btn btn-primary btn-outline border items-center space-x-1 ms-2 pl-4 pr-1.5 py-1.5 text-lg font-medium text-primary select-none cursor-pointer bg-primary bg-opacity-0 hover:bg-opacity-hover active:bg-opacity-active transition-all",title:("t"in D?D.t:me(Je))("selectDateRange"),onClick:T},[Ie("span",_H,[R[3]||(R[3]=Ie("span",{class:"ml-1"},null,-1)),Mc(Bt(me(u))+" ",1),R[4]||(R[4]=Ie("span",null,"-",-1)),R[5]||(R[5]=Ie("br",null,null,-1)),Mc(" "+Bt(me(h)),1)]),jt(me(hH),{class:"h-5 w-5"})],8,wH),jt(X,{visible:me(b),class:"float-right",onDismiss:_},{default:Pf(()=>[Ie("div",xH,[jt($,{"start-date":me(l).startDate,"end-date":me(l).endDate,onDateSelected:S},null,8,["start-date","end-date"])])]),_:1},8,["visible"])])]),me(m)?(rt(),js(W,{key:0,class:"h-72"})):(rt(),Wt("div",AH,[jt(q,{"usage-summary":me(d),"ad-count":me(p),"sessions-count":me(g),duration:me(f),source:me(e),range:me(l),"website-type":me(n)},null,8,["usage-summary","ad-count","sessions-count","duration","source","range","website-type"])])),Ie("div",SH,[Ie("label",TH,[If(Ie("input",{type:"checkbox","onUpdate:modelValue":R[2]||(R[2]=H=>ht(r)?r.value=H:null),"data-testid":"blockAllSites",class:"checkbox checkbox-sm checkbox-primary mr-2"},null,512),[[bT,me(r)]]),Ie("span",kH,Bt(("t"in D?D.t:me(Je))("showAdCount")),1)]),Ie("p",EH,[Ie("small",null,Bt(("t"in D?D.t:me(Je))("showAdCountDescription")),1)])])])):Or("",!0),me(w)?(rt(),Wt("div",MH,[Ie("div",null,[(rt(!0),Wt(Ln,null,tS(me(x),H=>(rt(),Wt("ul",{class:"list-disc text-left m-4",key:H},[Ie("li",null,[Ie("a",{class:"link link-primary link-hover",href:E(H)},Bt(H),9,DH)])]))),128))])])):Or("",!0)])])}}}),OH={matches:["https://www.stayfocusd.com/blocked"],runAt:"document_end",async main(){var t;try{tp("Loaded blocked-statistics.cs.ts");const n=await TN({name:"stayfocusd-overlay",mode:"open",css:{url:Qi.runtime.getURL("/content-scripts/blocked-statistics.css")}});n.isolatedElement.style.border="none",n.isolatedElement.style.background="rgb(255 255 255 / 50%)",n.isolatedElement.style.boxShadow="0 3px 8px rgba(0, 0, 0, 0.24)",n.isolatedElement.style.borderRadius="14px";const s=document.getElementById("msg");s!=null?(PH(s),s.insertAdjacentElement("afterend",n.parentElement)):(t=document.body)==null||t.appendChild(n.parentElement);const r={queryClientConfig:{defaultOptions:{queries:{retry:!1}}}};_T(CH).use(zL()).provide(Xf.Stayfocusd,cN()).use(FL,r).mount(n.isolatedElement),gh.page(Qi.runtime.getURL("/content-scripts/blocked-statistics.js")),gh.autoTrack(n.isolatedElement)}catch(e){Kb("[blocked-statistics] Error starting up script",e)}}};async function PH(t){const e=await gI.getValue();e&&(t.style.width="800px",t.innerText=e)}function oW(){}function Qh(t,...e){}const IH={debug:(...t)=>Qh(console.debug,...t),log:(...t)=>Qh(console.log,...t),warn:(...t)=>Qh(console.warn,...t),error:(...t)=>Qh(console.error,...t)};return(async()=>{try{const{main:t,...e}=OH,n=new Fg("blocked-statistics",e);return await t(n)}catch(t){throw IH.error('The content script "blocked-statistics" crashed on startup!',t),t}})()}();
blockedStatistics;
