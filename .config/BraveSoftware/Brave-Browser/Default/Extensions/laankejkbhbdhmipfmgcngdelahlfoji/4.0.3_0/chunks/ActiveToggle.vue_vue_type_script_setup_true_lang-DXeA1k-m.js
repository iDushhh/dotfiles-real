import{an as b,aE as m,av as a,ac as v,aF as E,aG as y,ad as n,cq as Y,aT as d,Z as I,cr as z,ah as f,ak as x,aq as h,at as S,ay as u,G as i,ao as O,aM as C,aN as $,cs as U,ct as H,L as j,au as A,h as B,ax as k,aH as D,cu as q}from"./_virtual_wxt-plugins-DZjI-rY3.js";import{f as G,b as K,d as X}from"./tailwind-Be1c9XZh.js";import{a as W,s as Z}from"./birth-year-prompt-utils-BLD6wE-E.js";import{g as J}from"./extension-url-B8Q1y1nE.js";const Q={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function ee(l,t){return m(),b("svg",Q,t[0]||(t[0]=[a("path",{fill:"currentColor",d:"M13.46 12L19 17.54V19h-1.46L12 13.46L6.46 19H5v-1.46L10.54 12L5 6.46V5h1.46L12 10.54L17.54 5H19v1.46z"},null,-1)]))}const te={name:"mdi-window-close",render:ee},se={class:"relative sm:fixed sm:rounded-t-lg sm:border-t sm:border-l sm:border-r border-base-300 sm:border-solid left-0 right-0 bottom-0 bg-base-200 md:w-[70%] mx-auto inline-flex sm:items-center justify-center flex-col sm:flex-row gap-3 p-3 w-full"},L=v({__name:"PromptContainer",emits:["clickDismiss"],setup(l,{emit:t}){const s=t;return(e,o)=>(m(),b("div",se,[E(e.$slots,"body"),y(n(te),{width:"20",class:"btn-close absolute right-2 cursor-pointer","data-testid":"close-prompting",onClick:o[0]||(o[0]=r=>s("clickDismiss"))})]))}}),P=Y("prompt-birth-year",()=>{const{state:l}=d(I),{state:t}=d(z),s=f(()=>l.value==null&&t.value&&t.value<=Date.now());async function e(){await W()}function o(r){l.value=r}return{isVisible:s,dismiss:e,submitAge:o}}),ie={"data-testid":"prompting-birth-year"},ne={class:"prompt-description text-sm text-base-content"},oe={class:"input-block flex gap-2 sm:items-center"},ae={class:"prompt-title text-sm font-bold",for:"birthYear"},re=["data-tip"],le=v({__name:"PromptBirthYear",setup(l){const t=P(),s=x(),e=x(),o=f(()=>!e.value),r=f(()=>!s.value),p=f(()=>!r.value&&new Date().getFullYear()-s.value<100),V=f(()=>!r.value&&s.value<new Date().getFullYear());function R(c){e.value=void 0,c.target.value.length>4&&(s.value=c.target.value.slice(0,-1)),c.target.value.length==4&&_()}function _(){return r.value?(e.value=i("birthYearErrorsNan"),!1):s.value<1e3?(e.value=i("birthYearErrorsLength"),!1):p.value?V.value?!0:(e.value=i("birthYearErrorsAgeMin"),!1):(e.value=i("birthYearErrorsAgeMax"),!1)}function g(){_()&&s.value&&t.submitAge(s.value)}async function M(){await t.dismiss()}return(c,w)=>{const T=L;return m(),h(T,{onClickDismiss:M},{body:S(()=>[a("div",ie,[a("p",ne,u(("t"in c?c.t:n(i))("askBirthYearTitle")),1),a("div",oe,[a("label",ae,u(("t"in c?c.t:n(i))("askBirthYear")),1),a("div",{class:O(["tooltip-open tooltip-error",{tooltip:!n(o)}]),"data-tip":n(e)},[C(a("input",{type:"number",class:"prompt-input input input-bordered input-xs w-24",maxlength:"4",placeholder:"YYYY","onUpdate:modelValue":w[0]||(w[0]=F=>$(s)?s.value=F:null),onInput:R,onKeyup:G(g,["enter"])},null,544),[[K,n(s)]])],10,re),a("button",{class:"btn-submit btn btn-primary btn-xs",onClick:g},u(("t"in c?c.t:n(i))("submit")),1)])])]),_:1})}}}),N=Y("prompt-review",()=>{const{state:l}=d(U),{state:t}=d(H),s=f(()=>!l.value&&t.value&&t.value<=Date.now());async function e(){await Z()}function o(){l.value=!0,window.open(j.ReviewLink)}return{isVisible:s,dismiss:e,submitReview:o}}),ce={"data-testid":"prompting-review"},ue={class:"prompt-title text-sm"},me=v({__name:"PromptReview",setup(l){const t=N();async function s(){await t.dismiss()}return(e,o)=>{const r=L;return m(),h(r,{onClickDismiss:s},{body:S(()=>[a("div",ce,[a("strong",ue,u(("t"in e?e.t:n(i))("reviewExtensionAsk")),1),a("button",{class:"btn-submit btn btn-primary btn-outline btn-xs ms-3",onClick:o[0]||(o[0]=(...p)=>n(t).submitReview&&n(t).submitReview(...p))},u(("t"in e?e.t:n(i))("reviewExtensionPrompt")),1)])]),_:1})}}}),Ce=v({__name:"Prompts",setup(l){const t=N(),s=P();return(e,o)=>{const r=me,p=le;return n(t).isVisible?(m(),h(r,{key:0})):n(s).isVisible?(m(),h(p,{key:1})):A("",!0)}}}),pe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function de(l,t){return m(),b("svg",pe,t[0]||(t[0]=[a("path",{fill:"currentColor",d:"m16.56 5.44l-1.45 1.45A5.97 5.97 0 0 1 18 12a6 6 0 0 1-6 6a6 6 0 0 1-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 5.44A7.96 7.96 0 0 0 4 12a8 8 0 0 0 8 8a8 8 0 0 0 8-8c0-2.72-1.36-5.12-3.44-6.56M13 3h-2v10h2"},null,-1)]))}const fe={name:"mdi-power",render:de},ve={class:"p-5 flex flex-col"},be={class:"flex flex-col items-center justify-center h-full"},he={class:"text-base-content font-semibold text-base"},_e={class:"my-0 text-info"},ge={class:"text-center overflow-hidden"},we=["href"],$e=v({__name:"PopupDeactivated",setup(l){const{state:t}=d(B);function s(){t.value=!0,D.track("ENABLE_EXTENSION")}return(e,o)=>(m(),b("div",ve,[a("div",be,[a("p",he,u(("t"in e?e.t:n(i))("deactivated")),1),a("p",_e,u(("t"in e?e.t:n(i))("clickToEnable")),1),y(n(fe),{class:"h-16 w-16 cursor-pointer hover:text-primary",onClick:o[0]||(o[0]=r=>s())})]),a("p",ge,[k(u(("t"in e?e.t:n(i))("visitCustomize1"))+" ",1),a("a",{class:"clickable link link-secondary",href:("getOptionsPage"in e?e.getOptionsPage:n(J))("settings"),onClick:o[1]||(o[1]=r=>s()),target:"_blank"},u(("t"in e?e.t:n(i))("visitCustomize2")),9,we),k(" "+u(("t"in e?e.t:n(i))("visitCustomize3")),1)])]))}});function xe(){return!confirm(i("areYouSure"))||!confirm(i("disableExtension1"))||!confirm(i("disableExtension2"))||!confirm(i("disableExtension3"))||!confirm(i("disableExtension4"))||!confirm(i("disableExtension5"))||!confirm(i("disableExtension6"))||!confirm(i("disableExtension7"))||!confirm(i("disableExtension8"))||!confirm(i("disableFinalWarning"))?!1:(alert(i("extensionDisabled")),!0)}const ke={key:0,class:"inline-block items-center gap-4 align-text-top"},Ae=v({__name:"ActiveToggle",setup(l){const{state:t}=d(B),{state:s}=d(q);function e(o){o.target.checked==!1&&xe()?(t.value=!1,D.track("DISABLE_EXTENSION")):t.value=!0}return(o,r)=>n(s)?(m(),b("div",ke,[a("label",null,[C(a("input",{type:"checkbox",class:"toggle toggle-sm toggle-primary","onUpdate:modelValue":r[0]||(r[0]=p=>$(t)?t.value=p:null),onChange:e},null,544),[[X,n(t)]]),E(o.$slots,"default")])])):A("",!0)}});export{Ae as _,Ce as a,$e as b};
