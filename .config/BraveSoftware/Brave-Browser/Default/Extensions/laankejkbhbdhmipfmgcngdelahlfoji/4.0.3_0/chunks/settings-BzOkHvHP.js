import{v as R,d as O,b as te}from"./tailwind-Be1c9XZh.js";import{ac as F,ak as U,al as E,dh as I,an as D,aE as M,aw as B,av as n,aM as g,ad as t,ay as a,G as s,aN as f,aT as y,A as ne,aA as oe,aG as m,aF as W,ah as P,d2 as se,n as ae,aW as ie,cf as le,di as re,cu as ue,X as ce,cy as de,aK as pe,at as l,ax as c,ao as j,aH as N,g as me,T as ve}from"./_virtual_wxt-plugins-DZjI-rY3.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as be}from"./HeaderItem-C3BiIv3w.js";import{i as ge}from"./panel-api.proxy-BFzH8e3l.js";import{u as fe}from"./useGetNuclearTimerQuery-C0YoNoTy.js";import{u as ye}from"./useConfirmationStore-zY7by6Ys.js";import{u as ke}from"./useChallengeStore-Cjyjd7K8.js";import"./dialogWithOptionsStore-7Z99EG-6.js";import"./options-CXlWlOx4.js";const Se=["value"],Te={value:"sec"},we={value:"min"},Ce={class:"ml-3"},Ae=F({__name:"NotificationItemSettings",props:{time:{},index:{}},emits:["changeTime"],setup(A,{emit:h}){const p=A,k=h,d=U(),r=U(0);E(()=>p.time,i=>{d.value=v(),r.value=S(i)}),d.value=v(),r.value=S(p.time);function v(){return p.time<60?"sec":"min"}function S(i){if(i!=0)return i>=60&&(i=i%I.Minute>0?Number((i/I.Minute).toFixed(2)):i/I.Minute),i}function T(i){i.target.value>I.Day&&(i.target.value=I.Hour)}function w(i){r.value=Number(i.target.value),_()}function _(){switch(r.value||(r.value=0),d.value){case"min":k("changeTime",r.value*I.Minute,p.index);break;case"sec":k("changeTime",r.value,p.index);break}}return(i,V)=>(M(),D(B,null,[n("input",{type:"number",min:"0",class:"input input-sm input-bordered w-20",value:t(r),onInput:T,onChange:w},null,40,Se),g(n("select",{class:"select select-sm select-bordered w-40 ml-3","onUpdate:modelValue":V[0]||(V[0]=L=>f(d)?d.value=L:null),onChange:_},[n("option",Te,a(("t"in i?i.t:t(s))("seconds")),1),n("option",we,a(("t"in i?i.t:t(s))("minutes")),1)],544),[[R,t(d)]]),n("span",Ce,a(("t"in i?i.t:t(s))("remaining")),1)],64))}}),Ne=F({__name:"NotificationsSettings",setup(A){const{state:h}=y(ne),p=U([]);p.value=h.value??[],E(h,r=>{p.value=r??[]});function k(r,v){p.value[v]=r}function d(){h.value=Array.from(p.value)}return(r,v)=>{const S=Ae;return M(),D(B,null,[(M(!0),D(B,null,oe(t(h),(T,w)=>(M(),D("div",{class:"mt-3",key:w},[m(S,{time:T,index:w,onChangeTime:k},null,8,["time","index"])]))),128)),n("button",{class:"btn btn-primary btn-sm mt-4 uppercase block","data-testid":"saveTimeForAllWebsitesBtn",onClick:d},a(("t"in r?r.t:t(s))("saveNotifications")),1)],64)}}}),_e={},Oe={class:"font-bold text-lg"},Ie={class:"text-base leading-6 mt-3"};function Ue(A,h){return M(),D("div",null,[n("p",Oe,[W(A.$slots,"header")]),n("p",Ie,[W(A.$slots,"description")]),W(A.$slots,"option")])}const De=he(_e,[["render",Ue]]),Me=["data-tip"],Ve={class:"label-text"},Pe={value:"auto"},Ee={value:"light"},Le={value:"dark"},$e={class:"cursor-pointer label justify-start mt-2"},He={class:"label-text"},We={class:"cursor-pointer label justify-start mt-2"},je={class:"label-text"},Be={class:"cursor-pointer label justify-start mt-2"},Fe={class:"label-text"},Ge={class:"cursor-pointer label justify-start mt-2"},Re={class:"label-text"},Ke=["placeholder"],ze={class:"cursor-pointer label justify-start mt-2"},qe=["value"],Qe={class:"label-text"},at=F({__name:"settings",setup(A){const h=ke(),p=P(()=>h.isShowChallenge),{state:k}=y(se),{state:d}=y(ae),{state:r}=y(ie),{state:v}=y(le),{state:S}=y(re),{state:T}=y(ue),{state:w}=y(ce),{state:_}=y(de),i=U();E(T,e=>{i.value=!e}),E(v,()=>{C.value=$.value});const V=ye(),L=ge(),C=U();function K(e){e.target.checked?V.show({title:s("genericConfirmation"),message:s("dataCollectionConfirmMessage"),positiveButtonText:s("continue"),negativeButtonText:s("cancel"),destructive:!0,async onClickPositive(){return C.value=!0,$.value=!0,N.track("OPT_OUT_DATA_COLLECTION"),!0},async onClickNegative(){return C.value=!1,!0}}):(C.value=!1,$.value=!1)}const $=P({get(){return v.value!=null?!v.value:!0},async set(e){return v.value=!e,await L.optOut({installId:await me(),optOut:e}),!0}});function z(){T.value=!i.value,T.value?N.track("SHOW_ACTIVATION_SWITCH"):N.track("HIDE_ACTIVATION_SWITCH")}function q(){r.value?N.track("HIDE_ALLOW_LINKS"):N.track("SHOW_ALLOW_LINKS")}function Q(){d.value?N.track("NEVER_SHOW_UPDATE_NOTICES"):N.track("SHOW_UPDATE_NOTICES")}const{data:X}=fe(),{groups:J}=pe(),H=U(!1),Y=P(()=>!!X.value),Z=P(()=>{var e;return(e=J.value)==null?void 0:e.some(o=>o.timeLeftMs<ve.Second)}),G=P(()=>!T.value&&(Y.value||Z.value));return(e,o)=>{const x=be,b=De,ee=Ne;return M(),D("div",{class:j(["flex flex-col",{"pointer-events-none opacity-50":p.value}])},[m(x,null,{default:l(()=>[c(a(("t"in e?e.t:t(s))("customize")),1)]),_:1}),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(s))("activateSwitches")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(s))("hideSwitchDescription")),1)]),option:l(()=>[n("div",{class:j(["tooltip-open tooltip-warning tooltip-right",{tooltip:G.value&&t(H)}]),onMouseover:o[1]||(o[1]=u=>H.value=!0),onMouseleave:o[2]||(o[2]=u=>H.value=!1),"data-tip":("t"in e?e.t:t(s))("hideSwitchDisabled")},[n("label",{class:j(["cursor-pointer label justify-start mt-2",{"pointer-events-none opacity-50":G.value}])},[g(n("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=u=>f(i)?i.value=u:null),onChange:z,class:"checkbox checkbox-sm checkbox-primary mr-2"},null,544),[[O,t(i)]]),n("span",Ve,a(("t"in e?e.t:t(s))("hideSwitch")),1)],2)],42,Me)]),_:1}),o[10]||(o[10]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(s))("theme")),1)]),option:l(()=>[g(n("select",{class:"join-item select select-primary select-bordered min-w-0","onUpdate:modelValue":o[3]||(o[3]=u=>f(_)?_.value=u:null)},[n("option",Pe,a(("t"in e?e.t:t(s))("theme_auto")),1),n("option",Ee,a(("t"in e?e.t:t(s))("theme_light")),1),n("option",Le,a(("t"in e?e.t:t(s))("theme_dark")),1)],512),[[R,t(_)]])]),_:1}),o[11]||(o[11]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(s))("syncOption")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(s))("syncOptionDescription")),1)]),option:l(()=>[n("label",$e,[g(n("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=u=>f(k)?k.value=u:null),class:"checkbox checkbox-sm checkbox-primary mr-2"},null,512),[[O,t(k)]]),n("span",He,a(("t"in e?e.t:t(s))("disableSync")),1)])]),_:1}),o[12]||(o[12]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(s))("trackTabsPlayingAudio")),1)]),option:l(()=>[n("label",We,[g(n("input",{type:"checkbox","onUpdate:modelValue":o[5]||(o[5]=u=>f(w)?w.value=u:null),class:"checkbox checkbox-sm checkbox-primary mr-2"},null,512),[[O,t(w)]]),n("span",je,a(("t"in e?e.t:t(s))("trackTabsPlayingAudioDescription")),1)])]),_:1}),o[13]||(o[13]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(s))("updateNoticesOption")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(s))("updateNoticesOptionDescription")),1)]),option:l(()=>[n("label",Be,[g(n("input",{type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=u=>f(d)?d.value=u:null),onChange:Q,class:"checkbox checkbox-sm checkbox-primary mr-2"},null,544),[[O,t(d)]]),n("span",Fe,a(("t"in e?e.t:t(s))("neverShowUpdateNotices")),1)])]),_:1}),o[14]||(o[14]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(s))("popup")),1)]),option:l(()=>[n("label",Ge,[g(n("input",{type:"checkbox","onUpdate:modelValue":o[7]||(o[7]=u=>f(r)?r.value=u:null),onChange:q,class:"checkbox checkbox-sm checkbox-primary mr-2"},null,544),[[O,t(r)]]),n("span",Re,a(("t"in e?e.t:t(s))("hideAllowLinks")),1)])]),_:1}),o[15]||(o[15]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(s))("redirectMessage")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(s))("redirectMessageDescription")),1)]),option:l(()=>[g(n("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=u=>f(S)?S.value=u:null),placeholder:("t"in e?e.t:t(s))("redirectMessagePlaceholder"),class:"input input-bordered w-2/3 mt-4"},null,8,Ke),[[te,t(S)]])]),_:1}),o[16]||(o[16]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(s))("notifications")),1)]),description:l(()=>[c(a(("t"in e?e.t:t(s))("notificationsDescription")),1)]),option:l(()=>[m(ee)]),_:1}),o[17]||(o[17]=n("hr",{class:"my-3 border-neutral"},null,-1)),m(b,null,{header:l(()=>[c(a(("t"in e?e.t:t(s))("dataPrivacy")),1)]),option:l(()=>[n("label",ze,[g(n("input",{type:"checkbox","onUpdate:modelValue":o[9]||(o[9]=u=>f(C)?C.value=u:null),value:t(C),onChange:K,class:"checkbox checkbox-sm checkbox-primary mr-2"},null,40,qe),[[O,t(C)]]),n("span",Qe,a(("t"in e?e.t:t(s))("optOutOfDataCollection")),1)])]),_:1})],2)}}});export{at as default};
