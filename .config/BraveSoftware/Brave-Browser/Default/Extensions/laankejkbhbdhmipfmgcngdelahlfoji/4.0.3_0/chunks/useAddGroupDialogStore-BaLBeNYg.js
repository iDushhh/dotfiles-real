import{an as a,aE as s,av as o,ac as y,aG as f,ad as t,aw as g,ax as _,ay as d,G as l,ca as L,cb as B,ak as N,au as v,aM as C,aq as D,aN as $,ao as k,a4 as G,aH as V,ah as w,ap as I,T as M,F as U,aV as F}from"./_virtual_wxt-plugins-DZjI-rY3.js";import{d as z}from"./tailwind-Be1c9XZh.js";import{u as E}from"./useConfirmationStore-zY7by6Ys.js";import{d as x,D as T}from"./dialogWithOptionsStore-7Z99EG-6.js";const H={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function j(c,e){return s(),a("svg",H,e[0]||(e[0]=[o("path",{fill:"currentColor",d:"M11 18h2v-2h-2zm1-16A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m0-14a4 4 0 0 0-4 4h2a2 2 0 0 1 2-2a2 2 0 0 1 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5a4 4 0 0 0-4-4"},null,-1)]))}const R={name:"mdi-help-circle-outline",render:j},W={class:"dropdown dropdown-hover"},O={tabindex:"0",class:"dropdown-content menu rounded-lg z-[1] w-80 p-2 shadow bg-slate-700 text-white"},q=y({__name:"ShareUsageLimitInfo",props:{isShare:{type:Boolean}},setup(c){return(e,i)=>(s(),a("div",W,[f(t(R),{class:"ml-2 h-5 w-5 cursor-pointer"}),o("ul",O,[e.isShare?(s(),a(g,{key:0},[_(d(("t"in e?e.t:t(l))("shareLimitAcrossDevicesDescription")),1)],64)):(s(),a(g,{key:1},[_(d(("t"in e?e.t:t(l))("notShareLimitAcrossDevicesDescription")),1)],64))])]))}}),P={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Q(c,e){return s(),a("svg",P,e[0]||(e[0]=[o("path",{fill:"currentColor",d:"M2 12A10 10 0 1 0 12 2A10 10 0 0 0 2 12m13.6 1.72A4 4 0 0 0 16 12a4 4 0 0 0-4-4v2L8.88 7L12 4v2a6 6 0 0 1 6 6a5.9 5.9 0 0 1-.93 3.19M6 12a5.9 5.9 0 0 1 .93-3.19l1.47 1.47A4 4 0 0 0 8 12a4 4 0 0 0 4 4v-2l3 3l-3 3v-2a6 6 0 0 1-6-6"},null,-1)]))}const Y={name:"mdi-sync-circle",render:Q},J={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function K(c,e){return s(),a("svg",J,e[0]||(e[0]=[o("path",{fill:"currentColor",d:"M20 4h-6v6l2.24-2.24A6 6 0 0 1 18 12c0 1-.25 1.94-.68 2.77l1.46 1.46a7.925 7.925 0 0 0-1.14-9.87zM2.86 5.41l2.36 2.36a7.925 7.925 0 0 0 1.14 9.87L4 20h6v-6l-2.24 2.24A6 6 0 0 1 6 12c0-1 .25-1.94.68-2.77l8.08 8.08c-.26.13-.5.25-.76.34v2.09c.79-.21 1.54-.54 2.22-.96l2.36 2.36l1.27-1.27L4.14 4.14zm7.14.94V4.26c-.8.21-1.55.54-2.23.96l1.46 1.46c.27-.12.5-.24.77-.33"},null,-1)]))}const X={name:"mdi-sync-off",render:K},Z={key:0,class:"flex items-center"},ee={class:"ml-1 uppercase font-bold text-sm dropdown-right dropdown-end text-green-600"},te={class:"ml-1 uppercase font-bold text-sm"},se={key:1,class:"cursor-pointer label justify-start"},oe={class:"label-text"},he=y({__name:"ShareUsageLimit",props:{groupId:{default:void 0},isShare:{type:Boolean,default:void 0},isNewLimit:{type:Boolean,default:!1}},emits:["onShareUpdated"],setup(c,{emit:e}){const i=c,m=e,{deviceGroup:u}=L(B()),r=N();i.isShare!=null&&(r.value=i.isShare);const p=E();function h(){p.show({title:l("shareLimitAcrossDevices"),message:l("areYouSureShareLimit"),positiveButtonText:l("share"),destructive:!0,async onClickPositive(){return i.groupId?await G().syncNewGenericUsageLimit(i.groupId):m("onShareUpdated",!0),r.value=!0,V.track("SHARE_USAGE_LIMIT"),!0},negativeButtonText:l("cancel"),onClickNegative(){return r.value=!1,!0}})}return(n,b)=>{const S=q;return t(u)?(s(),a("div",{key:0,class:k(["flex flex-row items-center",{"justify-between p-3 mt-1 border-t border-t-neutral":!n.isNewLimit}])},[n.isNewLimit?v("",!0):(s(),a("div",Z,[t(r)?(s(),a(g,{key:0},[f(t(Y),{class:"h-7 w-7 text-green-600"}),o("p",ee,d(("t"in n?n.t:t(l))("shared")),1),f(S,{"is-share":!0})],64)):v("",!0),t(r)?v("",!0):(s(),a(g,{key:1},[f(t(X),{class:"h-7 w-7"}),o("p",te,d(("t"in n?n.t:t(l))("notShared")),1),f(S)],64))])),!t(r)||n.isNewLimit?(s(),a("label",se,[C(o("input",{type:"checkbox",onClick:h,"onUpdate:modelValue":b[0]||(b[0]=A=>$(r)?r.value=A:null),class:"checkbox checkbox-sm checkbox-primary mr-2"},null,512),[[z,t(r)]]),o("span",oe,d(("t"in n?n.t:t(l))("shareLimitAcrossDevices")),1),n.isNewLimit?(s(),D(S,{key:0,"is-share":t(r)},null,8,["is-share"])):v("",!0)])):v("",!0)],2)):v("",!0)}}}),re={class:"text-xs m-0 text-center"},ae={class:"text-center font-bold m-0"},ie={"data-testid":"maxTimeAllowedInHoursView"},ne={"data-testid":"maxTimeAllowedInMinutesView"},le={"data-testid":"maxTimeAllowedInSecondsView"},ce={name:"TimeDonutChart"},ve=y({...ce,props:{allowedTime:{},elapsedTime:{}},setup(c){const e=c,i=w(()=>{const p=e.allowedTime-e.elapsedTime;return p<M.Second?0:p}),m=w(()=>U(i.value)),u=w(()=>e.allowedTime==0||e.elapsedTime>e.allowedTime?0:e.elapsedTime==0?100:100-Number((e.elapsedTime/e.allowedTime*100).toFixed(0))),r=w(()=>u.value>=0&&u.value<=30?"border-error text-error":u.value>30&&u.value<=60?"border-warning text-warning":(u.value>60,"border-accent text-accent"));return(p,h)=>(s(),a("div",{name:"donutChart",class:k(["radial-progress border min-w-24",r.value]),style:I([`--value: ${u.value}; --size: 6rem; --thickness: 4px`])},[o("p",re,d(("t"in p?p.t:t(l))("timeLeft")),1),o("p",ae,[o("span",ie,d(m.value.hours),1),h[0]||(h[0]=_(":")),o("span",ne,d(m.value.minutes),1),h[1]||(h[1]=_(":")),o("span",le,d(m.value.seconds),1)])],6))}});function fe(){const{data:c}=F();return{isExist(e){var i;return((i=c.value)==null?void 0:i.find(m=>m.timer.name==e))!=null}}}const we=x(T.AddBlockedSites,{addWebsites(){throw new Error("Function not implemented.")}}),ge=x(T.AddBlockedGroup,{saveGroup(){throw new Error("Function not implemented.")}});export{ve as _,ge as a,fe as b,he as c,we as u};
