var Zy=Object.defineProperty;var Ef=e=>{throw TypeError(e)};var zy=(e,t,r)=>t in e?Zy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Me=(e,t,r)=>zy(e,typeof t!="symbol"?t+"":t,r),Rl=(e,t,r)=>t.has(e)||Ef("Cannot "+r);var P=(e,t,r)=>(Rl(e,t,"read from private field"),r?r.call(e):t.get(e)),Se=(e,t,r)=>t.has(e)?Ef("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ue=(e,t,r,n)=>(Rl(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),$e=(e,t,r)=>(Rl(e,t,"access private method"),r);const Sm=6048e5,Ky=864e5,kf=Symbol.for("constructDateFrom");function Vn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&kf in e?e[kf](t):e instanceof Date?new e.constructor(t):new Date(t)}function Nr(e,t){return Vn(t||e,e)}let Jy={};function Ac(){return Jy}function fa(e,t){var o,l,u,c;const r=Ac(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=Nr(e,t==null?void 0:t.in),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Wo(e,t){return fa(e,{...t,weekStartsOn:1})}function Tm(e,t){const r=Nr(e,t==null?void 0:t.in),n=r.getFullYear(),s=Vn(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Wo(s),a=Vn(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Wo(a);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Of(e){const t=Nr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Xy(e,...t){const r=Vn.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Cf(e,t){const r=Nr(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Qy(e,t,r){const[n,s]=Xy(r==null?void 0:r.in,e,t),i=Cf(n),a=Cf(s),o=+i-Of(i),l=+a-Of(a);return Math.round((o-l)/Ky)}function ew(e,t){const r=Tm(e,t),n=Vn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Wo(n)}function tw(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rw(e){return!(!tw(e)&&typeof e!="number"||isNaN(+Nr(e)))}function nw(e,t){const r=Nr(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const sw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iw=(e,t,r)=>{let n;const s=sw[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const aw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ow={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lw={date:Nl({formats:aw,defaultWidth:"full"}),time:Nl({formats:ow,defaultWidth:"full"}),dateTime:Nl({formats:cw,defaultWidth:"full"})},uw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dw=(e,t,r,n)=>uw[e];function Fi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const fw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ww=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bw={ordinalNumber:ww,era:Fi({values:fw,defaultWidth:"wide"}),quarter:Fi({values:hw,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fi({values:mw,defaultWidth:"wide"}),day:Fi({values:gw,defaultWidth:"wide"}),dayPeriod:Fi({values:pw,defaultWidth:"wide",formattingValues:yw,defaultFormattingWidth:"wide"})};function $i(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Aw(o,d=>d.test(a)):vw(o,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=t.slice(a.length);return{value:u,rest:c}}}function vw(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Aw(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function _w(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const xw=/^(\d+)(th|st|nd|rd)?/i,Sw=/\d+/i,Tw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ew={any:[/^b/i,/^(a|c)/i]},kw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ow={any:[/1/i,/2/i,/3/i,/4/i]},Cw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Iw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nw={ordinalNumber:_w({matchPattern:xw,parsePattern:Sw,valueCallback:e=>parseInt(e,10)}),era:$i({matchPatterns:Tw,defaultMatchWidth:"wide",parsePatterns:Ew,defaultParseWidth:"any"}),quarter:$i({matchPatterns:kw,defaultMatchWidth:"wide",parsePatterns:Ow,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$i({matchPatterns:Cw,defaultMatchWidth:"wide",parsePatterns:Pw,defaultParseWidth:"any"}),day:$i({matchPatterns:Mw,defaultMatchWidth:"wide",parsePatterns:Iw,defaultParseWidth:"any"}),dayPeriod:$i({matchPatterns:Dw,defaultMatchWidth:"any",parsePatterns:Rw,defaultParseWidth:"any"})},Lw={code:"en-US",formatDistance:iw,formatLong:lw,formatRelative:dw,localize:bw,match:Nw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Fw(e,t){const r=Nr(e,t==null?void 0:t.in);return Qy(r,nw(r))+1}function $w(e,t){const r=Nr(e,t==null?void 0:t.in),n=+Wo(r)-+ew(r);return Math.round(n/Sm)+1}function Em(e,t){var c,d,f,m;const r=Nr(e,t==null?void 0:t.in),n=r.getFullYear(),s=Ac(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=Vn((t==null?void 0:t.in)||e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=fa(a,t),l=Vn((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=fa(l,t);return+r>=+o?n+1:+r>=+u?n:n-1}function Uw(e,t){var o,l,u,c;const r=Ac(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=Em(e,t),i=Vn((t==null?void 0:t.in)||e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),fa(i,t)}function jw(e,t){const r=Nr(e,t==null?void 0:t.in),n=+fa(r,t)-+Uw(r,t);return Math.round(n/Sm)+1}function Ge(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Tn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ge(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ge(r+1,2)},d(e,t){return Ge(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ge(e.getHours()%12||12,t.length)},H(e,t){return Ge(e.getHours(),t.length)},m(e,t){return Ge(e.getMinutes(),t.length)},s(e,t){return Ge(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ge(s,t.length)}},Zs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pf={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Tn.y(e,t)},Y:function(e,t,r,n){const s=Em(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Ge(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ge(i,t.length)},R:function(e,t){const r=Tm(e);return Ge(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ge(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ge(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ge(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Tn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ge(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=jw(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ge(s,t.length)},I:function(e,t,r){const n=$w(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ge(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Tn.d(e,t)},D:function(e,t,r){const n=Fw(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ge(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ge(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ge(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ge(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Zs.noon:n===0?s=Zs.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Zs.evening:n>=12?s=Zs.afternoon:n>=4?s=Zs.morning:s=Zs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Tn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Tn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ge(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ge(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Tn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Tn.s(e,t)},S:function(e,t){return Tn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return If(n);case"XXXX":case"XX":return cs(n);case"XXXXX":case"XXX":default:return cs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return If(n);case"xxxx":case"xx":return cs(n);case"xxxxx":case"xxx":default:return cs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Mf(n,":");case"OOOO":default:return"GMT"+cs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Mf(n,":");case"zzzz":default:return"GMT"+cs(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ge(n,t.length)},T:function(e,t,r){return Ge(+e,t.length)}};function Mf(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Ge(i,2)}function If(e,t){return e%60===0?(e>0?"-":"+")+Ge(Math.abs(e)/60,2):cs(e,t)}function cs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ge(Math.trunc(n/60),2),i=Ge(n%60,2);return r+s+t+i}const Df=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},km=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Vw=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Df(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Df(n,t)).replace("{{time}}",km(s,t))},Bw={p:km,P:Vw},Ww=/^D+$/,Hw=/^Y+$/,qw=["D","DD","YY","YYYY"];function Gw(e){return Ww.test(e)}function Yw(e){return Hw.test(e)}function Zw(e,t,r){const n=zw(e,t,r);if(console.warn(n),qw.includes(e))throw new RangeError(n)}function zw(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xw=/^'([^]*?)'?$/,Qw=/''/g,eb=/[a-zA-Z]/;function tb(e,t,r){var c,d,f,m;const n=Ac(),s=n.locale??Lw,i=n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,a=n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,o=Nr(e,r==null?void 0:r.in);if(!rw(o))throw new RangeError("Invalid time value");let l=t.match(Jw).map(p=>{const h=p[0];if(h==="p"||h==="P"){const g=Bw[h];return g(p,s.formatLong)}return p}).join("").match(Kw).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const h=p[0];if(h==="'")return{isToken:!1,value:rb(p)};if(Pf[h])return{isToken:!0,value:p};if(h.match(eb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const h=p.value;(Yw(h)||Gw(h))&&Zw(h,t,String(e));const g=Pf[h[0]];return g(o,h,s.localize,u)}).join("")}function rb(e){const t=e.match(Xw);return t?t[1].replace(Qw,"'"):e}function Ui(){return tb(new Date,"OOOO")}const nb=13,Om="abcdefghijklmnopqrstuvwxyz0123456789",sb=Om.length;function ib(){let e="";for(let t=0;t<nb;t++)e+=Om.charAt(Math.floor(Math.random()*sb));return e}function Ho(e,t){if(typeof e=="string"&&(e=ab(e.trim())),!e)return;const r=e.searchParams.toString()||void 0;let n=e.hostname;return n=n.replace(/^(m|mobile|amp|www|www1|www2|www3|tab|item|checkout|secure|user|account|accounts|web|app|open|i|v|preview|cdn|l|id|nid|user|sso|signin|login|auth0|play|api|click|detail|dashboard|console|manage|support|help)\./,"").replace(/.*\.zoom\.us/,"zoom.us").replace(/.*\.slack\.com/,"slack.com").replace(/.*\.wikipedia\.org/,"wikipedia.org").replace(/.*\.amazonaws\.com/,"amazonaws.com").replace(/.*\.netsuite\.com/,"netsuite.com").replace(/.*\.tumblr\.com/,"tumblr.com").replace(/.*\.deviantart\.com/,"deviantart.com"),{hostname:n,path:ob(e.pathname),query:r}}function ab(e){if(!e)return;const t=r=>{const n=new URL(r);if(!/^https?:/.test(n.protocol))throw Error("Invalid URL, ignored protocol found");if(!n.hostname)throw Error("Invalid URL, no hostname");if(n.hostname.lastIndexOf(".")>=n.hostname.length-2)throw Error("Invalid URL, bad domain ending");return n};try{return t(e)}catch{}if(!e.includes("://"))try{return t("https://"+e)}catch{}}function ob(e){return e.endsWith("/")?e.substring(0,Math.max(1,e.length-1)):e}const cb=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,lb=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ub=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function db(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){fb(e);return}return t}function fb(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function hb(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!ub.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(cb.test(e)||lb.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,db)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}const mb=/#/g,gb=/&/g,pb=/\//g,yb=/=/g,bd=/\+/g,wb=/%5e/gi,bb=/%60/gi,vb=/%7c/gi,Ab=/%20/gi;function _b(e){return encodeURI(""+e).replace(vb,"|")}function hu(e){return _b(typeof e=="string"?e:JSON.stringify(e)).replace(bd,"%2B").replace(Ab,"+").replace(mb,"%23").replace(gb,"%26").replace(bb,"`").replace(wb,"^").replace(pb,"%2F")}function Ll(e){return hu(e).replace(yb,"%3D")}function Cm(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function xb(e){return Cm(e.replace(bd," "))}function Sb(e){return Cm(e.replace(bd," "))}function Tb(e=""){const t=Object.create(null);e[0]==="?"&&(e=e.slice(1));for(const r of e.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const s=xb(n[1]);if(s==="__proto__"||s==="constructor")continue;const i=Sb(n[2]||"");t[s]===void 0?t[s]=i:Array.isArray(t[s])?t[s].push(i):t[s]=[t[s],i]}return t}function Eb(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(r=>`${Ll(e)}=${hu(r)}`).join("&"):`${Ll(e)}=${hu(t)}`:Ll(e)}function kb(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>Eb(t,e[t])).filter(Boolean).join("&")}const Ob=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Cb=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Pb=/^([/\\]\s*){2,}[^/\\]/,Mb=/^\.?\//;function Pm(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?Ob.test(e):Cb.test(e)||(t.acceptRelative?Pb.test(e):!1)}function Ib(e="",t){return e.endsWith("/")}function Db(e="",t){return(Ib(e)?e.slice(0,-1):e)||"/"}function Rb(e="",t){return e.endsWith("/")?e:e+"/"}function Nb(e,t){if(Fb(t)||Pm(e))return e;const r=Db(t);return e.startsWith(r)?e:Ub(r,e)}function Lb(e,t){const r=jb(e),n={...Tb(r.search),...t};return r.search=kb(n),Vb(r)}function Fb(e){return!e||e==="/"}function $b(e){return e&&e!=="/"}function Ub(e,...t){let r=e||"";for(const n of t.filter(s=>$b(s)))if(r){const s=n.replace(Mb,"");r=Rb(r)+s}else r=n;return r}const Mm=Symbol.for("ufo:protocolRelative");function jb(e="",t){const r=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,d,f=""]=r;return{protocol:d.toLowerCase(),pathname:f,href:d+f,auth:"",host:"",search:"",hash:""}}if(!Pm(e,{acceptRelative:!0}))return Rf(e);const[,n="",s,i=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",o=""]=i.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(o=o.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:c}=Rf(o);return{protocol:n.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:a,pathname:l,search:u,hash:c,[Mm]:!n}}function Rf(e=""){const[t="",r="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:n}}function Vb(e){const t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",n=e.hash||"",s=e.auth?e.auth+"@":"",i=e.host||"";return(e.protocol||e[Mm]?(e.protocol||"")+"//":"")+s+i+t+r+n}class Bb extends Error{constructor(t,r){super(t,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function Wb(e){var l,u,c,d,f;const t=((l=e.error)==null?void 0:l.message)||((u=e.error)==null?void 0:u.toString())||"",r=((c=e.request)==null?void 0:c.method)||((d=e.options)==null?void 0:d.method)||"GET",n=((f=e.request)==null?void 0:f.url)||String(e.request)||"/",s=`[${r}] ${JSON.stringify(n)}`,i=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",a=`${s}: ${i}${t?` ${t}`:""}`,o=new Bb(a,e.error?{cause:e.error}:void 0);for(const m of["request","options","response"])Object.defineProperty(o,m,{get(){return e[m]}});for(const[m,p]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,m,{get(){return e.response&&e.response[p]}});return o}const Hb=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Nf(e="GET"){return Hb.has(e.toUpperCase())}function qb(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Gb=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Yb=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Zb(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return Yb.test(t)?"json":Gb.has(t)||t.startsWith("text/")?"text":"blob"}function zb(e,t,r,n){const s=Kb((t==null?void 0:t.headers)??(e==null?void 0:e.headers),r==null?void 0:r.headers,n);let i;return(r!=null&&r.query||r!=null&&r.params||t!=null&&t.params||t!=null&&t.query)&&(i={...r==null?void 0:r.params,...r==null?void 0:r.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...r,...t,query:i,params:i,headers:s}}function Kb(e,t,r){if(!t)return new r(e);const n=new r(t);if(e)for(const[s,i]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))n.set(s,i);return n}async function fo(e,t){if(t)if(Array.isArray(t))for(const r of t)await r(e);else await t(e)}const Jb=new Set([408,409,425,429,500,502,503,504]),Xb=new Set([101,204,205,304]);function Im(e={}){const{fetch:t=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:n=globalThis.AbortController}=e;async function s(o){const l=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!l){let c;typeof o.options.retry=="number"?c=o.options.retry:c=Nf(o.options.method)?0:1;const d=o.response&&o.response.status||500;if(c>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(d):Jb.has(d))){const f=typeof o.options.retryDelay=="function"?o.options.retryDelay(o):o.options.retryDelay||0;return f>0&&await new Promise(m=>setTimeout(m,f)),i(o.request,{...o.options,retry:c-1})}}const u=Wb(o);throw Error.captureStackTrace&&Error.captureStackTrace(u,i),u}const i=async function(l,u={}){const c={request:l,options:zb(l,u,e.defaults,r),response:void 0,error:void 0};c.options.method&&(c.options.method=c.options.method.toUpperCase()),c.options.onRequest&&await fo(c,c.options.onRequest),typeof c.request=="string"&&(c.options.baseURL&&(c.request=Nb(c.request,c.options.baseURL)),c.options.query&&(c.request=Lb(c.request,c.options.query),delete c.options.query),"query"in c.options&&delete c.options.query,"params"in c.options&&delete c.options.params),c.options.body&&Nf(c.options.method)&&(qb(c.options.body)?(c.options.body=typeof c.options.body=="string"?c.options.body:JSON.stringify(c.options.body),c.options.headers=new r(c.options.headers||{}),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json")):("pipeTo"in c.options.body&&typeof c.options.body.pipeTo=="function"||typeof c.options.body.pipe=="function")&&("duplex"in c.options||(c.options.duplex="half")));let d;if(!c.options.signal&&c.options.timeout){const m=new n;d=setTimeout(()=>{const p=new Error("[TimeoutError]: The operation was aborted due to timeout");p.name="TimeoutError",p.code=23,m.abort(p)},c.options.timeout),c.options.signal=m.signal}try{c.response=await t(c.request,c.options)}catch(m){return c.error=m,c.options.onRequestError&&await fo(c,c.options.onRequestError),await s(c)}finally{d&&clearTimeout(d)}if((c.response.body||c.response._bodyInit)&&!Xb.has(c.response.status)&&c.options.method!=="HEAD"){const m=(c.options.parseResponse?"json":c.options.responseType)||Zb(c.response.headers.get("content-type")||"");switch(m){case"json":{const p=await c.response.text(),h=c.options.parseResponse||hb;c.response._data=h(p);break}case"stream":{c.response._data=c.response.body||c.response._bodyInit;break}default:c.response._data=await c.response[m]()}}return c.options.onResponse&&await fo(c,c.options.onResponse),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await fo(c,c.options.onResponseError),await s(c)):c.response},a=async function(l,u){return(await i(l,u))._data};return a.raw=i,a.native=(...o)=>t(...o),a.create=(o={},l={})=>Im({...e,...l,defaults:{...e.defaults,...l.defaults,...o}}),a}const qo=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Qb=qo.fetch?(...e)=>qo.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),ev=qo.Headers,tv=qo.AbortController,rv=Im({fetch:Qb,Headers:ev,AbortController:tv});var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function YC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var mu={exports:{}};(function(e,t){(function(r,n){var s="1.0.40",i="",a="?",o="function",l="undefined",u="object",c="string",d="major",f="model",m="name",p="type",h="vendor",g="version",w="architecture",S="console",_="mobile",v="tablet",C="smarttv",b="wearable",T="embedded",A=500,E="Amazon",M="Apple",$="ASUS",G="BlackBerry",F="Browser",se="Chrome",B="Edge",K="Firefox",U="Google",R="Huawei",ie="LG",me="Microsoft",Pe="Motorola",Le="Opera",mt="Samsung",yt="Sharp",De="Sony",wt="Xiaomi",Fe="Zebra",bt="Facebook",Fr="Chromium OS",gt="Mac OS",en=" Browser",O=function(ne,ce){var te={};for(var ve in ne)ce[ve]&&ce[ve].length%2===0?te[ve]=ce[ve].concat(ne[ve]):te[ve]=ne[ve];return te},I=function(ne){for(var ce={},te=0;te<ne.length;te++)ce[ne[te].toUpperCase()]=ne[te];return ce},L=function(ne,ce){return typeof ne===c?W(ce).indexOf(W(ne))!==-1:!1},W=function(ne){return ne.toLowerCase()},V=function(ne){return typeof ne===c?ne.replace(/[^\d\.]/g,i).split(".")[0]:n},q=function(ne,ce){if(typeof ne===c)return ne=ne.replace(/^\s\s*/,i),typeof ce===l?ne:ne.substring(0,A)},ee=function(ne,ce){for(var te=0,ve,Re,Ke,_e,fe,at;te<ce.length&&!fe;){var st=ce[te],vt=ce[te+1];for(ve=Re=0;ve<st.length&&!fe&&st[ve];)if(fe=st[ve++].exec(ne),fe)for(Ke=0;Ke<vt.length;Ke++)at=fe[++Re],_e=vt[Ke],typeof _e===u&&_e.length>0?_e.length===2?typeof _e[1]==o?this[_e[0]]=_e[1].call(this,at):this[_e[0]]=_e[1]:_e.length===3?typeof _e[1]===o&&!(_e[1].exec&&_e[1].test)?this[_e[0]]=at?_e[1].call(this,at,_e[2]):n:this[_e[0]]=at?at.replace(_e[1],_e[2]):n:_e.length===4&&(this[_e[0]]=at?_e[3].call(this,at.replace(_e[1],_e[2])):n):this[_e]=at||n;te+=2}},J=function(ne,ce){for(var te in ce)if(typeof ce[te]===u&&ce[te].length>0){for(var ve=0;ve<ce[te].length;ve++)if(L(ce[te][ve],ne))return te===a?n:te}else if(L(ce[te],ne))return te===a?n:te;return ce.hasOwnProperty("*")?ce["*"]:ne},Q={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},pe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,g],[/opios[\/ ]+([\w\.]+)/i],[g,[m,Le+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[m,Le+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[m,Le]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[g,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[m,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[m,"Smart Lenovo "+F]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+F],g],[/\bfocus\/([\w\.]+)/i],[g,[m,K+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[m,Le+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[m,Le+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[m,"MIUI"+en]],[/fxios\/([\w\.-]+)/i],[g,[m,K]],[/\bqihoobrowser\/?([\w\.]*)/i],[g,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+en],g],[/samsungbrowser\/([\w\.]+)/i],[g,[m,mt+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[g,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[g,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,bt],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[m,se+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,se+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[m,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[g,J,Q]],[/(webkit|khtml)\/([\w\.]+)/i],[m,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],g],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[m,K+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[m,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,W]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,i,W]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[h,mt],[p,v]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[h,mt],[p,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[h,M],[p,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[h,M],[p,v]],[/(macintosh);/i],[f,[h,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[h,yt],[p,_]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[h,"Honor"],[p,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[h,R],[p,v]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[h,R],[p,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[h,wt],[p,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[h,wt],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[h,"OPPO"],[p,_]],[/\b(opd2\d{3}a?) bui/i],[f,[h,"OPPO"],[p,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[h,"Vivo"],[p,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[h,"Realme"],[p,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[h,Pe],[p,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[h,Pe],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[h,ie],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[h,ie],[p,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[h,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[h,"Nokia"],[p,_]],[/(pixel c)\b/i],[f,[h,U],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[h,U],[p,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[h,De],[p,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[h,De],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[h,"OnePlus"],[p,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[h,E],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[h,E],[p,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,h,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[h,G],[p,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[h,$],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[h,$],[p,_]],[/(nexus 9)/i],[f,[h,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[f,/_/g," "],[p,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[h,"TCL"],[p,v]],[/(itel) ((\w+))/i],[[h,W],f,[p,J,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[h,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[h,"Meizu"],[p,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[h,"Ulefone"],[p,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[h,"Energizer"],[p,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[h,"Cat"],[p,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[h,"Smartfren"],[p,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[h,"Nothing"],[p,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,f,[p,_]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,f,[p,v]],[/(surface duo)/i],[f,[h,me],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[h,"Fairphone"],[p,_]],[/(u304aa)/i],[f,[h,"AT&T"],[p,_]],[/\bsie-(\w*)/i],[f,[h,"Siemens"],[p,_]],[/\b(rct\w+) b/i],[f,[h,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[f,[h,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[f,[h,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[h,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[f,[h,"NuVision"],[p,v]],[/\b(k88) b/i],[f,[h,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[f,[h,"ZTE"],[p,_]],[/\b(gen\d{3}) b.+49h/i],[f,[h,"Swiss"],[p,_]],[/\b(zur\d{3}) b/i],[f,[h,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[f,[h,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],f,[p,v]],[/\b(ns-?\w{0,9}) b/i],[f,[h,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[h,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],f,[p,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],f,[p,_]],[/\b(ph-1) /i],[f,[h,"Essential"],[p,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[h,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[f,[h,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[f,[h,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[f,[h,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[h,f,[p,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[h,me],[p,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[h,Fe],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[h,Fe],[p,_]],[/smart-tv.+(samsung)/i],[h,[p,C]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[h,mt],[p,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,ie],[p,C]],[/(apple) ?tv/i],[h,[f,M+" TV"],[p,C]],[/crkey/i],[[f,se+"cast"],[h,U],[p,C]],[/droid.+aft(\w+)( bui|\))/i],[f,[h,E],[p,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[h,yt],[p,C]],[/(bravia[\w ]+)( bui|\))/i],[f,[h,De],[p,C]],[/(mitv-\w{5}) bui/i],[f,[h,wt],[p,C]],[/Hbbtv.*(technisat) (.*);/i],[h,f,[p,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,q],[f,q],[p,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,f,[p,S]],[/droid.+; (shield) bui/i],[f,[h,"Nvidia"],[p,S]],[/(playstation [345portablevi]+)/i],[f,[h,De],[p,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[h,me],[p,S]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[h,mt],[p,b]],[/((pebble))app/i],[h,f,[p,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[h,M],[p,b]],[/droid.+; (glass) \d/i],[f,[h,U],[p,b]],[/droid.+; (wt63?0{2,3})\)/i],[f,[h,Fe],[p,b]],[/droid.+; (glass) \d/i],[f,[h,U],[p,b]],[/(pico) (4|neo3(?: link|pro)?)/i],[h,f,[p,b]],[/; (quest( \d| pro)?)/i],[f,[h,bt],[p,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,T]],[/(aeobc)\b/i],[f,[h,E],[p,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[p,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,_]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[m,B+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[m,g],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[m,[g,J,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,J,Y],[m,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,gt],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,g],[/\(bb(10);/i],[g,[m,G]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[m,K+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[m,se+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,Fr],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,g],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,g]]},X=function(ne,ce){if(typeof ne===u&&(ce=ne,ne=n),!(this instanceof X))return new X(ne,ce).getResult();var te=typeof r!==l&&r.navigator?r.navigator:n,ve=ne||(te&&te.userAgent?te.userAgent:i),Re=te&&te.userAgentData?te.userAgentData:n,Ke=ce?O(pe,ce):pe,_e=te&&te.userAgent==ve;return this.getBrowser=function(){var fe={};return fe[m]=n,fe[g]=n,ee.call(fe,ve,Ke.browser),fe[d]=V(fe[g]),_e&&te&&te.brave&&typeof te.brave.isBrave==o&&(fe[m]="Brave"),fe},this.getCPU=function(){var fe={};return fe[w]=n,ee.call(fe,ve,Ke.cpu),fe},this.getDevice=function(){var fe={};return fe[h]=n,fe[f]=n,fe[p]=n,ee.call(fe,ve,Ke.device),_e&&!fe[p]&&Re&&Re.mobile&&(fe[p]=_),_e&&fe[f]=="Macintosh"&&te&&typeof te.standalone!==l&&te.maxTouchPoints&&te.maxTouchPoints>2&&(fe[f]="iPad",fe[p]=v),fe},this.getEngine=function(){var fe={};return fe[m]=n,fe[g]=n,ee.call(fe,ve,Ke.engine),fe},this.getOS=function(){var fe={};return fe[m]=n,fe[g]=n,ee.call(fe,ve,Ke.os),_e&&!fe[m]&&Re&&Re.platform&&Re.platform!="Unknown"&&(fe[m]=Re.platform.replace(/chrome os/i,Fr).replace(/macos/i,gt)),fe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ve},this.setUA=function(fe){return ve=typeof fe===c&&fe.length>A?q(fe,A):fe,this},this.setUA(ve),this};X.VERSION=s,X.BROWSER=I([m,g,d]),X.CPU=I([w]),X.DEVICE=I([f,h,p,S,_,C,v,b,T]),X.ENGINE=X.OS=I([m,g]),e.exports&&(t=e.exports=X),t.UAParser=X;var de=typeof r!==l&&(r.jQuery||r.Zepto);if(de&&!de.ua){var ye=new X;de.ua=ye.getResult(),de.ua.get=function(){return ye.getUA()},de.ua.set=function(ne){ye.setUA(ne);var ce=ye.getResult();for(var te in ce)de.ua[te]=ce[te]}}})(typeof window=="object"?window:Pr)})(mu,mu.exports);var Dm=mu.exports;const Lf=Yn(Dm);var Ai=(e=>(e[e.BlockPermanently=0]="BlockPermanently",e[e.BlockOnSchedule=1]="BlockOnSchedule",e[e.DailyUsageLimit=2]="DailyUsageLimit",e[e.VariableSessionLimit=3]="VariableSessionLimit",e[e.BlockKeywords=4]="BlockKeywords",e))(Ai||{}),_c=(e=>(e[e.Block=0]="Block",e[e.Notification=1]="Notification",e))(_c||{}),xc=(e=>(e[e.UsageTime=0]="UsageTime",e[e.SessionCount=1]="SessionCount",e))(xc||{}),nv=Object.defineProperty,sv=(e,t,r)=>t in e?nv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iv=(e,t,r)=>sv(e,t+"",r);class av extends Error{constructor(){super("Invalid code entered")}}class ov extends Error{constructor(){super("Both devices already belong to a device group")}}class cv extends Error{constructor(){super("Forbidden")}}const Rm=class gu extends Error{static matchesMessage(t){return t instanceof Error?t.message===gu.message:!1}constructor(){super(gu.message)}};iv(Rm,"message","Not in a device group");let ho=Rm;function ji(e,t){return Object.entries(e).flatMap(([r,n])=>n.sessions.map(s=>({appId:r,startedAt:s.timestamp*1e3,endedAt:(s.timestamp+s.duration)*1e3,installId:s.install_id,platform:t})))}function Ff(e){return new Date(e).toISOString()}function lv(e){const t=rv.create({retry:3,...e==null?void 0:e.ofetchDefaults}),r=(e==null?void 0:e.formatDeviceName)??(R=>R),n=e==null?void 0:e.logger;function s(R){return t("/v1/android/apps",{query:{app_ids:R.appIds.join(",")}})}async function i(R){const ie=await t("/v1/sync/pairing/generate",{method:"POST",retry:0,query:{install_id:R.installId}});return{code:ie.code,expiration:new Date(ie.expiration*1e3).getTime()}}function a(R){return t("/v1/sync/pairing/validate",{method:"POST",retry:0,query:{install_id:R.installId,code:R.code}}).catch(ie=>{var Pe;const me=(Pe=ie.response)==null?void 0:Pe.status;throw me===403?new ov:me===404?new av:ie})}function o(R){return t("/v1/sync/pairing/check",{query:{install_id:R.installId}}).catch(ie=>{var me;if(((me=ie.response)==null?void 0:me.status)!==404)throw ie})}async function l(R){return t("/v1/sync/devices",{query:{key:R.deviceGroupKey}}).catch(ie=>{var me;throw((me=ie.response)==null?void 0:me.status)===404?new ho:ie})}async function u(R){await t("/v1/sync/devices/remove",{method:"POST",retry:0,query:{key:R.deviceGroupKey,install_id:R.installIdToRemove}})}async function c(R){return(await t.raw("/v1/sync/devices/sessions",{method:"HEAD",query:{key:R.deviceGroupKey,install_id:R.installId}}).catch(me=>{var Pe;throw((Pe=me.response)==null?void 0:Pe.status)===404?new ho:me})).headers.get("Last-Modified")??void 0}async function d(R){return t("/v1/analytics/avg_usage",{query:{app_ids:R.appIds.join(","),gender:R.gender,country_code:R.countryCode}})}async function f(R){return t("/v1/analytics/avg_web_usage",{query:{websites:R.appIds.join(","),gender:R.gender,country_code:R.countryCode}})}async function m(R){return t("/v1/analytics/avg_desktop_usage",{query:{app_names:R.appIds.join(","),gender:R.gender,country_code:R.countryCode}})}async function p(R){return t("/v1/analytics/avg_web_device_usage",{query:{gender:R.gender,country_code:R.countryCode}})}async function h(R){return t("/v1/analytics/avg_desktop_device_usage",{query:{gender:R.gender,country_code:R.countryCode}})}async function g(R){var yt;const{android_apps:ie,websites:me,windows_apps:Pe,mac_apps:Le,linux_apps:mt}=await t("/v1/sync/devices/sessions",{query:{key:R.deviceGroupKey,install_id:R.installId,start_time:Ff(R.startTime),end_time:Ff(R.endTime),app_ids:(yt=R.appIds)==null?void 0:yt.join(",")}}).catch(De=>{var wt;throw((wt=De.response)==null?void 0:wt.status)===404?new ho:De});return[...ji(ie,"android"),...ji(Pe??{},"windows"),...ji(Le??{},"mac"),...ji(mt??{},"linux"),...ji(me,"web")].sort((De,wt)=>De.startedAt-wt.startedAt)}async function w(R){var Pe;if(!R.appId.trim()){const{websites:Le,diffPrivateWebsites:mt,...yt}=R;throw n==null||n.error("Missing required parameter 'appId'",yt),Error("Missing required parameter 'appId'")}if(!R.installId.trim()){const{websites:Le,diffPrivateWebsites:mt,...yt}=R;throw n==null||n.error("Missing required parameter 'installId'",yt),Error("Missing required parameter 'installId'")}const ie=Lf(navigator==null?void 0:navigator.userAgent),me={app_id:R.appId,install_id:R.installId,time_zone:Ui(),device_name:r((Pe=ie.browser)==null?void 0:Pe.name),device_type:ie.os.name,birth_year:R.birthYear,websites:R.websites,diff_private_websites:R.diffPrivateWebsites};await t("/v1/web/upload",{method:"POST",retry:0,body:me})}async function S(R){var Pe;if(!R.appId.trim()){const{websites:Le,diffPrivateWebsites:mt,...yt}=R;throw n==null||n.error("Missing required parameter 'appId'",yt),Error("Missing required parameter 'appId'")}if(!R.installId.trim()){const{websites:Le,diffPrivateWebsites:mt,...yt}=R;throw n==null||n.error("Missing required parameter 'installId'",yt),Error("Missing required parameter 'installId'")}const ie=Lf(navigator==null?void 0:navigator.userAgent),me={app_id:R.appId,install_id:R.installId,time_zone:Ui(),device_name:r((Pe=ie.browser)==null?void 0:Pe.name),device_type:ie.os.name,birth_year:R.birthYear,websites:R.websites,diff_private_websites:R.diffPrivateWebsites};await t("/v1/page_views/upload",{method:"POST",retry:0,body:me})}async function _(R){if(!R.appId.trim()){const{apps:me,...Pe}=R;throw n==null||n.error("Missing required parameter 'appId'",Pe),Error("Missing required parameter 'appId'")}if(!R.installId.trim()){const{apps:me,...Pe}=R;throw n==null||n.error("Missing required parameter 'installId'",Pe),Error("Missing required parameter 'installId'")}const ie={app_id:R.appId,install_id:R.installId,time_zone:Ui(),device_name:r("App"),device_type:R.platform,birth_year:R.birthYear,apps:R.apps};await t("/v1/desktop/upload",{method:"POST",retry:0,body:ie})}function v(R){return w({appId:R.appId,installId:R.installId,websites:{}})}function C(R){return _({appId:R.appId,installId:R.installId,platform:R.platform})}function b(R){return t("/v1/brands",{query:{install_id:R.installId}}).catch(ie=>{var me;throw((me=ie.response)==null?void 0:me.status)===403?new cv:ie})}function T(R){return t("/v1/sync/config",{query:{key:R.deviceGroupKey}}).catch(ie=>{var me;throw((me=ie.response)==null?void 0:me.status)===404?new ho:ie})}async function A(R){await t("/v1/sync/config/reset_time",{method:"POST",retry:0,body:R})}async function E(R){await t("/v1/sync/config/daily_reset_time",{method:"POST",retry:0,body:R})}async function M(R){await t("/v1/sync/config/ignore_list/remove",{method:"POST",retry:0,body:R})}async function $(R){await t("/v1/sync/config/ignore_list/add",{method:"POST",retry:0,body:R})}async function G(R){const ie={key:R.key,generic_limits:R.genericLimits};await t("/v1/sync/config/generic_limit/add",{method:"POST",retry:0,body:ie})}async function F(R){const ie={key:R.key,limit_ids:R.limitIds};await t("/v1/sync/config/generic_limit/remove",{method:"POST",retry:0,body:ie})}async function se(R){const ie={app_id:R.appId,install_id:R.installId,time_zone:Ui(),ads:R.ads};await t("/v1/desktop/retail/"+R.website,{method:"POST",retry:0,body:ie})}async function B(R){const ie={app_id:R.appId,time_zone:Ui(),prompts:R.prompts};await t("/v1/ai/analytics",{method:"POST",retry:0,body:ie})}async function K(R){const ie={app_id:R.appId,service:R.service,install_id:R.installId,status:R.status,timestamp:Math.round(Date.now()/1e3)};await t("/v1/subscriptions/status",{method:"POST",retry:0,body:ie})}async function U(R){await t(`/v1/analytics/optout?install_id=${R.installId}&opt_out=${R.optOut}`,{retry:0})}return{getAndroidAppInfo:s,createPairingCode:i,validatePairingCode:a,getMyDeviceGroup:o,getSessionsLastUploadedAt:c,getAverageAppUsage:d,getAverageWebUsage:f,getAverageDesktopUsage:m,getTotalAverageWebUsage:p,getTotalAverageDesktopUsage:h,listDeviceGroupDevices:l,removeDeviceFromDeviceGroup:u,listDeviceGroupSessions:g,uploadSessions:w,uploadPageViews:S,uploadDesktopUsage:_,createDevice:v,createDesktopDevice:C,getBrandMapping:b,getGroupConfig:T,setResetTime:A,setDailyResetTime:E,removeFromIgnoreList:M,addToIgnoreList:$,addGenericUsageLimit:G,removeGenericUsageLimit:F,uploadRetailAds:se,uploadPrompts:B,uploadSubscriptionStatus:K,optOut:U}}var Nm={exports:{}};(function(e,t){(function(r,n){n(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Pr,function(r){var n,s;if(!((s=(n=globalThis.chrome)==null?void 0:n.runtime)!=null&&s.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const i="The message port closed before a response was received.",a=o=>{const l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class u extends WeakMap{constructor(E,M=void 0){super(M),this.createItem=E}get(E){return this.has(E)||this.set(E,this.createItem(E)),super.get(E)}}const c=A=>A&&typeof A=="object"&&typeof A.then=="function",d=(A,E)=>(...M)=>{o.runtime.lastError?A.reject(new Error(o.runtime.lastError.message)):E.singleCallbackArg||M.length<=1&&E.singleCallbackArg!==!1?A.resolve(M[0]):A.resolve(M)},f=A=>A==1?"argument":"arguments",m=(A,E)=>function($,...G){if(G.length<E.minArgs)throw new Error(`Expected at least ${E.minArgs} ${f(E.minArgs)} for ${A}(), got ${G.length}`);if(G.length>E.maxArgs)throw new Error(`Expected at most ${E.maxArgs} ${f(E.maxArgs)} for ${A}(), got ${G.length}`);return new Promise((F,se)=>{if(E.fallbackToNoCallback)try{$[A](...G,d({resolve:F,reject:se},E))}catch(B){console.warn(`${A} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,B),$[A](...G),E.fallbackToNoCallback=!1,E.noCallback=!0,F()}else E.noCallback?($[A](...G),F()):$[A](...G,d({resolve:F,reject:se},E))})},p=(A,E,M)=>new Proxy(E,{apply($,G,F){return M.call(G,A,...F)}});let h=Function.call.bind(Object.prototype.hasOwnProperty);const g=(A,E={},M={})=>{let $=Object.create(null),G={has(se,B){return B in A||B in $},get(se,B,K){if(B in $)return $[B];if(!(B in A))return;let U=A[B];if(typeof U=="function")if(typeof E[B]=="function")U=p(A,A[B],E[B]);else if(h(M,B)){let R=m(B,M[B]);U=p(A,A[B],R)}else U=U.bind(A);else if(typeof U=="object"&&U!==null&&(h(E,B)||h(M,B)))U=g(U,E[B],M[B]);else if(h(M,"*"))U=g(U,E[B],M["*"]);else return Object.defineProperty($,B,{configurable:!0,enumerable:!0,get(){return A[B]},set(R){A[B]=R}}),U;return $[B]=U,U},set(se,B,K,U){return B in $?$[B]=K:A[B]=K,!0},defineProperty(se,B,K){return Reflect.defineProperty($,B,K)},deleteProperty(se,B){return Reflect.deleteProperty($,B)}},F=Object.create(A);return new Proxy(F,G)},w=A=>({addListener(E,M,...$){E.addListener(A.get(M),...$)},hasListener(E,M){return E.hasListener(A.get(M))},removeListener(E,M){E.removeListener(A.get(M))}}),S=new u(A=>typeof A!="function"?A:function(M){const $=g(M,{},{getContent:{minArgs:0,maxArgs:0}});A($)}),_=new u(A=>typeof A!="function"?A:function(M,$,G){let F=!1,se,B=new Promise(ie=>{se=function(me){F=!0,ie(me)}}),K;try{K=A(M,$,se)}catch(ie){K=Promise.reject(ie)}const U=K!==!0&&c(K);if(K!==!0&&!U&&!F)return!1;const R=ie=>{ie.then(me=>{G(me)},me=>{let Pe;me&&(me instanceof Error||typeof me.message=="string")?Pe=me.message:Pe="An unexpected error occurred",G({__mozWebExtensionPolyfillReject__:!0,message:Pe})}).catch(me=>{console.error("Failed to send onMessage rejected reply",me)})};return R(U?K:B),!0}),v=({reject:A,resolve:E},M)=>{o.runtime.lastError?o.runtime.lastError.message===i?E():A(new Error(o.runtime.lastError.message)):M&&M.__mozWebExtensionPolyfillReject__?A(new Error(M.message)):E(M)},C=(A,E,M,...$)=>{if($.length<E.minArgs)throw new Error(`Expected at least ${E.minArgs} ${f(E.minArgs)} for ${A}(), got ${$.length}`);if($.length>E.maxArgs)throw new Error(`Expected at most ${E.maxArgs} ${f(E.maxArgs)} for ${A}(), got ${$.length}`);return new Promise((G,F)=>{const se=v.bind(null,{resolve:G,reject:F});$.push(se),M.sendMessage(...$)})},b={devtools:{network:{onRequestFinished:w(S)}},runtime:{onMessage:w(_),onMessageExternal:w(_),sendMessage:C.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:C.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},T={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":T},services:{"*":T},websites:{"*":T}},g(o,b,l)};r.exports=a(chrome)}else r.exports=globalThis.browser})})(Nm);var uv=Nm.exports;const je=Yn(uv),dv=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(e=>[e.name,e]),fv=new Map(dv);class vd extends Error{constructor(r){super(vd._prepareSuperMessage(r));Me(this,"name","NonError")}static _prepareSuperMessage(r){try{return JSON.stringify(r)}catch{return String(r)}}}const hv=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],pu=new WeakSet,mv=e=>{pu.add(e);const t=e.toJSON();return pu.delete(e),t},Lm=e=>fv.get(e)??Error,Ad=({from:e,seen:t,to:r,forceEnumerable:n,maxDepth:s,depth:i,useToJSON:a,serialize:o})=>{if(!r)if(Array.isArray(e))r=[];else if(!o&&$f(e)){const u=Lm(e.name);r=new u}else r={};if(t.push(e),i>=s)return r;if(a&&typeof e.toJSON=="function"&&!pu.has(e))return mv(e);const l=u=>Ad({from:u,seen:[...t],forceEnumerable:n,maxDepth:s,depth:i,useToJSON:a,serialize:o});for(const[u,c]of Object.entries(e)){if(c&&c instanceof Uint8Array&&c.constructor.name==="Buffer"){r[u]="[object Buffer]";continue}if(c!==null&&typeof c=="object"&&typeof c.pipe=="function"){r[u]="[object Stream]";continue}if(typeof c!="function"){if(!c||typeof c!="object"){try{r[u]=c}catch{}continue}if(!t.includes(e[u])){i++,r[u]=l(e[u]);continue}r[u]="[Circular]"}}for(const{property:u,enumerable:c}of hv)typeof e[u]<"u"&&e[u]!==null&&Object.defineProperty(r,u,{value:$f(e[u])?l(e[u]):e[u],enumerable:n?!0:c,configurable:!0,writable:!0});return r};function gv(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY,useToJSON:n=!0}=t;return typeof e=="object"&&e!==null?Ad({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0,useToJSON:n,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function pv(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY}=t;if(e instanceof Error)return e;if(yv(e)){const n=Lm(e.name);return Ad({from:e,seen:[],to:new n,maxDepth:r,depth:0,serialize:!1})}return new vd(e)}function $f(e){return!!e&&typeof e=="object"&&"name"in e&&"message"in e&&"stack"in e}function yv(e){return!!e&&typeof e=="object"&&"message"in e&&!Array.isArray(e)}var wv=Object.defineProperty,bv=Object.defineProperties,vv=Object.getOwnPropertyDescriptors,Uf=Object.getOwnPropertySymbols,Av=Object.prototype.hasOwnProperty,_v=Object.prototype.propertyIsEnumerable,jf=(e,t,r)=>t in e?wv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vf=(e,t)=>{for(var r in t||(t={}))Av.call(t,r)&&jf(e,r,t[r]);if(Uf)for(var r of Uf(t))_v.call(t,r)&&jf(e,r,t[r]);return e},Bf=(e,t)=>bv(e,vv(t)),xv=(e,t,r)=>new Promise((n,s)=>{var i=l=>{try{o(r.next(l))}catch(u){s(u)}},a=l=>{try{o(r.throw(l))}catch(u){s(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,a);o((r=r.apply(e,t)).next())});function Sv(e){let t,r={};function n(){Object.entries(r).length===0&&(t==null||t(),t=void 0)}let s=Math.floor(Math.random()*1e4);function i(){return s++}return{sendMessage(a,o,...l){return xv(this,null,function*(){var u,c;const d={id:i(),type:a,data:o,timestamp:Date.now()};(u=e.logger)==null||u.debug(`[messaging] sendMessage {id=${d.id}} ─ᐅ`,d,...l);const f=yield e.sendMessage(d,...l),{res:m,err:p}=f??{err:new Error("No response")};if((c=e.logger)==null||c.debug(`[messaging] sendMessage {id=${d.id}} ᐊ─`,{res:m,err:p}),p!=null)throw pv(p);return m})},onMessage(a,o){var l,u,c;if(t==null&&((l=e.logger)==null||l.debug(`[messaging] "${a}" initialized the message listener for this context`),t=e.addRootListener(d=>{var f,m;if(typeof d.type!="string"||typeof d.timestamp!="number"){const g=Error(`[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(d)}`);throw(f=e.logger)==null||f.error(g),g}(m=e==null?void 0:e.logger)==null||m.debug("[messaging] Received message",d);const p=r[d.type];if(p==null)return;const h=p(d);return Promise.resolve(h).then(g=>{var w;return(w=e==null?void 0:e.logger)==null||w.debug(`[messaging] onMessage {id=${d.id}} ─ᐅ`,{res:g}),{res:g}}).catch(g=>{var w;return(w=e==null?void 0:e.logger)==null||w.debug(`[messaging] onMessage {id=${d.id}} ─ᐅ`,{err:g}),{err:gv(g)}})})),r[a]!=null){const d=Error(`[messaging] In this JS context, only one listener can be setup for ${a}`);throw(u=e.logger)==null||u.error(d),d}return r[a]=o,(c=e.logger)==null||c.log(`[messaging] Added listener for ${a}`),()=>{delete r[a],n()}},removeAllListeners(){Object.keys(r).forEach(a=>{delete r[a]}),n()}}}function Tv(e){return Sv(Bf(Vf({},e),{sendMessage(t,r){return r==null?je.runtime.sendMessage(t):je.tabs.sendMessage(r,t)},addRootListener(t){const r=(n,s)=>t(typeof n=="object"?Bf(Vf({},n),{sender:s}):n);return je.runtime.onMessage.addListener(r),()=>je.runtime.onMessage.removeListener(r)}}))}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ev=function(t){return t!=null&&typeof t=="object"&&Array.isArray(t)===!1};/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */const Fm=Ev;var kv=function(e,t,r){if(Fm(r)||(r={default:r}),!Hf(e))return typeof r.default<"u"?r.default:e;typeof t=="number"&&(t=String(t));const n=Array.isArray(t),s=typeof t=="string",i=r.separator||".",a=r.joinChar||(typeof i=="string"?i:".");if(!s&&!n)return e;if(s&&t in e)return Fl(t,e,r)?e[t]:r.default;let o=n?t:Ov(t,i,r),l=o.length,u=0;do{let c=o[u];for(typeof c=="number"&&(c=String(c));c&&c.slice(-1)==="\\";)c=Wf([c.slice(0,-1),o[++u]||""],a,r);if(c in e){if(!Fl(c,e,r))return r.default;e=e[c]}else{let d=!1,f=u+1;for(;f<l;)if(c=Wf([c,o[f++]],a,r),d=c in e){if(!Fl(c,e,r))return r.default;e=e[c],u=f-1;break}if(!d)return r.default}}while(++u<l&&Hf(e));return u===l?e:r.default};function Wf(e,t,r){return typeof r.join=="function"?r.join(e):e[0]+t+e[1]}function Ov(e,t,r){return typeof r.split=="function"?r.split(e):e.split(t)}function Fl(e,t,r){return typeof r.isValid=="function"?r.isValid(e,t):!0}function Hf(e){return Fm(e)||Array.isArray(e)||typeof e=="function"}const Cv=Yn(kv);var Pv=(e,t,r)=>new Promise((n,s)=>{var i=l=>{try{o(r.next(l))}catch(u){s(u)}},a=l=>{try{o(r.throw(l))}catch(u){s(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,a);o((r=r.apply(e,t)).next())});function Mv(){if(!Iv())return!1;const e=je.runtime.getManifest();return e.background?e.manifest_version===3?Nv():Rv():!1}function Iv(){var e;return!!((e=je.runtime)!=null&&e.id)}var Dv=["/_generated_background_page.html"];function Rv(){return typeof window<"u"&&Dv.includes(location.pathname)}function Nv(){return typeof window>"u"}function Sc(e,t,r){let n;const s=`proxy-service.${e}`,{onMessage:i,sendMessage:a}=Tv(r);function o(l){const u=()=>{},c=new Proxy(u,{apply(d,f,m){return Pv(this,null,function*(){return yield a(s,{path:l,args:m})})},get(d,f,m){return f==="__proxy"||typeof f=="symbol"?Reflect.get(d,f,m):o(l==null?f:`${l}.${f}`)}});return c.__proxy=!0,c}return[function(...u){return n=t(...u),i(s,({data:c})=>{const d=c.path==null?n:Cv(n??{},c.path);if(d)return Promise.resolve(d.bind(n)(...c.args))}),n},function(){if(!Mv())return o();if(n==null)throw Error(`Failed to get an instance of ${e}: in background, but registerService has not been called. Did you forget to call registerService?`);return n}]}const[ZC,_d]=Sc("BackgroundApi",()=>lv({ofetchDefaults:{baseURL:"https://stayfocusd.st-panel-api.com"}}));var qf=Object.prototype.hasOwnProperty;function yu(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&yu(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(qf.call(e,r)&&++n&&!qf.call(t,r)||!(r in t)||!yu(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const Lv=new Error("request for lock canceled");var Fv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};let $v=class{constructor(t,r=Lv){this._value=t,this._cancelError=r,this._queue=[],this._weightedWaiters=[]}acquire(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((n,s)=>{const i={resolve:n,reject:s,weight:t,priority:r},a=$m(this._queue,o=>r<=o.priority);a===-1&&t<=this._value?this._dispatchItem(i):this._queue.splice(a+1,0,i)})}runExclusive(t){return Fv(this,arguments,void 0,function*(r,n=1,s=0){const[i,a]=yield this.acquire(n,s);try{return yield r(i)}finally{a()}})}waitForUnlock(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,r)?Promise.resolve():new Promise(n=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),Uv(this._weightedWaiters[t-1],{resolve:n,priority:r})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const r=this._value;this._value-=t.weight,t.resolve([r,this._newReleaser(t.weight)])}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let t=this._value;t>0;t--){const r=this._weightedWaiters[t-1];r&&(r.forEach(n=>n.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let r=this._value;r>0;r--){const n=this._weightedWaiters[r-1];if(!n)continue;const s=n.findIndex(i=>i.priority<=t);(s===-1?n:n.splice(0,s)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,r){return(this._queue.length===0||this._queue[0].priority<r)&&t<=this._value}};function Uv(e,t){const r=$m(e,n=>t.priority<=n.priority);e.splice(r+1,0,t)}function $m(e,t){for(let r=e.length-1;r>=0;r--)if(t(e[r]))return r;return-1}var jv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};let Tc=class{constructor(t){this._semaphore=new $v(1,t)}acquire(){return jv(this,arguments,void 0,function*(t=0){const[,r]=yield this._semaphore.acquire(1,t);return r})}runExclusive(t,r=0){return this._semaphore.runExclusive(()=>t(),1,r)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var ym,wm;const Oo=((wm=(ym=globalThis.browser)==null?void 0:ym.runtime)==null?void 0:wm.id)==null?globalThis.chrome:globalThis.browser,ri=Vv();function Vv(){const e={local:mo("local"),session:mo("session"),sync:mo("sync"),managed:mo("managed")},t=h=>{const g=e[h];if(g==null){const w=Object.keys(e).join(", ");throw Error(`Invalid area "${h}". Options: ${w}`)}return g},r=h=>{const g=h.indexOf(":"),w=h.substring(0,g),S=h.substring(g+1);if(S==null)throw Error(`Storage key should be in the form of "area:key", but received "${h}"`);return{driverArea:w,driverKey:S,driver:t(w)}},n=h=>h+"$",s=(h,g)=>{const w={...h};return Object.entries(g).forEach(([S,_])=>{_==null?delete w[S]:w[S]=_}),w},i=(h,g)=>h??g??null,a=h=>typeof h=="object"&&!Array.isArray(h)?h:{},o=async(h,g,w)=>{const S=await h.getItem(g);return i(S,(w==null?void 0:w.fallback)??(w==null?void 0:w.defaultValue))},l=async(h,g)=>{const w=n(g),S=await h.getItem(w);return a(S)},u=async(h,g,w)=>{await h.setItem(g,w??null)},c=async(h,g,w)=>{const S=n(g),_=a(await h.getItem(S));await h.setItem(S,s(_,w))},d=async(h,g,w)=>{if(await h.removeItem(g),w!=null&&w.removeMeta){const S=n(g);await h.removeItem(S)}},f=async(h,g,w)=>{const S=n(g);if(w==null)await h.removeItem(S);else{const _=a(await h.getItem(S));[w].flat().forEach(v=>delete _[v]),await h.setItem(S,_)}},m=(h,g,w)=>h.watch(g,w);return{getItem:async(h,g)=>{const{driver:w,driverKey:S}=r(h);return await o(w,S,g)},getItems:async h=>{const g=new Map,w=new Map,S=[];h.forEach(v=>{let C,b;typeof v=="string"?C=v:"getValue"in v?(C=v.key,b={fallback:v.fallback}):(C=v.key,b=v.options),S.push(C);const{driverArea:T,driverKey:A}=r(C),E=g.get(T)??[];g.set(T,E.concat(A)),w.set(C,b)});const _=new Map;return await Promise.all(Array.from(g.entries()).map(async([v,C])=>{(await e[v].getItems(C)).forEach(T=>{const A=`${v}:${T.key}`,E=w.get(A),M=i(T.value,(E==null?void 0:E.fallback)??(E==null?void 0:E.defaultValue));_.set(A,M)})})),S.map(v=>({key:v,value:_.get(v)}))},getMeta:async h=>{const{driver:g,driverKey:w}=r(h);return await l(g,w)},getMetas:async h=>{const g=h.map(_=>{const v=typeof _=="string"?_:_.key,{driverArea:C,driverKey:b}=r(v);return{key:v,driverArea:C,driverKey:b,driverMetaKey:n(b)}}),w=g.reduce((_,v)=>{var C;return _[C=v.driverArea]??(_[C]=[]),_[v.driverArea].push(v),_},{}),S={};return await Promise.all(Object.entries(w).map(async([_,v])=>{const C=await Oo.storage[_].get(v.map(b=>b.driverMetaKey));v.forEach(b=>{S[b.key]=C[b.driverMetaKey]??{}})})),g.map(_=>({key:_.key,meta:S[_.key]}))},setItem:async(h,g)=>{const{driver:w,driverKey:S}=r(h);await u(w,S,g)},setItems:async h=>{const g={};h.forEach(w=>{const{driverArea:S,driverKey:_}=r("key"in w?w.key:w.item.key);g[S]??(g[S]=[]),g[S].push({key:_,value:w.value})}),await Promise.all(Object.entries(g).map(async([w,S])=>{await t(w).setItems(S)}))},setMeta:async(h,g)=>{const{driver:w,driverKey:S}=r(h);await c(w,S,g)},setMetas:async h=>{const g={};h.forEach(w=>{const{driverArea:S,driverKey:_}=r("key"in w?w.key:w.item.key);g[S]??(g[S]=[]),g[S].push({key:_,properties:w.meta})}),await Promise.all(Object.entries(g).map(async([w,S])=>{const _=t(w),v=S.map(({key:A})=>n(A));console.log(w,v);const C=await _.getItems(v),b=Object.fromEntries(C.map(({key:A,value:E})=>[A,a(E)])),T=S.map(({key:A,properties:E})=>{const M=n(A);return{key:M,value:s(b[M]??{},E)}});await _.setItems(T)}))},removeItem:async(h,g)=>{const{driver:w,driverKey:S}=r(h);await d(w,S,g)},removeItems:async h=>{const g={};h.forEach(w=>{let S,_;typeof w=="string"?S=w:"getValue"in w?S=w.key:"item"in w?(S=w.item.key,_=w.options):(S=w.key,_=w.options);const{driverArea:v,driverKey:C}=r(S);g[v]??(g[v]=[]),g[v].push(C),_!=null&&_.removeMeta&&g[v].push(n(C))}),await Promise.all(Object.entries(g).map(async([w,S])=>{await t(w).removeItems(S)}))},clear:async h=>{await t(h).clear()},removeMeta:async(h,g)=>{const{driver:w,driverKey:S}=r(h);await f(w,S,g)},snapshot:async(h,g)=>{var _;const S=await t(h).snapshot();return(_=g==null?void 0:g.excludeKeys)==null||_.forEach(v=>{delete S[v],delete S[n(v)]}),S},restoreSnapshot:async(h,g)=>{await t(h).restoreSnapshot(g)},watch:(h,g)=>{const{driver:w,driverKey:S}=r(h);return m(w,S,g)},unwatch(){Object.values(e).forEach(h=>{h.unwatch()})},defineItem:(h,g)=>{const{driver:w,driverKey:S}=r(h),{version:_=1,migrations:v={}}=g??{};if(_<1)throw Error("Storage item version cannot be less than 1. Initial versions should be set to 1, not 0.");const C=async()=>{var K;const M=n(S),[{value:$},{value:G}]=await w.getItems([S,M]);if($==null)return;const F=(G==null?void 0:G.v)??1;if(F>_)throw Error(`Version downgrade detected (v${F} -> v${_}) for "${h}"`);if(F===_)return;console.debug(`[@wxt-dev/storage] Running storage migration for ${h}: v${F} -> v${_}`);const se=Array.from({length:_-F},(U,R)=>F+R+1);let B=$;for(const U of se)try{B=await((K=v==null?void 0:v[U])==null?void 0:K.call(v,B))??B}catch(R){throw new Bv(h,U,{cause:R})}await w.setItems([{key:S,value:B},{key:M,value:{...G,v:_}}]),console.debug(`[@wxt-dev/storage] Storage migration completed for ${h} v${_}`,{migratedValue:B})},b=(g==null?void 0:g.migrations)==null?Promise.resolve():C().catch(M=>{console.error(`[@wxt-dev/storage] Migration failed for ${h}`,M)}),T=new Tc,A=()=>(g==null?void 0:g.fallback)??(g==null?void 0:g.defaultValue)??null,E=()=>T.runExclusive(async()=>{const M=await w.getItem(S);if(M!=null||(g==null?void 0:g.init)==null)return M;const $=await g.init();return await w.setItem(S,$),$});return b.then(E),{key:h,get defaultValue(){return A()},get fallback(){return A()},getValue:async()=>(await b,g!=null&&g.init?await E():await o(w,S,g)),getMeta:async()=>(await b,await l(w,S)),setValue:async M=>(await b,await u(w,S,M)),setMeta:async M=>(await b,await c(w,S,M)),removeValue:async M=>(await b,await d(w,S,M)),removeMeta:async M=>(await b,await f(w,S,M)),watch:M=>m(w,S,($,G)=>M($??A(),G??A())),migrate:C}}}}function mo(e){const t=()=>{if(Oo.runtime==null)throw Error(["'wxt/storage' must be loaded in a web extension environment",`
 - If thrown during a build, see https://github.com/wxt-dev/wxt/issues/371`,` - If thrown during tests, mock 'wxt/browser' correctly. See https://wxt.dev/guide/go-further/testing.html
`].join(`
`));if(Oo.storage==null)throw Error("You must add the 'storage' permission to your manifest to use 'wxt/storage'");const n=Oo.storage[e];if(n==null)throw Error(`"browser.storage.${e}" is undefined`);return n},r=new Set;return{getItem:async n=>(await t().get(n))[n],getItems:async n=>{const s=await t().get(n);return n.map(i=>({key:i,value:s[i]??null}))},setItem:async(n,s)=>{s==null?await t().remove(n):await t().set({[n]:s})},setItems:async n=>{const s=n.reduce((i,{key:a,value:o})=>(i[a]=o,i),{});await t().set(s)},removeItem:async n=>{await t().remove(n)},removeItems:async n=>{await t().remove(n)},clear:async()=>{await t().clear()},snapshot:async()=>await t().get(),restoreSnapshot:async n=>{await t().set(n)},watch(n,s){const i=a=>{const o=a[n];o!=null&&(yu(o.newValue,o.oldValue)||s(o.newValue??null,o.oldValue??null))};return t().onChanged.addListener(i),r.add(i),()=>{t().onChanged.removeListener(i),r.delete(i)}},unwatch(){r.forEach(n=>{t().onChanged.removeListener(n)}),r.clear()}}}class Bv extends Error{constructor(t,r,n){super(`v${r} migration failed for "${t}"`,n),this.key=t,this.version=r}}const Wv=new Error("request for lock canceled");var Hv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class qv{constructor(t,r=Wv){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return Hv(this,void 0,void 0,function*(){const[n,s]=yield this.acquire(r);try{return yield t(n)}finally{s()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=(t=this._weightedQueues[r-1])===null||t===void 0?void 0:t.shift();if(!n)continue;const s=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([s,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}var Gv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})};class Yv{constructor(t){this._semaphore=new qv(1,t)}acquire(){return Gv(this,void 0,void 0,function*(){const[,t]=yield this._semaphore.acquire();return t})}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Zv=new Yv,zv="local:installId",Gf="local:install-id";function Ua(){return Zv.runExclusive(async()=>{const e=await ri.getItem(Gf),t=await ri.getItem(zv);if(e&&t)return e;if(t)return t;if(e)return e;const r=ib();return await ri.setItem(Gf,r),r})}var Be;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Be||(Be={}));var wu;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(wu||(wu={}));const oe=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hn=e=>{switch(typeof e){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return isNaN(e)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(e)?oe.array:e===null?oe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?oe.promise:typeof Map<"u"&&e instanceof Map?oe.map:typeof Set<"u"&&e instanceof Set?oe.set:typeof Date<"u"&&e instanceof Date?oe.date:oe.object;default:return oe.unknown}},Z=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Kv=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ur extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return s(this),n}static assert(t){if(!(t instanceof ur))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ur.create=e=>new ur(e);const _i=(e,t)=>{let r;switch(e.code){case Z.invalid_type:e.received===oe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Be.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:r=`Unrecognized key(s) in object: ${Be.joinValues(e.keys,", ")}`;break;case Z.invalid_union:r="Invalid input";break;case Z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Be.joinValues(e.options)}`;break;case Z.invalid_enum_value:r=`Invalid enum value. Expected ${Be.joinValues(e.options)}, received '${e.received}'`;break;case Z.invalid_arguments:r="Invalid function arguments";break;case Z.invalid_return_type:r="Invalid function return type";break;case Z.invalid_date:r="Invalid date";break;case Z.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Be.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Z.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Z.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Z.custom:r="Invalid input";break;case Z.invalid_intersection_types:r="Intersection results could not be merged";break;case Z.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Z.not_finite:r="Number must be finite";break;default:r=t.defaultError,Be.assertNever(e)}return{message:r}};let Um=_i;function Jv(e){Um=e}function Go(){return Um}const Yo=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}},Xv=[];function re(e,t){const r=Go(),n=Yo({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===_i?void 0:_i].filter(s=>!!s)});e.common.issues.push(n)}class Vt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ae;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return Vt.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Ae;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}}const Ae=Object.freeze({status:"aborted"}),ti=e=>({status:"dirty",value:e}),er=e=>({status:"valid",value:e}),bu=e=>e.status==="aborted",vu=e=>e.status==="dirty",Cs=e=>e.status==="valid",ha=e=>typeof Promise<"u"&&e instanceof Promise;function Zo(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function jm(e,t,r,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var he;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(he||(he={}));var Yi,Zi;class zr{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yf=(e,t)=>{if(Cs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ur(e.common.issues);return this._error=r,this._error}}};function Ce(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,o)=>{var l,u;const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:(l=c??n)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=c??r)!==null&&u!==void 0?u:o.defaultError}},description:s}}class Ie{get description(){return this._def.description}_getType(t){return hn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:hn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Vt,ctx:{common:t.parent.common,data:t.data,parsedType:hn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ha(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hn(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Yf(s,i)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hn(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Cs(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Cs(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hn(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(ha(s)?s:Promise.resolve(s));return Yf(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=t(s),o=()=>i.addIssue({code:Z.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Rr({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Yr.create(this,this._def)}nullable(){return qn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ir.create(this)}promise(){return Si.create(this,this._def)}or(t){return ya.create([this,t],this._def)}and(t){return wa.create(this,t,this._def)}transform(t){return new Rr({...Ce(this._def),schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new xa({...Ce(this._def),innerType:this,defaultValue:r,typeName:be.ZodDefault})}brand(){return new xd({typeName:be.ZodBranded,type:this,...Ce(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Sa({...Ce(this._def),innerType:this,catchValue:r,typeName:be.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ja.create(this,t)}readonly(){return Ta.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qv=/^c[^\s-]{8,}$/i,eA=/^[0-9a-z]+$/,tA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nA=/^[a-z0-9_-]{21}$/i,sA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $l;const cA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,uA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Vm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mA=new RegExp(`^${Vm}$`);function Bm(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function gA(e){return new RegExp(`^${Bm(e)}$`)}function Wm(e){let t=`${Vm}T${Bm(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function pA(e,t){return!!((t==="v4"||!t)&&cA.test(e)||(t==="v6"||!t)&&uA.test(e))}function yA(e,t){if(!sA.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function wA(e,t){return!!((t==="v4"||!t)&&lA.test(e)||(t==="v6"||!t)&&dA.test(e))}class Mr extends Ie{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==oe.string){const i=this._getOrReturnCtx(t);return re(i,{code:Z.invalid_type,expected:oe.string,received:i.parsedType}),Ae}const n=new Vt;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,o=t.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(t,s),a?re(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&re(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")aA.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"email",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")$l||($l=new RegExp(oA,"u")),$l.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"emoji",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")rA.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"uuid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")nA.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"nanoid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Qv.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cuid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")eA.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cuid2",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")tA.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"ulid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),re(s,{validation:"url",code:Z.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"regex",code:Z.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),re(s,{code:Z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),re(s,{code:Z.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),re(s,{code:Z.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Wm(i).test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:Z.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?mA.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:Z.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?gA(i).test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:Z.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?iA.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"duration",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?pA(t.data,i.version)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"ip",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?yA(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"jwt",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?wA(t.data,i.version)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"cidr",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?fA.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"base64",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?hA.test(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{validation:"base64url",code:Z.invalid_string,message:i.message}),n.dirty()):Be.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:Z.invalid_string,...he.errToObj(n)})}_addCheck(t){return new Mr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...he.errToObj(t)})}url(t){return this._addCheck({kind:"url",...he.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...he.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...he.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...he.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...he.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...he.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...he.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...he.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...he.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...he.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...he.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...he.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...he.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...he.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...he.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...he.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...he.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...he.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...he.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...he.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...he.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...he.errToObj(r)})}nonempty(t){return this.min(1,he.errToObj(t))}trim(){return new Mr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Mr.create=e=>{var t;return new Mr({checks:[],typeName:be.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ce(e)})};function bA(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Bn extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==oe.number){const i=this._getOrReturnCtx(t);return re(i,{code:Z.invalid_type,expected:oe.number,received:i.parsedType}),Ae}let n;const s=new Vt;for(const i of this._def.checks)i.kind==="int"?Be.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{code:Z.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:Z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:Z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?bA(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),re(n,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{code:Z.not_finite,message:i.message}),s.dirty()):Be.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,he.toString(r))}gt(t,r){return this.setLimit("min",t,!1,he.toString(r))}lte(t,r){return this.setLimit("max",t,!0,he.toString(r))}lt(t,r){return this.setLimit("max",t,!1,he.toString(r))}setLimit(t,r,n,s){return new Bn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:he.toString(s)}]})}_addCheck(t){return new Bn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:he.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:he.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Be.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Bn.create=e=>new Bn({checks:[],typeName:be.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ce(e)});class Wn extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==oe.bigint)return this._getInvalidInput(t);let n;const s=new Vt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:Z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),re(n,{code:Z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),re(n,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Be.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return re(r,{code:Z.invalid_type,expected:oe.bigint,received:r.parsedType}),Ae}gte(t,r){return this.setLimit("min",t,!0,he.toString(r))}gt(t,r){return this.setLimit("min",t,!1,he.toString(r))}lte(t,r){return this.setLimit("max",t,!0,he.toString(r))}lt(t,r){return this.setLimit("max",t,!1,he.toString(r))}setLimit(t,r,n,s){return new Wn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:he.toString(s)}]})}_addCheck(t){return new Wn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Wn.create=e=>{var t;return new Wn({checks:[],typeName:be.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ce(e)})};class ma extends Ie{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==oe.boolean){const n=this._getOrReturnCtx(t);return re(n,{code:Z.invalid_type,expected:oe.boolean,received:n.parsedType}),Ae}return er(t.data)}}ma.create=e=>new ma({typeName:be.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ce(e)});class Ps extends Ie{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==oe.date){const i=this._getOrReturnCtx(t);return re(i,{code:Z.invalid_type,expected:oe.date,received:i.parsedType}),Ae}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return re(i,{code:Z.invalid_date}),Ae}const n=new Vt;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:Z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),re(s,{code:Z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Be.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ps({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:he.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:he.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ps.create=e=>new Ps({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:be.ZodDate,...Ce(e)});class zo extends Ie{_parse(t){if(this._getType(t)!==oe.symbol){const n=this._getOrReturnCtx(t);return re(n,{code:Z.invalid_type,expected:oe.symbol,received:n.parsedType}),Ae}return er(t.data)}}zo.create=e=>new zo({typeName:be.ZodSymbol,...Ce(e)});class ga extends Ie{_parse(t){if(this._getType(t)!==oe.undefined){const n=this._getOrReturnCtx(t);return re(n,{code:Z.invalid_type,expected:oe.undefined,received:n.parsedType}),Ae}return er(t.data)}}ga.create=e=>new ga({typeName:be.ZodUndefined,...Ce(e)});class pa extends Ie{_parse(t){if(this._getType(t)!==oe.null){const n=this._getOrReturnCtx(t);return re(n,{code:Z.invalid_type,expected:oe.null,received:n.parsedType}),Ae}return er(t.data)}}pa.create=e=>new pa({typeName:be.ZodNull,...Ce(e)});class xi extends Ie{constructor(){super(...arguments),this._any=!0}_parse(t){return er(t.data)}}xi.create=e=>new xi({typeName:be.ZodAny,...Ce(e)});class xs extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(t){return er(t.data)}}xs.create=e=>new xs({typeName:be.ZodUnknown,...Ce(e)});class wn extends Ie{_parse(t){const r=this._getOrReturnCtx(t);return re(r,{code:Z.invalid_type,expected:oe.never,received:r.parsedType}),Ae}}wn.create=e=>new wn({typeName:be.ZodNever,...Ce(e)});class Ko extends Ie{_parse(t){if(this._getType(t)!==oe.undefined){const n=this._getOrReturnCtx(t);return re(n,{code:Z.invalid_type,expected:oe.void,received:n.parsedType}),Ae}return er(t.data)}}Ko.create=e=>new Ko({typeName:be.ZodVoid,...Ce(e)});class Ir extends Ie{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==oe.array)return re(r,{code:Z.invalid_type,expected:oe.array,received:r.parsedType}),Ae;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(re(r,{code:a?Z.too_big:Z.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(re(r,{code:Z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(re(r,{code:Z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new zr(r,a,r.path,o)))).then(a=>Vt.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new zr(r,a,r.path,o)));return Vt.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ir({...this._def,minLength:{value:t,message:he.toString(r)}})}max(t,r){return new Ir({...this._def,maxLength:{value:t,message:he.toString(r)}})}length(t,r){return new Ir({...this._def,exactLength:{value:t,message:he.toString(r)}})}nonempty(t){return this.min(1,t)}}Ir.create=(e,t)=>new Ir({type:e,minLength:null,maxLength:null,exactLength:null,typeName:be.ZodArray,...Ce(t)});function Qs(e){if(e instanceof ot){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Yr.create(Qs(n))}return new ot({...e._def,shape:()=>t})}else return e instanceof Ir?new Ir({...e._def,type:Qs(e.element)}):e instanceof Yr?Yr.create(Qs(e.unwrap())):e instanceof qn?qn.create(Qs(e.unwrap())):e instanceof Kr?Kr.create(e.items.map(t=>Qs(t))):e}class ot extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Be.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==oe.object){const u=this._getOrReturnCtx(t);return re(u,{code:Z.invalid_type,expected:oe.object,received:u.parsedType}),Ae}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof wn&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const c=i[u],d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new zr(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof wn){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(u==="strict")o.length>0&&(re(s,{code:Z.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of o){const d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new zr(s,d,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>Vt.mergeObjectSync(n,u)):Vt.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return he.errToObj,new ot({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,a,o;const l=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=he.errToObj(t).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(t){return new ot({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ot({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:be.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ot({...this._def,catchall:t})}pick(t){const r={};return Be.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ot({...this._def,shape:()=>r})}omit(t){const r={};return Be.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new ot({...this._def,shape:()=>r})}deepPartial(){return Qs(this)}partial(t){const r={};return Be.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new ot({...this._def,shape:()=>r})}required(t){const r={};return Be.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Yr;)i=i._def.innerType;r[n]=i}}),new ot({...this._def,shape:()=>r})}keyof(){return Hm(Be.objectKeys(this.shape))}}ot.create=(e,t)=>new ot({shape:()=>e,unknownKeys:"strip",catchall:wn.create(),typeName:be.ZodObject,...Ce(t)});ot.strictCreate=(e,t)=>new ot({shape:()=>e,unknownKeys:"strict",catchall:wn.create(),typeName:be.ZodObject,...Ce(t)});ot.lazycreate=(e,t)=>new ot({shape:e,unknownKeys:"strip",catchall:wn.create(),typeName:be.ZodObject,...Ce(t)});class ya extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new ur(o.ctx.common.issues));return re(r,{code:Z.invalid_union,unionErrors:a}),Ae}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new ur(l));return re(r,{code:Z.invalid_union,unionErrors:o}),Ae}}get options(){return this._def.options}}ya.create=(e,t)=>new ya({options:e,typeName:be.ZodUnion,...Ce(t)});const dn=e=>e instanceof va?dn(e.schema):e instanceof Rr?dn(e.innerType()):e instanceof Aa?[e.value]:e instanceof Hn?e.options:e instanceof _a?Be.objectValues(e.enum):e instanceof xa?dn(e._def.innerType):e instanceof ga?[void 0]:e instanceof pa?[null]:e instanceof Yr?[void 0,...dn(e.unwrap())]:e instanceof qn?[null,...dn(e.unwrap())]:e instanceof xd||e instanceof Ta?dn(e.unwrap()):e instanceof Sa?dn(e._def.innerType):[];class Ec extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.object)return re(r,{code:Z.invalid_type,expected:oe.object,received:r.parsedType}),Ae;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(re(r,{code:Z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const a=dn(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,i)}}return new Ec({typeName:be.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Ce(n)})}}function Au(e,t){const r=hn(e),n=hn(t);if(e===t)return{valid:!0,data:e};if(r===oe.object&&n===oe.object){const s=Be.objectKeys(t),i=Be.objectKeys(e).filter(o=>s.indexOf(o)!==-1),a={...e,...t};for(const o of i){const l=Au(e[o],t[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===oe.array&&n===oe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],o=t[i],l=Au(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===oe.date&&n===oe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class wa extends Ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(bu(i)||bu(a))return Ae;const o=Au(i.value,a.value);return o.valid?((vu(i)||vu(a))&&r.dirty(),{status:r.value,value:o.data}):(re(n,{code:Z.invalid_intersection_types}),Ae)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}wa.create=(e,t,r)=>new wa({left:e,right:t,typeName:be.ZodIntersection,...Ce(r)});class Kr extends Ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.array)return re(n,{code:Z.invalid_type,expected:oe.array,received:n.parsedType}),Ae;if(n.data.length<this._def.items.length)return re(n,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&n.data.length>this._def.items.length&&(re(n,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new zr(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Vt.mergeArray(r,a)):Vt.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Kr({...this._def,rest:t})}}Kr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kr({items:e,typeName:be.ZodTuple,rest:null,...Ce(t)})};class ba extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.object)return re(n,{code:Z.invalid_type,expected:oe.object,received:n.parsedType}),Ae;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new zr(n,o,n.path,o)),value:a._parse(new zr(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Vt.mergeObjectAsync(r,s):Vt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Ie?new ba({keyType:t,valueType:r,typeName:be.ZodRecord,...Ce(n)}):new ba({keyType:Mr.create(),valueType:t,typeName:be.ZodRecord,...Ce(r)})}}class Jo extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.map)return re(n,{code:Z.invalid_type,expected:oe.map,received:n.parsedType}),Ae;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,l],u)=>({key:s._parse(new zr(n,o,n.path,[u,"key"])),value:i._parse(new zr(n,l,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Ae;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Ae;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),o.set(u.value,c.value)}return{status:r.value,value:o}}}}Jo.create=(e,t,r)=>new Jo({valueType:t,keyType:e,typeName:be.ZodMap,...Ce(r)});class Ms extends Ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.set)return re(n,{code:Z.invalid_type,expected:oe.set,received:n.parsedType}),Ae;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(re(n,{code:Z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(re(n,{code:Z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Ae;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((l,u)=>i._parse(new zr(n,l,n.path,u)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(t,r){return new Ms({...this._def,minSize:{value:t,message:he.toString(r)}})}max(t,r){return new Ms({...this._def,maxSize:{value:t,message:he.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ms.create=(e,t)=>new Ms({valueType:e,minSize:null,maxSize:null,typeName:be.ZodSet,...Ce(t)});class ni extends Ie{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.function)return re(r,{code:Z.invalid_type,expected:oe.function,received:r.parsedType}),Ae;function n(o,l){return Yo({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Go(),_i].filter(u=>!!u),issueData:{code:Z.invalid_arguments,argumentsError:l}})}function s(o,l){return Yo({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Go(),_i].filter(u=>!!u),issueData:{code:Z.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Si){const o=this;return er(async function(...l){const u=new ur([]),c=await o._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(n(l,m)),u}),d=await Reflect.apply(a,this,c);return await o._def.returns._def.type.parseAsync(d,i).catch(m=>{throw u.addIssue(s(d,m)),u})})}else{const o=this;return er(function(...l){const u=o._def.args.safeParse(l,i);if(!u.success)throw new ur([n(l,u.error)]);const c=Reflect.apply(a,this,u.data),d=o._def.returns.safeParse(c,i);if(!d.success)throw new ur([s(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ni({...this._def,args:Kr.create(t).rest(xs.create())})}returns(t){return new ni({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new ni({args:t||Kr.create([]).rest(xs.create()),returns:r||xs.create(),typeName:be.ZodFunction,...Ce(n)})}}class va extends Ie{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}va.create=(e,t)=>new va({getter:e,typeName:be.ZodLazy,...Ce(t)});class Aa extends Ie{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return re(r,{received:r.data,code:Z.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:t.data}}get value(){return this._def.value}}Aa.create=(e,t)=>new Aa({value:e,typeName:be.ZodLiteral,...Ce(t)});function Hm(e,t){return new Hn({values:e,typeName:be.ZodEnum,...Ce(t)})}class Hn extends Ie{constructor(){super(...arguments),Yi.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return re(r,{expected:Be.joinValues(n),received:r.parsedType,code:Z.invalid_type}),Ae}if(Zo(this,Yi)||jm(this,Yi,new Set(this._def.values)),!Zo(this,Yi).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return re(r,{received:r.data,code:Z.invalid_enum_value,options:n}),Ae}return er(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Hn.create(t,{...this._def,...r})}exclude(t,r=this._def){return Hn.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Yi=new WeakMap;Hn.create=Hm;class _a extends Ie{constructor(){super(...arguments),Zi.set(this,void 0)}_parse(t){const r=Be.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==oe.string&&n.parsedType!==oe.number){const s=Be.objectValues(r);return re(n,{expected:Be.joinValues(s),received:n.parsedType,code:Z.invalid_type}),Ae}if(Zo(this,Zi)||jm(this,Zi,new Set(Be.getValidEnumValues(this._def.values))),!Zo(this,Zi).has(t.data)){const s=Be.objectValues(r);return re(n,{received:n.data,code:Z.invalid_enum_value,options:s}),Ae}return er(t.data)}get enum(){return this._def.values}}Zi=new WeakMap;_a.create=(e,t)=>new _a({values:e,typeName:be.ZodNativeEnum,...Ce(t)});class Si extends Ie{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.promise&&r.common.async===!1)return re(r,{code:Z.invalid_type,expected:oe.promise,received:r.parsedType}),Ae;const n=r.parsedType===oe.promise?r.data:Promise.resolve(r.data);return er(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Si.create=(e,t)=>new Si({type:e,typeName:be.ZodPromise,...Ce(t)});class Rr extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{re(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return Ae;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ae:l.status==="dirty"||r.value==="dirty"?ti(l.value):l});{if(r.value==="aborted")return Ae;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Ae:o.status==="dirty"||r.value==="dirty"?ti(o.value):o}}if(s.type==="refinement"){const a=o=>{const l=s.refinement(o,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ae:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ae:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Cs(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Cs(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):a);Be.assertNever(s)}}Rr.create=(e,t,r)=>new Rr({schema:e,typeName:be.ZodEffects,effect:t,...Ce(r)});Rr.createWithPreprocess=(e,t,r)=>new Rr({schema:t,effect:{type:"preprocess",transform:e},typeName:be.ZodEffects,...Ce(r)});class Yr extends Ie{_parse(t){return this._getType(t)===oe.undefined?er(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yr.create=(e,t)=>new Yr({innerType:e,typeName:be.ZodOptional,...Ce(t)});class qn extends Ie{_parse(t){return this._getType(t)===oe.null?er(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qn.create=(e,t)=>new qn({innerType:e,typeName:be.ZodNullable,...Ce(t)});class xa extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===oe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}xa.create=(e,t)=>new xa({innerType:e,typeName:be.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ce(t)});class Sa extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ha(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ur(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ur(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Sa.create=(e,t)=>new Sa({innerType:e,typeName:be.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ce(t)});class Xo extends Ie{_parse(t){if(this._getType(t)!==oe.nan){const n=this._getOrReturnCtx(t);return re(n,{code:Z.invalid_type,expected:oe.nan,received:n.parsedType}),Ae}return{status:"valid",value:t.data}}}Xo.create=e=>new Xo({typeName:be.ZodNaN,...Ce(e)});const vA=Symbol("zod_brand");class xd extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ja extends Ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ae:i.status==="dirty"?(r.dirty(),ti(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ae:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new ja({in:t,out:r,typeName:be.ZodPipeline})}}class Ta extends Ie{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Cs(s)&&(s.value=Object.freeze(s.value)),s);return ha(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Ta.create=(e,t)=>new Ta({innerType:e,typeName:be.ZodReadonly,...Ce(t)});function Zf(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function qm(e,t={},r){return e?xi.create().superRefine((n,s)=>{var i,a;const o=e(n);if(o instanceof Promise)return o.then(l=>{var u,c;if(!l){const d=Zf(t,n),f=(c=(u=d.fatal)!==null&&u!==void 0?u:r)!==null&&c!==void 0?c:!0;s.addIssue({code:"custom",...d,fatal:f})}});if(!o){const l=Zf(t,n),u=(a=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0;s.addIssue({code:"custom",...l,fatal:u})}}):xi.create()}const AA={object:ot.lazycreate};var be;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(be||(be={}));const _A=(e,t={message:`Input not instance of ${e.name}`})=>qm(r=>r instanceof e,t),ze=Mr.create,ft=Bn.create,xA=Xo.create,SA=Wn.create,kc=ma.create,TA=Ps.create,EA=zo.create,kA=ga.create,OA=pa.create,Gm=xi.create,CA=xs.create,PA=wn.create,MA=Ko.create,IA=Ir.create,Ar=ot.create,DA=ot.strictCreate,Sd=ya.create,RA=Ec.create,NA=wa.create,LA=Kr.create,Ym=ba.create,FA=Jo.create,$A=Ms.create,UA=ni.create,jA=va.create,VA=Aa.create,Ti=Hn.create,BA=_a.create,WA=Si.create,zf=Rr.create,HA=Yr.create,qA=qn.create,GA=Rr.createWithPreprocess,YA=ja.create,ZA=()=>ze().optional(),zA=()=>ft().optional(),KA=()=>kc().optional(),JA={string:e=>Mr.create({...e,coerce:!0}),number:e=>Bn.create({...e,coerce:!0}),boolean:e=>ma.create({...e,coerce:!0}),bigint:e=>Wn.create({...e,coerce:!0}),date:e=>Ps.create({...e,coerce:!0})},XA=Ae;var ge=Object.freeze({__proto__:null,defaultErrorMap:_i,setErrorMap:Jv,getErrorMap:Go,makeIssue:Yo,EMPTY_PATH:Xv,addIssueToContext:re,ParseStatus:Vt,INVALID:Ae,DIRTY:ti,OK:er,isAborted:bu,isDirty:vu,isValid:Cs,isAsync:ha,get util(){return Be},get objectUtil(){return wu},ZodParsedType:oe,getParsedType:hn,ZodType:Ie,datetimeRegex:Wm,ZodString:Mr,ZodNumber:Bn,ZodBigInt:Wn,ZodBoolean:ma,ZodDate:Ps,ZodSymbol:zo,ZodUndefined:ga,ZodNull:pa,ZodAny:xi,ZodUnknown:xs,ZodNever:wn,ZodVoid:Ko,ZodArray:Ir,ZodObject:ot,ZodUnion:ya,ZodDiscriminatedUnion:Ec,ZodIntersection:wa,ZodTuple:Kr,ZodRecord:ba,ZodMap:Jo,ZodSet:Ms,ZodFunction:ni,ZodLazy:va,ZodLiteral:Aa,ZodEnum:Hn,ZodNativeEnum:_a,ZodPromise:Si,ZodEffects:Rr,ZodTransformer:Rr,ZodOptional:Yr,ZodNullable:qn,ZodDefault:xa,ZodCatch:Sa,ZodNaN:Xo,BRAND:vA,ZodBranded:xd,ZodPipeline:ja,ZodReadonly:Ta,custom:qm,Schema:Ie,ZodSchema:Ie,late:AA,get ZodFirstPartyTypeKind(){return be},coerce:JA,any:Gm,array:IA,bigint:SA,boolean:kc,date:TA,discriminatedUnion:RA,effect:zf,enum:Ti,function:UA,instanceof:_A,intersection:NA,lazy:jA,literal:VA,map:FA,nan:xA,nativeEnum:BA,never:PA,null:OA,nullable:qA,number:ft,object:Ar,oboolean:KA,onumber:zA,optional:HA,ostring:ZA,pipeline:YA,preprocess:GA,promise:WA,record:Ym,set:$A,strictObject:DA,string:ze,symbol:EA,transformer:zf,tuple:LA,undefined:kA,union:Sd,unknown:CA,void:MA,NEVER:XA,ZodIssueCode:Z,quotelessJson:Kv,ZodError:ur}),Ct=[];for(var Ul=0;Ul<256;++Ul)Ct.push((Ul+256).toString(16).slice(1));function QA(e,t=0){return(Ct[e[t+0]]+Ct[e[t+1]]+Ct[e[t+2]]+Ct[e[t+3]]+"-"+Ct[e[t+4]]+Ct[e[t+5]]+"-"+Ct[e[t+6]]+Ct[e[t+7]]+"-"+Ct[e[t+8]]+Ct[e[t+9]]+"-"+Ct[e[t+10]]+Ct[e[t+11]]+Ct[e[t+12]]+Ct[e[t+13]]+Ct[e[t+14]]+Ct[e[t+15]]).toLowerCase()}var go,e0=new Uint8Array(16);function t0(){if(!go&&(go=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!go))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return go(e0)}var r0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Kf={randomUUID:r0};function Ea(e,t,r){if(Kf.randomUUID&&!e)return Kf.randomUUID();e=e||{};var n=e.random||(e.rng||t0)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,QA(n)}class n0{constructor(t,r=Date.now()){this.logMethod=t,this.startedAt=r}log(t){const r=Date.now()-this.startedAt;this.logMethod(t.replace(/\{duration\}/g,`${(r/1e3).toFixed(3)}s`))}}const Oc=1e3,Td=60*Oc,s0=60*Td;function Qo(e){return Math.round(e/1e3)}function i0(){return new Promise(e=>setTimeout(e,0))}function a0(e){const t=new Tc;return(...r)=>t.runExclusive(()=>e(...r))}function o0(){let e,t;return[new Promise((n,s)=>{e=n,t=s}),e,t]}function Zm(e){const t=e.objectStoreNames.length,r=[];for(let n=0;n<t;n++){const s=e.objectStoreNames.item(n);s&&r.push(s)}return r}const _u=(e,t)=>t.some(r=>e instanceof r);let Jf,Xf;function c0(){return Jf||(Jf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l0(){return Xf||(Xf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xu=new WeakMap,jl=new WeakMap,Cc=new WeakMap;function u0(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{r(Ss(e.result)),s()},a=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return Cc.set(t,e),t}function d0(e){if(xu.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});xu.set(e,t)}let Su={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return xu.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ss(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zm(e){Su=e(Su)}function f0(e){return l0().includes(e)?function(...t){return e.apply(Tu(this),t),Ss(this.request)}:function(...t){return Ss(e.apply(Tu(this),t))}}function h0(e){return typeof e=="function"?f0(e):(e instanceof IDBTransaction&&d0(e),_u(e,c0())?new Proxy(e,Su):e)}function Ss(e){if(e instanceof IDBRequest)return u0(e);if(jl.has(e))return jl.get(e);const t=h0(e);return t!==e&&(jl.set(e,t),Cc.set(t,e)),t}const Tu=e=>Cc.get(e);function m0(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=Ss(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Ss(a.result),l.oldVersion,l.newVersion,Ss(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const g0=["get","getKey","getAll","getAllKeys","count"],p0=["put","add","delete","clear"],Vl=new Map;function Qf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Vl.get(t))return Vl.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=p0.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||g0.includes(r)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),s&&l.done]))[0]};return Vl.set(t,i),i}zm(e=>({...e,get:(t,r,n)=>Qf(t,r)||e.get(t,r,n),has:(t,r)=>!!Qf(t,r)||e.has(t,r)}));const y0=["continue","continuePrimaryKey","advance"],eh={},Eu=new WeakMap,Km=new WeakMap,w0={get(e,t){if(!y0.includes(t))return e[t];let r=eh[t];return r||(r=eh[t]=function(...n){Eu.set(this,Km.get(this)[t](...n))}),r}};async function*b0(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,w0);for(Km.set(r,t),Cc.set(r,Tu(t));t;)yield r,t=await(Eu.get(r)||t.continue()),Eu.delete(r)}function th(e,t){return t===Symbol.asyncIterator&&_u(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&_u(e,[IDBIndex,IDBObjectStore])}zm(e=>({...e,get(t,r,n){return th(t,r)?b0:e.get(t,r,n)},has(t,r){return th(t,r)||e.has(t,r)}}));var v0=1/0,Jm=9007199254740991,A0=17976931348623157e292,rh=NaN,_0="[object Function]",x0="[object GeneratorFunction]",S0="[object Symbol]",T0=/^\s+|\s+$/g,E0=/^[-+]0x[0-9a-f]+$/i,k0=/^0b[01]+$/i,O0=/^0o[0-7]+$/i,C0=/^(?:0|[1-9]\d*)$/,P0=parseInt,M0=Object.prototype,Xm=M0.toString,I0=Math.ceil,D0=Math.max;function R0(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}function N0(e,t){return t=t??Jm,!!t&&(typeof e=="number"||C0.test(e))&&e>-1&&e%1==0&&e<t}function L0(e,t,r){if(!ec(r))return!1;var n=typeof t;return(n=="number"?U0(r)&&N0(t,r.length):n=="string"&&t in r)?$0(r[t],e):!1}function F0(e,t,r){(r?L0(e,t,r):t===void 0)?t=1:t=D0(q0(t),0);var n=e?e.length:0;if(!n||t<1)return[];for(var s=0,i=0,a=Array(I0(n/t));s<n;)a[i++]=R0(e,s,s+=t);return a}function $0(e,t){return e===t||e!==e&&t!==t}function U0(e){return e!=null&&V0(e.length)&&!j0(e)}function j0(e){var t=ec(e)?Xm.call(e):"";return t==_0||t==x0}function V0(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Jm}function ec(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function B0(e){return!!e&&typeof e=="object"}function W0(e){return typeof e=="symbol"||B0(e)&&Xm.call(e)==S0}function H0(e){if(!e)return e===0?e:0;if(e=G0(e),e===v0||e===-1/0){var t=e<0?-1:1;return t*A0}return e===e?e:0}function q0(e){var t=H0(e),r=t%1;return t===t?r?t-r:t:0}function G0(e){if(typeof e=="number")return e;if(W0(e))return rh;if(ec(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ec(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(T0,"");var r=k0.test(e);return r||O0.test(e)?P0(e.slice(2),r?2:8):E0.test(e)?rh:+e}var Y0=F0;const Z0=Yn(Y0);var z0=Qm;function Qm(e,t,r){e instanceof RegExp&&(e=nh(e,r)),t instanceof RegExp&&(t=nh(t,r));var n=eg(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function nh(e,t){var r=t.match(e);return r?r[0]:null}Qm.range=eg;function eg(e,t,r){var n,s,i,a,o,l=r.indexOf(e),u=r.indexOf(t,l+1),c=l;if(l>=0&&u>0){if(e===t)return[l,u];for(n=[],i=r.length;c>=0&&!o;)c==l?(n.push(c),l=r.indexOf(e,c+1)):n.length==1?o=[n.pop(),u]:(s=n.pop(),s<i&&(i=s,a=u),u=r.indexOf(t,c+1)),c=l<u&&l>=0?l:u;n.length&&(o=[i,a])}return o}var tg=z0,K0=Q0,rg="\0SLASH"+Math.random()+"\0",ng="\0OPEN"+Math.random()+"\0",Ed="\0CLOSE"+Math.random()+"\0",sg="\0COMMA"+Math.random()+"\0",ig="\0PERIOD"+Math.random()+"\0";function Bl(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function J0(e){return e.split("\\\\").join(rg).split("\\{").join(ng).split("\\}").join(Ed).split("\\,").join(sg).split("\\.").join(ig)}function X0(e){return e.split(rg).join("\\").split(ng).join("{").split(Ed).join("}").split(sg).join(",").split(ig).join(".")}function ag(e){if(!e)return[""];var t=[],r=tg("{","}",e);if(!r)return e.split(",");var n=r.pre,s=r.body,i=r.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var o=ag(i);return i.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),t.push.apply(t,a),t}function Q0(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),zi(J0(e),!0).map(X0)):[]}function e_(e){return"{"+e+"}"}function t_(e){return/^-?0\d/.test(e)}function r_(e,t){return e<=t}function n_(e,t){return e>=t}function zi(e,t){var r=[],n=tg("{","}",e);if(!n)return[e];var s=n.pre,i=n.post.length?zi(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<i.length;a++){var o=s+"{"+n.body+"}"+i[a];r.push(o)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),c=l||u,d=n.body.indexOf(",")>=0;if(!c&&!d)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Ed+n.post,zi(e)):[e];var f;if(c)f=n.body.split(/\.\./);else if(f=ag(n.body),f.length===1&&(f=zi(f[0],!1).map(e_),f.length===1))return i.map(function(M){return n.pre+f[0]+M});var m;if(c){var p=Bl(f[0]),h=Bl(f[1]),g=Math.max(f[0].length,f[1].length),w=f.length==3?Math.abs(Bl(f[2])):1,S=r_,_=h<p;_&&(w*=-1,S=n_);var v=f.some(t_);m=[];for(var C=p;S(C,h);C+=w){var b;if(u)b=String.fromCharCode(C),b==="\\"&&(b="");else if(b=String(C),v){var T=g-b.length;if(T>0){var A=new Array(T+1).join("0");C<0?b="-"+A+b.slice(1):b=A+b}}m.push(b)}}else{m=[];for(var E=0;E<f.length;E++)m.push.apply(m,zi(f[E],!1))}for(var E=0;E<m.length;E++)for(var a=0;a<i.length;a++){var o=s+m[E]+i[a];(!t||c||o)&&r.push(o)}}return r}const s_=Yn(K0),i_=1024*64,tc=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>i_)throw new TypeError("pattern is too long")},a_={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Vi=e=>e.replace(/[[\]\\-]/g,"\\$&"),o_=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),sh=e=>e.join(""),c_=(e,t)=>{const r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");const n=[],s=[];let i=r+1,a=!1,o=!1,l=!1,u=!1,c=r,d="";e:for(;i<e.length;){const h=e.charAt(i);if((h==="!"||h==="^")&&i===r+1){u=!0,i++;continue}if(h==="]"&&a&&!l){c=i+1;break}if(a=!0,h==="\\"&&!l){l=!0,i++;continue}if(h==="["&&!l){for(const[g,[w,S,_]]of Object.entries(a_))if(e.startsWith(g,i)){if(d)return["$.",!1,e.length-r,!0];i+=g.length,_?s.push(w):n.push(w),o=o||S;continue e}}if(l=!1,d){h>d?n.push(Vi(d)+"-"+Vi(h)):h===d&&n.push(Vi(h)),d="",i++;continue}if(e.startsWith("-]",i+1)){n.push(Vi(h+"-")),i+=2;continue}if(e.startsWith("-",i+1)){d=h,i+=2;continue}n.push(Vi(h)),i++}if(c<i)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,e.length-r,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){const h=n[0].length===2?n[0].slice(-1):n[0];return[o_(h),!1,c-r,!1]}const f="["+(u?"^":"")+sh(n)+"]",m="["+(u?"":"^")+sh(s)+"]";return[n.length&&s.length?"("+f+"|"+m+")":n.length?f:m,o,c-r,!0]},Ki=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),l_=new Set(["!","?","+","*","@"]),ih=e=>l_.has(e),u_="(?!(?:^|/)\\.\\.?(?:$|/))",Wl="(?!\\.)",d_=new Set(["[","."]),f_=new Set(["..","."]),h_=new Set("().*{}+?[]^$\\!"),m_=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),kd="[^/]",ah=kd+"*?",oh=kd+"+?";var xt,Et,mn,it,pt,In,ms,Dn,Wr,gs,Na,Fs,og,jn,Co,ku,cg;const qt=class qt{constructor(t,r,n={}){Se(this,Fs);Me(this,"type");Se(this,xt);Se(this,Et);Se(this,mn,!1);Se(this,it,[]);Se(this,pt);Se(this,In);Se(this,ms);Se(this,Dn,!1);Se(this,Wr);Se(this,gs);Se(this,Na,!1);this.type=t,t&&ue(this,Et,!0),ue(this,pt,r),ue(this,xt,P(this,pt)?P(P(this,pt),xt):this),ue(this,Wr,P(this,xt)===this?n:P(P(this,xt),Wr)),ue(this,ms,P(this,xt)===this?[]:P(P(this,xt),ms)),t==="!"&&!P(P(this,xt),Dn)&&P(this,ms).push(this),ue(this,In,P(this,pt)?P(P(this,pt),it).length:0)}get hasMagic(){if(P(this,Et)!==void 0)return P(this,Et);for(const t of P(this,it))if(typeof t!="string"&&(t.type||t.hasMagic))return ue(this,Et,!0);return P(this,Et)}toString(){return P(this,gs)!==void 0?P(this,gs):this.type?ue(this,gs,this.type+"("+P(this,it).map(t=>String(t)).join("|")+")"):ue(this,gs,P(this,it).map(t=>String(t)).join(""))}push(...t){for(const r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof qt&&P(r,pt)===this))throw new Error("invalid part: "+r);P(this,it).push(r)}}toJSON(){var r;const t=this.type===null?P(this,it).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...P(this,it).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===P(this,xt)||P(P(this,xt),Dn)&&((r=P(this,pt))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(P(this,xt)===this)return!0;if(!((r=P(this,pt))!=null&&r.isStart()))return!1;if(P(this,In)===0)return!0;const t=P(this,pt);for(let n=0;n<P(this,In);n++){const s=P(t,it)[n];if(!(s instanceof qt&&s.type==="!"))return!1}return!0}isEnd(){var r,n,s;if(P(this,xt)===this||((r=P(this,pt))==null?void 0:r.type)==="!")return!0;if(!((n=P(this,pt))!=null&&n.isEnd()))return!1;if(!this.type)return(s=P(this,pt))==null?void 0:s.isEnd();const t=P(this,pt)?P(P(this,pt),it).length:0;return P(this,In)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const r=new qt(this.type,t);for(const n of P(this,it))r.copyIn(n);return r}static fromGlob(t,r={}){var s;const n=new qt(null,void 0,r);return $e(s=qt,jn,Co).call(s,t,n,0,r),n}toMMPattern(){if(this!==P(this,xt))return P(this,xt).toMMPattern();const t=this.toString(),[r,n,s,i]=this.toRegExpSource();if(!(s||P(this,Et)||P(this,Wr).nocase&&!P(this,Wr).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;const o=(P(this,Wr).nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp(`^${r}$`,o),{_src:r,_glob:t})}get options(){return P(this,Wr)}toRegExpSource(t){var l;const r=t??!!P(this,Wr).dot;if(P(this,xt)===this&&$e(this,Fs,og).call(this),!this.type){const u=this.isStart()&&this.isEnd(),c=P(this,it).map(p=>{var _;const[h,g,w,S]=typeof p=="string"?$e(_=qt,jn,cg).call(_,p,P(this,Et),u):p.toRegExpSource(t);return ue(this,Et,P(this,Et)||w),ue(this,mn,P(this,mn)||S),h}).join("");let d="";if(this.isStart()&&typeof P(this,it)[0]=="string"&&!(P(this,it).length===1&&f_.has(P(this,it)[0]))){const h=d_,g=r&&h.has(c.charAt(0))||c.startsWith("\\.")&&h.has(c.charAt(2))||c.startsWith("\\.\\.")&&h.has(c.charAt(4)),w=!r&&!t&&h.has(c.charAt(0));d=g?u_:w?Wl:""}let f="";return this.isEnd()&&P(P(this,xt),Dn)&&((l=P(this,pt))==null?void 0:l.type)==="!"&&(f="(?:$|\\/)"),[d+c+f,Ki(c),ue(this,Et,!!P(this,Et)),P(this,mn)]}const n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:";let i=$e(this,Fs,ku).call(this,r);if(this.isStart()&&this.isEnd()&&!i&&this.type!=="!"){const u=this.toString();return ue(this,it,[u]),this.type=null,ue(this,Et,void 0),[u,Ki(this.toString()),!1,!1]}let a=!n||t||r?"":$e(this,Fs,ku).call(this,!0);a===i&&(a=""),a&&(i=`(?:${i})(?:${a})*?`);let o="";if(this.type==="!"&&P(this,Na))o=(this.isStart()&&!r?Wl:"")+oh;else{const u=this.type==="!"?"))"+(this.isStart()&&!r&&!t?Wl:"")+ah+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;o=s+i+u}return[o,Ki(i),ue(this,Et,!!P(this,Et)),P(this,mn)]}};xt=new WeakMap,Et=new WeakMap,mn=new WeakMap,it=new WeakMap,pt=new WeakMap,In=new WeakMap,ms=new WeakMap,Dn=new WeakMap,Wr=new WeakMap,gs=new WeakMap,Na=new WeakMap,Fs=new WeakSet,og=function(){if(this!==P(this,xt))throw new Error("should only call on root");if(P(this,Dn))return this;this.toString(),ue(this,Dn,!0);let t;for(;t=P(this,ms).pop();){if(t.type!=="!")continue;let r=t,n=P(r,pt);for(;n;){for(let s=P(r,In)+1;!n.type&&s<P(n,it).length;s++)for(const i of P(t,it)){if(typeof i=="string")throw new Error("string part in extglob AST??");i.copyIn(P(n,it)[s])}r=n,n=P(r,pt)}}return this},jn=new WeakSet,Co=function(t,r,n,s){var m,p;let i=!1,a=!1,o=-1,l=!1;if(r.type===null){let h=n,g="";for(;h<t.length;){const w=t.charAt(h++);if(i||w==="\\"){i=!i,g+=w;continue}if(a){h===o+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(h===o+2&&l)&&(a=!1),g+=w;continue}else if(w==="["){a=!0,o=h,l=!1,g+=w;continue}if(!s.noext&&ih(w)&&t.charAt(h)==="("){r.push(g),g="";const S=new qt(w,r);h=$e(m=qt,jn,Co).call(m,t,S,h,s),r.push(S);continue}g+=w}return r.push(g),h}let u=n+1,c=new qt(null,r);const d=[];let f="";for(;u<t.length;){const h=t.charAt(u++);if(i||h==="\\"){i=!i,f+=h;continue}if(a){u===o+1?(h==="^"||h==="!")&&(l=!0):h==="]"&&!(u===o+2&&l)&&(a=!1),f+=h;continue}else if(h==="["){a=!0,o=u,l=!1,f+=h;continue}if(ih(h)&&t.charAt(u)==="("){c.push(f),f="";const g=new qt(h,c);c.push(g),u=$e(p=qt,jn,Co).call(p,t,g,u,s);continue}if(h==="|"){c.push(f),f="",d.push(c),c=new qt(null,r);continue}if(h===")")return f===""&&P(r,it).length===0&&ue(r,Na,!0),c.push(f),f="",r.push(...d,c),u;f+=h}return r.type=null,ue(r,Et,void 0),ue(r,it,[t.substring(n-1)]),u},ku=function(t){return P(this,it).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");const[n,s,i,a]=r.toRegExpSource(t);return ue(this,mn,P(this,mn)||a),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},cg=function(t,r,n=!1){let s=!1,i="",a=!1;for(let o=0;o<t.length;o++){const l=t.charAt(o);if(s){s=!1,i+=(h_.has(l)?"\\":"")+l;continue}if(l==="\\"){o===t.length-1?i+="\\\\":s=!0;continue}if(l==="["){const[u,c,d,f]=c_(t,o);if(d){i+=u,a=a||c,o+=d-1,r=r||f;continue}}if(l==="*"){n&&t==="*"?i+=oh:i+=ah,r=!0;continue}if(l==="?"){i+=kd,r=!0;continue}i+=m_(l)}return[i,Ki(t),!!r,a]},Se(qt,jn);let rc=qt;const g_=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&");var Hl={};const Bt=(e,t,r={})=>(tc(t),!r.nocomment&&t.charAt(0)==="#"?!1:new Pc(t,r).match(e)),p_=/^\*+([^+@!?\*\[\(]*)$/,y_=e=>t=>!t.startsWith(".")&&t.endsWith(e),w_=e=>t=>t.endsWith(e),b_=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),v_=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),A_=/^\*+\.\*+$/,__=e=>!e.startsWith(".")&&e.includes("."),x_=e=>e!=="."&&e!==".."&&e.includes("."),S_=/^\.\*+$/,T_=e=>e!=="."&&e!==".."&&e.startsWith("."),E_=/^\*+$/,k_=e=>e.length!==0&&!e.startsWith("."),O_=e=>e.length!==0&&e!=="."&&e!=="..",C_=/^\?+([^+@!?\*\[\(]*)?$/,P_=([e,t=""])=>{const r=lg([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},M_=([e,t=""])=>{const r=ug([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},I_=([e,t=""])=>{const r=ug([e]);return t?n=>r(n)&&n.endsWith(t):r},D_=([e,t=""])=>{const r=lg([e]);return t?n=>r(n)&&n.endsWith(t):r},lg=([e])=>{const t=e.length;return r=>r.length===t&&!r.startsWith(".")},ug=([e])=>{const t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},dg=typeof process=="object"&&process?typeof Hl=="object"&&Hl&&Hl.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",ch={win32:{sep:"\\"},posix:{sep:"/"}},R_=dg==="win32"?ch.win32.sep:ch.posix.sep;Bt.sep=R_;const pr=Symbol("globstar **");Bt.GLOBSTAR=pr;const N_="[^/]",L_=N_+"*?",F_="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",$_="(?:(?!(?:\\/|^)\\.).)*?",U_=(e,t={})=>r=>Bt(r,e,t);Bt.filter=U_;const mr=(e,t={})=>Object.assign({},e,t),j_=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return Bt;const t=Bt;return Object.assign((n,s,i={})=>t(n,s,mr(e,i)),{Minimatch:class extends t.Minimatch{constructor(s,i={}){super(s,mr(e,i))}static defaults(s){return t.defaults(mr(e,s)).Minimatch}},AST:class extends t.AST{constructor(s,i,a={}){super(s,i,mr(e,a))}static fromGlob(s,i={}){return t.AST.fromGlob(s,mr(e,i))}},unescape:(n,s={})=>t.unescape(n,mr(e,s)),escape:(n,s={})=>t.escape(n,mr(e,s)),filter:(n,s={})=>t.filter(n,mr(e,s)),defaults:n=>t.defaults(mr(e,n)),makeRe:(n,s={})=>t.makeRe(n,mr(e,s)),braceExpand:(n,s={})=>t.braceExpand(n,mr(e,s)),match:(n,s,i={})=>t.match(n,s,mr(e,i)),sep:t.sep,GLOBSTAR:pr})};Bt.defaults=j_;const fg=(e,t={})=>(tc(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:s_(e));Bt.braceExpand=fg;const V_=(e,t={})=>new Pc(e,t).makeRe();Bt.makeRe=V_;const B_=(e,t,r={})=>{const n=new Pc(t,r);return e=e.filter(s=>n.match(s)),n.options.nonull&&!e.length&&e.push(t),e};Bt.match=B_;const lh=/[?*]|[+@!]\(.*?\)|\[|\]/,W_=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Pc{constructor(t,r={}){Me(this,"options");Me(this,"set");Me(this,"pattern");Me(this,"windowsPathsNoEscape");Me(this,"nonegate");Me(this,"negate");Me(this,"comment");Me(this,"empty");Me(this,"preserveMultipleSlashes");Me(this,"partial");Me(this,"globSet");Me(this,"globParts");Me(this,"nocase");Me(this,"isWindows");Me(this,"platform");Me(this,"windowsNoMagicRoot");Me(this,"regexp");tc(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||dg,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){const t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,this.globSet);const n=this.globSet.map(i=>this.slashSplit(i));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map((i,a,o)=>{if(this.isWindows&&this.windowsNoMagicRoot){const l=i[0]===""&&i[1]===""&&(i[2]==="?"||!lh.test(i[2]))&&!lh.test(i[3]),u=/^[a-z]:/i.test(i[0]);if(l)return[...i.slice(0,4),...i.slice(4).map(c=>this.parse(c))];if(u)return[i[0],...i.slice(1).map(c=>this.parse(c))]}return i.map(l=>this.parse(l))});if(this.debug(this.pattern,s),this.set=s.filter(i=>i.indexOf(!1)===-1),this.isWindows)for(let i=0;i<this.set.length;i++){const a=this.set[i];a[0]===""&&a[1]===""&&this.globParts[i][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let s=0;s<t[n].length;s++)t[n][s]==="**"&&(t[n][s]="*");const{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let s=n;for(;r[s+1]==="**";)s++;s!==n&&r.splice(n,s-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,s)=>{const i=n[n.length-1];return s==="**"&&i==="**"?n:s===".."&&i&&i!==".."&&i!=="."&&i!=="**"?(n.pop(),n):(n.push(s),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){const i=t[s];s===1&&i===""&&t[0]===""||(i==="."||i==="")&&(r=!0,t.splice(s,1),s--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){const s=t[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let a=s;for(;n[a+1]==="**";)a++;a>s&&n.splice(s+1,a-s);let o=n[s+1];const l=n[s+2],u=n[s+3];if(o!==".."||!l||l==="."||l===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(s,1);const c=n.slice(0);c[s]="**",t.push(c),s--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){const o=n[a];a===1&&o===""&&n[0]===""||(o==="."||o==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let i=0;for(;(i=n.indexOf("..",i+1))!==-1;){const a=n[i-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;const l=i===1&&n[i+1]==="**"?["."]:[];n.splice(i-1,2,...l),n.length===0&&n.push(""),i-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){const s=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(s){t[r]=[],t[n]=s;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let s=0,i=0,a=[],o="";for(;s<t.length&&i<r.length;)if(t[s]===r[i])a.push(o==="b"?r[i]:t[s]),s++,i++;else if(n&&t[s]==="**"&&r[i]===t[s+1])a.push(t[s]),s++;else if(n&&r[i]==="**"&&t[s]===r[i+1])a.push(r[i]),i++;else if(t[s]==="*"&&r[i]&&(this.options.dot||!r[i].startsWith("."))&&r[i]!=="**"){if(o==="b")return!1;o="a",a.push(t[s]),s++,i++}else if(r[i]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(o==="a")return!1;o="b",a.push(r[i]),s++,i++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;const t=this.pattern;let r=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){const s=this.options;if(this.isWindows){const h=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),g=!h&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),w=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),S=!w&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),_=g?3:h?0:void 0,v=S?3:w?0:void 0;if(typeof _=="number"&&typeof v=="number"){const[C,b]=[t[_],r[v]];C.toLowerCase()===b.toLowerCase()&&(r[v]=C,v>_?r=r.slice(v):_>v&&(t=t.slice(_)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,o=0,l=t.length,u=r.length;a<l&&o<u;a++,o++){this.debug("matchOne loop");var c=r[o],d=t[a];if(this.debug(r,c,d),c===!1)return!1;if(c===pr){this.debug("GLOBSTAR",[r,c,d]);var f=a,m=o+1;if(m===u){for(this.debug("** at the end");a<l;a++)if(t[a]==="."||t[a]===".."||!s.dot&&t[a].charAt(0)===".")return!1;return!0}for(;f<l;){var p=t[f];if(this.debug(`
globstar while`,t,f,r,m,p),this.matchOne(t.slice(f),r.slice(m),n))return this.debug("globstar found match!",f,l,p),!0;if(p==="."||p===".."||!s.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,f,r,m);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,f,r,m),f===l))}let h;if(typeof c=="string"?(h=d===c,this.debug("string match",c,d,h)):(h=c.test(d),this.debug("pattern match",c,d,h)),!h)return!1}if(a===l&&o===u)return!0;if(a===l)return n;if(o===u)return a===l-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return fg(this.pattern,this.options)}parse(t){tc(t);const r=this.options;if(t==="**")return pr;if(t==="")return"";let n,s=null;(n=t.match(E_))?s=r.dot?O_:k_:(n=t.match(p_))?s=(r.nocase?r.dot?v_:b_:r.dot?w_:y_)(n[1]):(n=t.match(C_))?s=(r.nocase?r.dot?M_:P_:r.dot?I_:D_)(n):(n=t.match(A_))?s=r.dot?x_:__:(n=t.match(S_))&&(s=T_);const i=rc.fromGlob(t,this.options).toMMPattern();return s&&typeof i=="object"&&Reflect.defineProperty(i,"test",{value:s}),i}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const r=this.options,n=r.noglobstar?L_:r.dot?F_:$_,s=new Set(r.nocase?["i"]:[]);let i=t.map(l=>{const u=l.map(c=>{if(c instanceof RegExp)for(const d of c.flags.split(""))s.add(d);return typeof c=="string"?W_(c):c===pr?pr:c._src});return u.forEach((c,d)=>{const f=u[d+1],m=u[d-1];c!==pr||m===pr||(m===void 0?f!==void 0&&f!==pr?u[d+1]="(?:\\/|"+n+"\\/)?"+f:u[d]=n:f===void 0?u[d-1]=m+"(?:\\/|"+n+")?":f!==pr&&(u[d-1]=m+"(?:\\/|\\/"+n+"\\/)"+f,u[d+1]=pr))}),u.filter(c=>c!==pr).join("/")}).join("|");const[a,o]=t.length>1?["(?:",")"]:["",""];i="^"+a+i+o+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;const n=this.options;this.isWindows&&(t=t.split("\\").join("/"));const s=this.slashSplit(t);this.debug(this.pattern,"split",s);const i=this.set;this.debug(this.pattern,"set",i);let a=s[s.length-1];if(!a)for(let o=s.length-2;!a&&o>=0;o--)a=s[o];for(let o=0;o<i.length;o++){const l=i[o];let u=s;if(n.matchBase&&l.length===1&&(u=[a]),this.matchOne(u,l,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Bt.defaults(t).Minimatch}}Bt.AST=rc;Bt.Minimatch=Pc;Bt.escape=g_;Bt.unescape=Ki;const nc=()=>ze().uuid(),H_=/^(?=.{1,255}$)[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?(?:\.[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?)*\.?$/,hg=()=>ze().regex(H_);Ar({id:nc(),host:hg(),startedAt:ft().positive(),endedAt:ft().nullable().optional()}).strict();const mg=Ar({id:nc(),sessionId:nc(),adUrl:ze().url(),timestamp:ft().positive().describe("The time in ms since 1970 that this ad was seen at")}).strict(),q_=mg.extend({type:Ti(["image"]),additionalDetails:Ar({width:ft().nonnegative(),height:ft().nonnegative()})}).strict(),G_=mg.extend({type:Ti(["iframe"]),additionalDetails:Ar({width:ft().nonnegative(),height:ft().nonnegative()})}).strict();Sd([q_,G_]);const Od=nc,gg=hg,Cd=()=>kc().nullable().optional(),Pd=()=>kc().nullable().optional();Ar({id:Od(),host:gg(),startedAt:ft().positive(),endedAt:ft().nullable().optional(),imported:Cd(),generated:Pd()}).strict();const pg=Ar({id:ze(),sessionId:Od(),timestamp:ft().positive().describe("The time in ms since 1970 that this ad was seen at"),imported:Cd()}).strict(),Y_=pg.extend({type:Ti(["basic-display"]),details:Ar({type:Ti(["image","iframe"]),url:ze().url().describe("The URL the ad is accessible at"),width:ft().nonnegative(),height:ft().nonnegative()}).strict()}),Z_=()=>Ym(ze(),Gm()),z_=pg.extend({type:Ti(["youtube/hulu/vast","pathmatics"]),details:Z_()}),K_=Sd([Y_,z_]),Md=Od,Id=Cd,J_=Pd,Dd=()=>gg().describe("The mobile app bundle ID or website hostname"),X_=Ar({id:Md(),appId:Dd(),createdBy:ze({description:"The install id that created the session"}),startedAt:ft().positive(),endedAt:ft(),imported:Id(),generated:J_()}).strict(),Q_=Ar({id:Md(),appId:Dd(),createdBy:ze(),startedAt:ft().positive(),endedAt:ft().nullable().optional(),imported:Id(),generated:Pd()}).strict(),e1=K_,yg=Md,wg=Id,bg=Dd,t1=X_,r1=Q_,n1=Ar({id:yg(),appId:bg(),path:ze().startsWith("/"),query:ze().optional(),referrer:ze().nullish(),createdBy:ze(),startedAt:ft().positive(),endedAt:ft(),imported:wg(),adNetwork:ze().optional(),utmSource:ze().optional(),utmMedium:ze().optional(),utmCampaign:ze().optional(),utmTerm:ze().optional()}).strict(),s1=Ar({id:yg(),appId:bg(),path:ze().startsWith("/"),query:ze().optional(),referrer:ze().nullish(),createdBy:ze(),startedAt:ft().positive(),endedAt:ft().nullish(),imported:wg(),adNetwork:ze().optional(),utmSource:ze().optional(),utmMedium:ze().optional(),utmCampaign:ze().optional(),utmTerm:ze().optional()}).strict(),i1=e1,a1=t1,uh=r1,o1=n1,c1=s1,vg=i1;class Rd{constructor(t,r){this.db=t,this.storeName=r}async deleteAll(){const r=(await this.db).transaction(this.storeName,"readwrite");let n=await r.objectStore(this.storeName).openCursor();for(;n;)await n.delete(),n=await n.continue();await r.done}async findAll(){return await(await this.db).getAll(this.storeName)}}var l1=Object.defineProperty,u1=(e,t,r)=>t in e?l1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Va=(e,t,r)=>u1(e,typeof t!="symbol"?t+"":t,r);const Is=class Po extends Rd{constructor(t){super(t.db,Po.STORE_NAME_LATEST),this.config=t}async findAds(t,r){return await(await this.db).getAllFromIndex(this.storeName,Po.INDEX_TIMESTAMP,IDBKeyRange.bound(t,r,!1,!0))}async findAdsForSession(t){return await(await this.db).getAllFromIndex(this.storeName,Po.INDEX_SESSION_ID,t)}async upsertAd(t){var s,i;const r=await this.db,n=vg.parse(t);return(i=(s=this.config).onAdUpserted)==null||i.call(s,n),await r.put(this.storeName,n),n}};Va(Is,"STORE_NAME_1","ads");Va(Is,"STORE_NAME_2","ads-2");Va(Is,"STORE_NAME_LATEST",Is.STORE_NAME_2);Va(Is,"INDEX_SESSION_ID","idx_ad_sessionId");Va(Is,"INDEX_TIMESTAMP","idx_ad_timestamp");let Xt=Is;var d1=Object.defineProperty,f1=(e,t,r)=>t in e?d1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mc=(e,t,r)=>f1(e,typeof t!="symbol"?t+"":t,r);const Nd=-1;function h1(e){return{id:e.id,appId:e.appId,path:e.path,referrer:e.referrer,query:e.query,createdBy:e.createdBy,endedAt:e.endedAt??Nd,startedAt:e.startedAt,imported:e.imported,adNetwork:e.adNetwork,utmSource:e.utmSource,utmMedium:e.utmMedium,utmCampaign:e.utmCampaign,utmTerm:e.utmTerm}}function po(e){return{id:e.id,appId:e.appId,path:e.path,query:e.query,referrer:e.referrer,createdBy:e.createdBy,endedAt:e.endedAt===Nd?null:e.endedAt,startedAt:e.startedAt,imported:e.imported,adNetwork:e.adNetwork,utmSource:e.utmSource,utmMedium:e.utmMedium,utmCampaign:e.utmCampaign,utmTerm:e.utmTerm}}const Ei=class Ji extends Rd{constructor(t){super(t.db,Ji.STORE_NAME_LATEST),this.config=t}async startPageView(t){const r=await this.db,n=c1.parse({...t,id:Ea(),createdBy:await this.config.getInstallId(),endedAt:void 0}),s=h1(n);return await r.add(this.storeName,s),n}async endPageView(t,r){const n=await this.db,s=await n.get(this.storeName,t.id);if(s==null)throw Error(`Cannot update: PageView not found with id=${t.id}`);const i={...s,endedAt:r};return await n.put(this.storeName,i),po(i)}async getActivePageViews(){return(await(await this.db).getAllFromIndex(this.storeName,Ji.INDEX_ENDED_AT,Nd)).map(po)}async findPageViewsByStartedAt(t,r){return(await(await this.db).getAllFromIndex(this.storeName,Ji.INDEX_STARTED_AT,IDBKeyRange.bound(t,r,!1,!0))).map(po)}async findPageViewsByEndedAt(t,r){return(await(await this.db).getAllFromIndex(this.storeName,Ji.INDEX_ENDED_AT,IDBKeyRange.bound(t,r,!1,!0))).map(po)}async deleteAllGeneratedPageViews(){const r=(await this.db).transaction(this.storeName,"readwrite");let n=await r.store.openCursor();for(;n;)n.value.imported&&await n.delete(),n=await n.continue();await r.done}};Mc(Ei,"STORE_NAME_1","page_views");Mc(Ei,"STORE_NAME_LATEST",Ei.STORE_NAME_1);Mc(Ei,"INDEX_ENDED_AT","idx_page_view_endedAt");Mc(Ei,"INDEX_STARTED_AT","idx_page_view_startedAt");let ta=Ei;var m1=Object.defineProperty,g1=(e,t,r)=>t in e?m1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ba=(e,t,r)=>g1(e,typeof t!="symbol"?t+"":t,r);const Ld=-1;function dh(e){return{id:e.id,appId:e.appId,createdBy:e.createdBy,endedAt:e.endedAt??Ld,startedAt:e.startedAt,imported:e.imported,generated:e.generated}}function is(e){return{id:e.id,appId:e.appId,createdBy:e.createdBy,endedAt:e.endedAt===Ld?null:e.endedAt,startedAt:e.startedAt,imported:e.imported,generated:e.generated}}const Ds=class kn extends Rd{constructor(t){super(t.db,kn.STORE_NAME_LATEST),this.config=t}async startSession(t){const r=await this.db,n=uh.parse({...t,id:Ea(),createdBy:await this.config.getInstallId(),endedAt:void 0}),s=dh(n);return await r.add(this.storeName,s),n}async createSessions(t){const r=await this.db,n=await this.config.getInstallId(),s=r.transaction(kn.STORE_NAME_LATEST,"readwrite"),i=s.objectStore(kn.STORE_NAME_LATEST),a=t.map(l=>uh.parse({...l,id:Ea(),createdBy:n})),o=a.map(dh);return await Promise.all([...o.map(l=>i.add(l)),s.done]),a}async endSession(t,r){var a,o;const n=await this.db;r-t.startedAt>=6*s0&&((o=(a=this.config).onLongSessionDetected)==null||o.call(a,t,r),r=t.startedAt+10*Td);const s=await n.get(this.storeName,t.id);if(s==null)throw Error(`Cannot update: Session not found with id=${t.id}`);const i={...s,endedAt:r};return await n.put(this.storeName,i),is(i)}async findAllSessions(){return(await super.findAll()).map(is)}async findSessions(t,r){return(await(await this.db).getAllFromIndex(this.storeName,kn.INDEX_STARTED_AT,IDBKeyRange.bound(t,r,!1,!0))).map(is)}async findSessionsByEndedAt(t,r){return(await(await this.db).getAllFromIndex(this.storeName,kn.INDEX_ENDED_AT,IDBKeyRange.bound(t,r,!1,!0))).map(is)}async findOldestSession(){const n=(await(await this.db).getAllFromIndex(this.storeName,kn.INDEX_STARTED_AT,IDBKeyRange.lowerBound(0,!0))).shift();return n?is(n):void 0}async getSession(t){const n=await(await this.db).get(this.storeName,t);if(n==null)throw Error(`No session with id=${t} was found`);return is(n)}async getActiveSessions(){return(await(await this.db).getAllFromIndex(this.storeName,kn.INDEX_ENDED_AT,Ld)).map(is)}async deleteAllGeneratedSessions(){const r=(await this.db).transaction(this.storeName,"readwrite");let n=await r.store.openCursor();for(;n;){const s=n.value;(s.imported||s.generated)&&await n.delete(),n=await n.continue()}await r.done}};Ba(Ds,"STORE_NAME_1","sessions");Ba(Ds,"STORE_NAME_2","sessions_2");Ba(Ds,"STORE_NAME_LATEST",Ds.STORE_NAME_2);Ba(Ds,"INDEX_ENDED_AT","idx_session_endedAt");Ba(Ds,"INDEX_STARTED_AT","idx_session_startedAt");let jt=Ds;var Pt=(e=>(e[e.V2=2]="V2",e[e.V3=3]="V3",e[e.V4=4]="V4",e[e.V5=5]="V5",e[e.V6=6]="V6",e[e.V7=7]="V7",e[e.V8=8]="V8",e))(Pt||{});const p1=ge.object({version:ge.nativeEnum(Pt),stores:ge.object({[jt.STORE_NAME_LATEST]:ge.array(a1).optional(),[ta.STORE_NAME_LATEST]:ge.array(o1).optional(),[Xt.STORE_NAME_LATEST]:ge.array(vg).optional()})});ge.object({version:ge.nativeEnum(Pt),stores:ge.record(ge.string(),ge.array(ge.any()))});async function y1(e){const t=await e,r={version:t.version,stores:{}},n=Zm(t),s=t.transaction(n,"readonly");for(const i of n){const o=await s.objectStore(i).getAll();o.forEach(l=>{delete l.imported}),r.stores[i]=o}return await s.done,r}function w1(e,t){return{...e,id:Ea(),sessionId:t}}function b1(e){return{...e,id:Ea()}}function Ag(e){return{id:e.id,sessionId:e.sessionId,timestamp:e.timestamp,type:"basic-display",details:{type:e.type,height:e.additionalDetails.height,width:e.additionalDetails.width,url:e.adUrl}}}function Ic(e,t){return{id:e.id,appId:e.host,createdBy:t,startedAt:e.startedAt,endedAt:e.endedAt??-1,imported:e.imported,generated:e.generated}}async function v1({dbPromise:e,usageBackup:t,logger:r,getInstallId:n}){const s=await e;r==null||r.debug("[import-backup] Importing...",t);const i=await n(),a=await p1.parseAsync(await _g(t,s.version,{installId:i})),o=Zm(s),l=s.transaction(o,"readwrite");for(const u of o){const c=a.stores[u];if(c!=null&&c.length){const d=l.objectStore(u);for(const f of c)r==null||r.debug(`[import-backup]: ${u}:`,f),await d.put({...f,imported:!0})}}await l.done}const ql=e=>t=>({...t,version:e}),A1=()=>e=>e,_1=e=>{var t;return{version:Pt.V4,stores:{[jt.STORE_NAME_2]:e.stores[jt.STORE_NAME_2],[Xt.STORE_NAME_2]:(t=e.stores[Xt.STORE_NAME_2])==null?void 0:t.map(Ag)}}},x1=(e,{installId:t})=>{var r;return{version:Pt.V6,stores:{[jt.STORE_NAME_2]:(r=e.stores[jt.STORE_NAME_2])==null?void 0:r.map(n=>Ic(n,t)),[Xt.STORE_NAME_2]:e.stores[Xt.STORE_NAME_2]}}},S1=(e,{installId:t})=>{var r;return{version:Pt.V7,stores:{[jt.STORE_NAME_2]:(r=e.stores[jt.STORE_NAME_2])==null?void 0:r.map(n=>"host"in n?Ic(n,t):n),[Xt.STORE_NAME_2]:e.stores[Xt.STORE_NAME_2]}}},T1={[Pt.V2]:ql(Pt.V3),[Pt.V3]:_1,[Pt.V4]:ql(Pt.V5),[Pt.V5]:x1,[Pt.V6]:S1,[Pt.V7]:ql(Pt.V8),[Pt.V8]:A1()};async function _g(e,t,r){if(e.version>t)throw Error(`Failed to upgrade backup version ${e.version}, version not supported`);if(e.version===t)return e;const n=T1[e.version];if(n==null)throw Error(`Failed to upgrade backup version ${e.version}, version not supported`);const s=await n(e,r);return await _g(s,t,r)}async function E1({db:e,tx:t}){const r=t.objectStore(jt.STORE_NAME_1),n=t.objectStore(jt.STORE_NAME_2),s=t.objectStore(Xt.STORE_NAME_1),i=t.objectStore(Xt.STORE_NAME_2),a=await r.index(jt.INDEX_STARTED_AT).getAll();for(const o of a){const l=b1(o);await n.add(l);const u=await s.index(Xt.INDEX_SESSION_ID).getAll(o.id);for(const c of u){const d=w1(c,l.id);await i.add(d)}}e.deleteObjectStore(r.name),e.deleteObjectStore(s.name)}async function k1({tx:e}){const t=e.objectStore(Xt.STORE_NAME_2),r=await t.getAll();for(const n of r){const s=Ag(n);await t.put(s)}}async function O1({tx:e,ctx:t}){const r=e.objectStore(jt.STORE_NAME_2),n=await r.getAll();for(const s of n){const i=Ic(s,t.installId);await r.put(i)}}async function C1({tx:e,ctx:t}){const r=e.objectStore(jt.STORE_NAME_2),n=await r.getAll();for(const s of n)if("host"in s){const i=Ic(s,t.installId);await r.put(i)}}const Bi=()=>{},P1=[Bi,Bi,Bi,E1,k1,Bi,O1,C1,Bi];async function M1(e,{logger:t}){if(e.oldVersion===0||e.newVersion==null)return;const r=e.oldVersion+1,n=e.newVersion,s=P1.slice(r,n+1);if(s.length!==0)for(const i of s)await i(e)}function zs(e,t,r,n){return e.indexNames.contains(t)?e.index(t):e.createIndex(t,r,n)}function Gl({db:e,tx:t},r,n){return e.objectStoreNames.contains(r)?t.objectStore(r):e.createObjectStore(r,n)}const I1=Pt.V8;async function D1(e){const t=await e.getInstallId();return m0("UsageSdkDb",I1,{async upgrade(r,n,s,i){const a={db:r,oldVersion:n,newVersion:s,tx:i,ctx:{installId:t}};R1(a),await M1(a,{logger:null})}})}function R1(e){const t=Gl(e,jt.STORE_NAME_LATEST,{keyPath:"id"});zs(t,jt.INDEX_STARTED_AT,"startedAt",{unique:!1}),zs(t,jt.INDEX_ENDED_AT,"endedAt",{unique:!1});const r=Gl(e,ta.STORE_NAME_LATEST,{keyPath:"id"});zs(r,ta.INDEX_STARTED_AT,"startedAt",{unique:!1}),zs(r,ta.INDEX_ENDED_AT,"endedAt",{unique:!1});const n=Gl(e,Xt.STORE_NAME_LATEST,{keyPath:"id"});zs(n,Xt.INDEX_SESSION_ID,"sessionId",{unique:!1}),zs(n,Xt.INDEX_TIMESTAMP,"timestamp",{unique:!1})}function N1(e){const t=D1(e),r=e.logger===void 0?console:e.logger;return{indexedDb:t,sessionsRepo:new jt({db:t,...e}),pageViewsRepo:new ta({db:t,...e}),adsRepo:new Xt({db:t,...e}),exportBackup:()=>y1(t),importBackup:n=>v1({dbPromise:t,usageBackup:n,getInstallId:e.getInstallId,logger:r})}}var L1=Object.defineProperty,F1=(e,t,r)=>t in e?L1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nt=(e,t,r)=>F1(e,typeof t!="symbol"?t+"":t,r);const Dc=class Xi{constructor(t,r){Nt(this,"sessionsRepo"),Nt(this,"pageViewsRepo"),Nt(this,"logger"),Nt(this,"lastAlivePing"),Nt(this,"startupPromise"),Nt(this,"allowSessionUpdates"),Nt(this,"startupTimeoutId"),Nt(this,"sessionUpdatedListeners",[]),Nt(this,"pageViewUpdatedListeners",[]),Nt(this,"checkSessionsListeners",[]),Nt(this,"latestTriggerId",0),Nt(this,"startedAtTimestamp",Date.now()),Nt(this,"updateSessions",a0(async i=>{var l,u,c;const a=`[update-sessions] [${i.triggerId}]`;if((l=this.logger)==null||l.debug(`${a} Waiting for startup to stop previous sessions...`),await this.startupPromise,(u=this.logger)==null||u.debug(`${a} Processing @ ${new Date(i.timestamp).toLocaleTimeString()}`),this.pingLastAliveAt(),this.invokeCheckSessionsListeners(),await this.enabled()){const d=this.logger?new n0(this.logger.debug.bind(this.logger)):void 0,f=await this.getComputeDependencies();d==null||d.log(`${a} Got required data after {duration}`);const m=await this.findSessionChanges(i,f);d==null||d.log(`${a} Computed session changes after {duration}`);const p=await this.findPageViewChanges(i,f);d==null||d.log(`${a} Computed page view changes after {duration}`),await this.saveSessionChanges(i.timestamp,m),d==null||d.log(`${a} Session changes committed to the database after {duration}`),await this.savePageViewChanges(i.timestamp,p),d==null||d.log(`${a} Page view changes committed to the database after {duration}`)}else await this.endAllActiveSessions(Date.now());(c=this.logger)==null||c.log(`${a} Done`)})),this.sessionsRepo=t.sessionsRepo,this.pageViewsRepo=t.pageViewsRepo,this.updateSessions=this.updateSessions.bind(this),r===void 0?this.logger=console:this.logger=r;const[n,s]=o0();this.startupPromise=n,this.allowSessionUpdates=s}setupTriggers(){this.setupCustomTriggers(),this.addStartupTimeout()}addSessionUpdatedListener(t){this.sessionUpdatedListeners.push(t)}addPageViewUpdatedListener(t){this.pageViewUpdatedListeners.push(t)}addCheckSessionsListener(t){this.checkSessionsListeners.push(t)}triggerStartup(t,r){clearTimeout(this.startupTimeoutId),this.startupTimeoutId=void 0,this.startupFlow({cleanupSessions:r,trigger:t,timestamp:this.startedAtTimestamp})}addStartupTimeout(){this.startupTimeoutId=setTimeout(()=>this.triggerStartup("setTimeout",!1),Xi.ALWAYS_STARTUP_AFTER_MS)}triggerSessionCheck(t,r=Date.now()){var s;const n=this.latestTriggerId++;return(s=this.logger)==null||s.log(`[update-sessions] [${n}] Queued by ${t} @ ${new Date(r).toLocaleTimeString()}`),this.updateSessions({timestamp:r,triggerId:n,triggeredBy:t})}async startupFlow({cleanupSessions:t,trigger:r,timestamp:n}){t&&await this.cleanupActiveSessions(n),await this.pingLastAliveAt(!0),await i0().then(()=>this.allowSessionUpdates()),await this.triggerSessionCheck(r,n)}async cleanupActiveSessions(t){var i,a,o,l,u;const r=await this.getLastAliveAt();if((i=this.logger)==null||i.debug("[on-startup] onStartup()",{lastActivity:r&&new Date(r).toISOString(),now:new Date(t).toISOString()}),r==null){(a=this.logger)==null||a.error("lastActivity was not set yet");return}(o=this.logger)==null||o.log("[on-startup] Ending sessions after quit...");const n=r+Xi.LAST_ALIVE_AT_POLL_INTERVAL_MS,s=Math.min(t,n);(l=this.logger)==null||l.log("[on-startup] Timing details:",{lastActivity:new Date(r).toISOString(),now:new Date(t).toISOString(),quitAt:new Date(n).toISOString(),endAt:new Date(s).toISOString()}),await this.endAllActiveSessions(s),(u=this.logger)==null||u.log("[on-startup] Startup finished!")}async saveSessionChanges(t,r){const n=r.toEnd.map(o=>{var c;const l=new Date(t).toLocaleTimeString();(c=this.logger)==null||c.log(`[change-session] Stop session ${o.appId} @ ${l} (${t-o.startedAt}ms)`);const u=t<o.startedAt?o.startedAt+Oc:t;return this.sessionsRepo.endSession(o,u)}),s=r.toStart.map(o=>{var l;return(l=this.logger)==null||l.log(`[change-session] Start session ${o.appId} @ ${new Date(o.startedAt).toLocaleTimeString()}`,{session:o}),this.sessionsRepo.startSession(o)}),i=await Promise.allSettled(n),a=await Promise.allSettled(s);this.logSettledErrors("sessions","ending",i),this.logSettledErrors("sessions","starting",a),r.count>0&&this.invokeSessionUpdatedListeners()}async savePageViewChanges(t,r){const n=r.toEnd.map(o=>{var u;const l=new Date(t).toLocaleTimeString();return(u=this.logger)==null||u.log(`[change-session] Stop page view ${o.appId}${o.path} @ ${l} (${t-o.startedAt}ms)`),this.pageViewsRepo.endPageView(o,t)}),s=r.toStart.map(o=>{var l;return(l=this.logger)==null||l.log(`[change-session] Start page view ${o.appId}${o.path} @ ${new Date(o.startedAt).toLocaleTimeString()}`,{session:o}),this.pageViewsRepo.startPageView(o)}),i=await Promise.allSettled(n),a=await Promise.allSettled(s);this.logSettledErrors("page views","ending",i),this.logSettledErrors("page views","starting",a),r.count>0&&this.invokePageViewUpdatedListeners()}logSettledErrors(t,r,n){var i;const s=n.map(a=>{if(a.status==="rejected")return a.reason}).filter(a=>a!=null);s.length>0&&((i=this.logger)==null||i.warn(`[update-sessions] ${s.length}/${n.length} transactions failed when ${r} ${t}`,s))}async endAllActiveSessions(t){var n,s,i;const r=await this.sessionsRepo.getActiveSessions();if(r.length===0){(n=this.logger)==null||n.log("[stop-active-sessions] No active sessions to stop");return}(s=this.logger)==null||s.log("[stop-active-sessions] Stopping all active sessions:",{activeSessions:r,timestamp:t}),await this.saveSessionChanges(t,{toStart:[],toEnd:r,count:r.length}),(i=this.logger)==null||i.log("[stop-active-sessions] All active sessions stopped!")}async pingLastAliveAt(t=!1){var s,i;const r=Date.now(),n=await this.getLastAliveAt()??r;!t&&Math.abs(r-n)>2*Xi.LAST_ALIVE_AT_INTERVAL_MS&&((s=this.logger)==null||s.debug("[SessionMonitor] Long ping interval detected. Cleaning up sessions."),await this.cleanupActiveSessions(r)),(i=this.logger)==null||i.debug("[SessionMonitor] Updating last time app was known to be open",r),await this.setLastAliveAt(r),clearTimeout(this.lastAlivePing),this.lastAlivePing=setTimeout(()=>this.pingLastAliveAt(),Xi.LAST_ALIVE_AT_POLL_INTERVAL_MS)}invokeCheckSessionsListeners(){this.checkSessionsListeners.forEach(t=>t())}invokeSessionUpdatedListeners(){this.sessionUpdatedListeners.forEach(t=>t())}invokePageViewUpdatedListeners(){this.pageViewUpdatedListeners.forEach(t=>t())}};Nt(Dc,"LAST_ALIVE_AT_INTERVAL_MS",Td);Nt(Dc,"ALWAYS_STARTUP_AFTER_MS",5*Oc);Nt(Dc,"LAST_ALIVE_AT_POLL_INTERVAL_MS",30*Oc);let yo=Dc;const $1=100;function U1(e){const t=e.logger===void 0?console:e.logger;async function r(){var l;const[i,a,o]=await Promise.all([e.getAppId(),e.getInstallId(),(l=e.getBirthYear)==null?void 0:l.call(e)]);return{appId:i,installId:a,birthYear:o}}async function n(i,a){var l,u,c;let o;try{t==null||t.log(`[${i.label}-uploader] Beginning upload @ ${new Date(a).toISOString()}`);const[d,f,m]=await Promise.all([i.getLastUploadedAt(),e.db,e.enabled()]);if(!m){t==null||t.log(`[${i.label}-uploader] Uploads are disabled`);return}if(d>=a){await i.setLastUploadedAt(a);return}const p=await i.getModelsToUpload({db:f,lastUploadedAt:d,uploadStartedAt:a}),h=await((l=e.getUploadBatchSize)==null?void 0:l.call(e))??$1,g=Z0(p,h),w=await r();o={models:p,batches:g,body:w},t==null||t.debug(`[${i.label}-uploader] Data`,o);for(const _ of g){t==null||t.debug(`[${i.label}-uploader] Uploading`,{batch:_,requestSkipped:!!e.dev}),e.dev||await i.upload(w,_);const v=_[_.length-1];(v==null?void 0:v.endedAt)!=null&&await i.setLastUploadedAt(v.endedAt)}await i.setLastUploadedAt(a);const S=(Date.now()-a)/1e3;t==null||t.log(`[${i.label}-uploader] Uploaded ${p.length} items in ${g.length} batches in ${S}s`),(u=i.onSuccess)==null||u.call(i,{total:p.length,batches:g.length,batchSize:h,durationInSec:S})}catch(d){t==null||t.error(`[${i.label}-uploader] Failed to upload`,d,o),(c=i.onFailure)==null||c.call(i,d)}}async function s(){const i=Date.now();await Promise.allSettled(e.uploaders.map(a=>n(a,i)))}return{uploadAll:s}}function j1(e){const{api:t,onSuccess:r,onFailure:n,lastUploadedAtStorageKey:s,storage:i}=e;return{label:"sessions",onSuccess:r,onFailure:n,async getLastUploadedAt(){return await i.getItem(s)??1},async setLastUploadedAt(a){await i.setItem(s,a)},async getModelsToUpload({db:a,lastUploadedAt:o,uploadStartedAt:l}){return(await a.sessionsRepo.findSessionsByEndedAt(o,l)).filter(c=>!c.imported)},async upload(a,o){const l=o.reduce((u,c)=>{var d;if(c.endedAt==null)throw Error("Cannot upload a session that is in progress");const f={duration:Qo(c.endedAt-c.startedAt),timestamp:Qo(c.startedAt)};return f.duration>0&&(u[d=c.appId]??(u[d]={sessions:[]}),u[c.appId].sessions.push(f)),u},{});await t.uploadSessions({...a,websites:l})}}}function V1(e){const{api:t,onSuccess:r,onFailure:n,lastUploadedAtStorageKey:s,getUploadIgnoreList:i,storage:a}=e;return{label:"page-views",onSuccess:r,onFailure:n,async getLastUploadedAt(){return await a.getItem(s)??1},async setLastUploadedAt(o){await a.setItem(s,o)},async getModelsToUpload({db:o,lastUploadedAt:l,uploadStartedAt:u}){const c=await o.pageViewsRepo.findPageViewsByEndedAt(l,u),d=await i()??[];return c.filter(f=>f.imported?!1:!d.find(m=>Bt(f.appId+f.path,m)))},async upload(o,l){const u=l.reduce((c,d)=>{var f,m,p;if(d.endedAt==null)throw Error("Cannot upload a page view that is in progress");const h={duration:Qo(d.endedAt-d.startedAt),timestamp:Qo(d.startedAt),referrer:d.referrer,ad_network:d.adNetwork,utm_source:d.utmSource,utm_medium:d.utmMedium,utm_campaign:d.utmCampaign,utm_term:d.utmTerm};return h.duration>0&&(c[f=d.appId]??(c[f]={}),(m=c[d.appId])[p=d.path]??(m[p]={page_views:[]}),c[d.appId][d.path].page_views.push(h)),c},{});await t.uploadPageViews({...o,websites:u})}}}function B1(e){const t=j1({api:e.api,...e.sessions}),r=V1({api:e.api,...e.pageViews});return U1({...e,uploaders:[t,r]})}const sc=1e3,xg=60*sc;async function Fd(e){return(await je.storage.local.get(e))[e]??void 0}async function si(e,t){t===void 0?await je.storage.local.remove(e):await je.storage.local.set({[e]:t})}function W1(e,t){const r=n=>n[t];return e.reduce((n,s)=>{var a;const i=r(s);return n[i]=((a=n[i])==null?void 0:a.concat(s))??[s],n},{})}function H1(e,t){const r=n=>n[t];return e.reduce((n,s)=>{const i=r(s);return n[i]=s,n},{})}function q1(e){return e.state!=="docked"&&e.state!=="minimized"}function G1(e,t,r,n){return n&&e.audible||e.active&&t.focused&&q1(t)&&r}var ic={exports:{}};ic.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",s=1,i=2,a=9007199254740991,o="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Function]",p="[object GeneratorFunction]",h="[object Map]",g="[object Number]",w="[object Null]",S="[object Object]",_="[object Promise]",v="[object Proxy]",C="[object RegExp]",b="[object Set]",T="[object String]",A="[object Symbol]",E="[object Undefined]",M="[object WeakMap]",$="[object ArrayBuffer]",G="[object DataView]",F="[object Float32Array]",se="[object Float64Array]",B="[object Int8Array]",K="[object Int16Array]",U="[object Int32Array]",R="[object Uint8Array]",ie="[object Uint8ClampedArray]",me="[object Uint16Array]",Pe="[object Uint32Array]",Le=/[\\^$.*+?()[\]{}|]/g,mt=/^\[object .+?Constructor\]$/,yt=/^(?:0|[1-9]\d*)$/,De={};De[F]=De[se]=De[B]=De[K]=De[U]=De[R]=De[ie]=De[me]=De[Pe]=!0,De[o]=De[l]=De[$]=De[c]=De[G]=De[d]=De[f]=De[m]=De[h]=De[g]=De[S]=De[C]=De[b]=De[T]=De[M]=!1;var wt=typeof Pr=="object"&&Pr&&Pr.Object===Object&&Pr,Fe=typeof self=="object"&&self&&self.Object===Object&&self,bt=wt||Fe||Function("return this")(),Fr=t&&!t.nodeType&&t,gt=Fr&&!0&&e&&!e.nodeType&&e,en=gt&&gt.exports===Fr,O=en&&wt.process,I=function(){try{return O&&O.binding&&O.binding("util")}catch{}}(),L=I&&I.isTypedArray;function W(x,D){for(var j=-1,ae=x==null?0:x.length,Ze=0,Te=[];++j<ae;){var We=x[j];D(We,j,x)&&(Te[Ze++]=We)}return Te}function V(x,D){for(var j=-1,ae=D.length,Ze=x.length;++j<ae;)x[Ze+j]=D[j];return x}function q(x,D){for(var j=-1,ae=x==null?0:x.length;++j<ae;)if(D(x[j],j,x))return!0;return!1}function ee(x,D){for(var j=-1,ae=Array(x);++j<x;)ae[j]=D(j);return ae}function J(x){return function(D){return x(D)}}function Q(x,D){return x.has(D)}function Y(x,D){return x==null?void 0:x[D]}function pe(x){var D=-1,j=Array(x.size);return x.forEach(function(ae,Ze){j[++D]=[Ze,ae]}),j}function X(x,D){return function(j){return x(D(j))}}function de(x){var D=-1,j=Array(x.size);return x.forEach(function(ae){j[++D]=ae}),j}var ye=Array.prototype,ne=Function.prototype,ce=Object.prototype,te=bt["__core-js_shared__"],ve=ne.toString,Re=ce.hasOwnProperty,Ke=function(){var x=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),_e=ce.toString,fe=RegExp("^"+ve.call(Re).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=en?bt.Buffer:void 0,st=bt.Symbol,vt=bt.Uint8Array,An=ce.propertyIsEnumerable,Qc=ye.splice,tn=st?st.toStringTag:void 0,Xa=Object.getOwnPropertySymbols,Pi=at?at.isBuffer:void 0,Kn=X(Object.keys,Object),Jn=_n(bt,"DataView"),rn=_n(bt,"Map"),Xn=_n(bt,"Promise"),nn=_n(bt,"Set"),Mi=_n(bt,"WeakMap"),Qn=_n(Object,"create"),el=on(Jn),tl=on(rn),rl=on(Xn),$s=on(nn),Ii=on(Mi),Di=st?st.prototype:void 0,_r=Di?Di.valueOf:void 0;function sn(x){var D=-1,j=x==null?0:x.length;for(this.clear();++D<j;){var ae=x[D];this.set(ae[0],ae[1])}}function nl(){this.__data__=Qn?Qn(null):{},this.size=0}function sl(x){var D=this.has(x)&&delete this.__data__[x];return this.size-=D?1:0,D}function il(x){var D=this.__data__;if(Qn){var j=D[x];return j===n?void 0:j}return Re.call(D,x)?D[x]:void 0}function al(x){var D=this.__data__;return Qn?D[x]!==void 0:Re.call(D,x)}function xr(x,D){var j=this.__data__;return this.size+=this.has(x)?0:1,j[x]=Qn&&D===void 0?n:D,this}sn.prototype.clear=nl,sn.prototype.delete=sl,sn.prototype.get=il,sn.prototype.has=al,sn.prototype.set=xr;function Sr(x){var D=-1,j=x==null?0:x.length;for(this.clear();++D<j;){var ae=x[D];this.set(ae[0],ae[1])}}function ol(){this.__data__=[],this.size=0}function cl(x){var D=this.__data__,j=Bs(D,x);if(j<0)return!1;var ae=D.length-1;return j==ae?D.pop():Qc.call(D,j,1),--this.size,!0}function ll(x){var D=this.__data__,j=Bs(D,x);return j<0?void 0:D[j][1]}function ul(x){return Bs(this.__data__,x)>-1}function Tr(x,D){var j=this.__data__,ae=Bs(j,x);return ae<0?(++this.size,j.push([x,D])):j[ae][1]=D,this}Sr.prototype.clear=ol,Sr.prototype.delete=cl,Sr.prototype.get=ll,Sr.prototype.has=ul,Sr.prototype.set=Tr;function an(x){var D=-1,j=x==null?0:x.length;for(this.clear();++D<j;){var ae=x[D];this.set(ae[0],ae[1])}}function dl(){this.size=0,this.__data__={hash:new sn,map:new(rn||Sr),string:new sn}}function fl(x){var D=Ws(this,x).delete(x);return this.size-=D?1:0,D}function hl(x){return Ws(this,x).get(x)}function ml(x){return Ws(this,x).has(x)}function Us(x,D){var j=Ws(this,x),ae=j.size;return j.set(x,D),this.size+=j.size==ae?0:1,this}an.prototype.clear=dl,an.prototype.delete=fl,an.prototype.get=hl,an.prototype.has=ml,an.prototype.set=Us;function js(x){var D=-1,j=x==null?0:x.length;for(this.__data__=new an;++D<j;)this.add(x[D])}function gl(x){return this.__data__.set(x,n),this}function Er(x){return this.__data__.has(x)}js.prototype.add=js.prototype.push=gl,js.prototype.has=Er;function $r(x){var D=this.__data__=new Sr(x);this.size=D.size}function pl(){this.__data__=new Sr,this.size=0}function yl(x){var D=this.__data__,j=D.delete(x);return this.size=D.size,j}function wl(x){return this.__data__.get(x)}function bl(x){return this.__data__.has(x)}function vl(x,D){var j=this.__data__;if(j instanceof Sr){var ae=j.__data__;if(!rn||ae.length<r-1)return ae.push([x,D]),this.size=++j.size,this;j=this.__data__=new an(ae)}return j.set(x,D),this.size=j.size,this}$r.prototype.clear=pl,$r.prototype.delete=yl,$r.prototype.get=wl,$r.prototype.has=bl,$r.prototype.set=vl;function Vs(x,D){var j=qs(x),ae=!j&&Hs(x),Ze=!j&&!ae&&dr(x),Te=!j&&!ae&&!Ze&&ao(x),We=j||ae||Ze||Te,lt=We?ee(x.length,String):[],At=lt.length;for(var et in x)Re.call(x,et)&&!(We&&(et=="length"||Ze&&(et=="offset"||et=="parent")||Te&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||ro(et,At)))&&lt.push(et);return lt}function Bs(x,D){for(var j=x.length;j--;)if(so(x[j][0],D))return j;return-1}function Al(x,D,j){var ae=D(x);return qs(x)?ae:V(ae,j(x))}function es(x){return x==null?x===void 0?E:w:tn&&tn in Object(x)?kl(x):no(x)}function Qa(x){return rs(x)&&es(x)==o}function Ri(x,D,j,ae,Ze){return x===D?!0:x==null||D==null||!rs(x)&&!rs(D)?x!==x&&D!==D:_l(x,D,j,ae,Ri,Ze)}function _l(x,D,j,ae,Ze,Te){var We=qs(x),lt=qs(D),At=We?l:Ur(x),et=lt?l:Ur(D);At=At==o?S:At,et=et==o?S:et;var Ot=At==S,It=et==S,ht=At==et;if(ht&&dr(x)){if(!dr(D))return!1;We=!0,Ot=!1}if(ht&&!Ot)return Te||(Te=new $r),We||ao(x)?eo(x,D,j,ae,Ze,Te):Tl(x,D,At,j,ae,Ze,Te);if(!(j&s)){var Dt=Ot&&Re.call(x,"__wrapped__"),rr=It&&Re.call(D,"__wrapped__");if(Dt||rr){var jr=Dt?x.value():x,kr=rr?D.value():D;return Te||(Te=new $r),Ze(jr,kr,j,ae,Te)}}return ht?(Te||(Te=new $r),El(x,D,j,ae,Ze,Te)):!1}function xl(x){if(!io(x)||Pl(x))return!1;var D=Li(x)?fe:mt;return D.test(on(x))}function Ni(x){return rs(x)&&ts(x.length)&&!!De[es(x)]}function Sl(x){if(!Ml(x))return Kn(x);var D=[];for(var j in Object(x))Re.call(x,j)&&j!="constructor"&&D.push(j);return D}function eo(x,D,j,ae,Ze,Te){var We=j&s,lt=x.length,At=D.length;if(lt!=At&&!(We&&At>lt))return!1;var et=Te.get(x);if(et&&Te.get(D))return et==D;var Ot=-1,It=!0,ht=j&i?new js:void 0;for(Te.set(x,D),Te.set(D,x);++Ot<lt;){var Dt=x[Ot],rr=D[Ot];if(ae)var jr=We?ae(rr,Dt,Ot,D,x,Te):ae(Dt,rr,Ot,x,D,Te);if(jr!==void 0){if(jr)continue;It=!1;break}if(ht){if(!q(D,function(kr,cn){if(!Q(ht,cn)&&(Dt===kr||Ze(Dt,kr,j,ae,Te)))return ht.push(cn)})){It=!1;break}}else if(!(Dt===rr||Ze(Dt,rr,j,ae,Te))){It=!1;break}}return Te.delete(x),Te.delete(D),It}function Tl(x,D,j,ae,Ze,Te,We){switch(j){case G:if(x.byteLength!=D.byteLength||x.byteOffset!=D.byteOffset)return!1;x=x.buffer,D=D.buffer;case $:return!(x.byteLength!=D.byteLength||!Te(new vt(x),new vt(D)));case c:case d:case g:return so(+x,+D);case f:return x.name==D.name&&x.message==D.message;case C:case T:return x==D+"";case h:var lt=pe;case b:var At=ae&s;if(lt||(lt=de),x.size!=D.size&&!At)return!1;var et=We.get(x);if(et)return et==D;ae|=i,We.set(x,D);var Ot=eo(lt(x),lt(D),ae,Ze,Te,We);return We.delete(x),Ot;case A:if(_r)return _r.call(x)==_r.call(D)}return!1}function El(x,D,j,ae,Ze,Te){var We=j&s,lt=to(x),At=lt.length,et=to(D),Ot=et.length;if(At!=Ot&&!We)return!1;for(var It=At;It--;){var ht=lt[It];if(!(We?ht in D:Re.call(D,ht)))return!1}var Dt=Te.get(x);if(Dt&&Te.get(D))return Dt==D;var rr=!0;Te.set(x,D),Te.set(D,x);for(var jr=We;++It<At;){ht=lt[It];var kr=x[ht],cn=D[ht];if(ae)var ns=We?ae(cn,kr,ht,D,x,Te):ae(kr,cn,ht,x,D,Te);if(!(ns===void 0?kr===cn||Ze(kr,cn,j,ae,Te):ns)){rr=!1;break}jr||(jr=ht=="constructor")}if(rr&&!jr){var Gs=x.constructor,Ys=D.constructor;Gs!=Ys&&"constructor"in x&&"constructor"in D&&!(typeof Gs=="function"&&Gs instanceof Gs&&typeof Ys=="function"&&Ys instanceof Ys)&&(rr=!1)}return Te.delete(x),Te.delete(D),rr}function to(x){return Al(x,oo,Ol)}function Ws(x,D){var j=x.__data__;return Cl(D)?j[typeof D=="string"?"string":"hash"]:j.map}function _n(x,D){var j=Y(x,D);return xl(j)?j:void 0}function kl(x){var D=Re.call(x,tn),j=x[tn];try{x[tn]=void 0;var ae=!0}catch{}var Ze=_e.call(x);return ae&&(D?x[tn]=j:delete x[tn]),Ze}var Ol=Xa?function(x){return x==null?[]:(x=Object(x),W(Xa(x),function(D){return An.call(x,D)}))}:co,Ur=es;(Jn&&Ur(new Jn(new ArrayBuffer(1)))!=G||rn&&Ur(new rn)!=h||Xn&&Ur(Xn.resolve())!=_||nn&&Ur(new nn)!=b||Mi&&Ur(new Mi)!=M)&&(Ur=function(x){var D=es(x),j=D==S?x.constructor:void 0,ae=j?on(j):"";if(ae)switch(ae){case el:return G;case tl:return h;case rl:return _;case $s:return b;case Ii:return M}return D});function ro(x,D){return D=D??a,!!D&&(typeof x=="number"||yt.test(x))&&x>-1&&x%1==0&&x<D}function Cl(x){var D=typeof x;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?x!=="__proto__":x===null}function Pl(x){return!!Ke&&Ke in x}function Ml(x){var D=x&&x.constructor,j=typeof D=="function"&&D.prototype||ce;return x===j}function no(x){return _e.call(x)}function on(x){if(x!=null){try{return ve.call(x)}catch{}try{return x+""}catch{}}return""}function so(x,D){return x===D||x!==x&&D!==D}var Hs=Qa(function(){return arguments}())?Qa:function(x){return rs(x)&&Re.call(x,"callee")&&!An.call(x,"callee")},qs=Array.isArray;function xn(x){return x!=null&&ts(x.length)&&!Li(x)}var dr=Pi||Dl;function Il(x,D){return Ri(x,D)}function Li(x){if(!io(x))return!1;var D=es(x);return D==m||D==p||D==u||D==v}function ts(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=a}function io(x){var D=typeof x;return x!=null&&(D=="object"||D=="function")}function rs(x){return x!=null&&typeof x=="object"}var ao=L?J(L):Ni;function oo(x){return xn(x)?Vs(x):Sl(x)}function co(){return[]}function Dl(){return!1}e.exports=Il})(ic,ic.exports);var Y1=ic.exports;const Sg=Yn(Y1);var Z1=Object.defineProperty,z1=(e,t,r)=>t in e?Z1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ou=(e,t,r)=>z1(e,typeof t!="symbol"?t+"":t,r);const wo="tab-history-map",Tg=class Eg{constructor(t){var n;Ou(this,"tabHistoryMap",this.restoreTabHistory()),Ou(this,"lock",new Tc);let r=0;je.tabs.onCreated.addListener(s=>this.lock.runExclusive(async()=>{var i;if(s.id!=null&&(t==null||t.debug(`[referrer] ${r++} tabs.onCreated`,s),s.openerTabId!=null)){const o=(i=(await this.tabHistoryMap)[s.openerTabId])==null?void 0:i[0];o&&await this.addHistory(s.id,o)}})),je.webNavigation.onCommitted.addListener(s=>this.lock.runExclusive(async()=>{t==null||t.debug(`[referrer] ${r++} webNavigation.onCommitted`,s);const{frameId:i,tabId:a,url:o,transitionQualifiers:l}=s;i===0&&((l!=null&&l.includes("forward_back")||l!=null&&l.includes("from_address_bar"))&&await this.addHistory(a,void 0),await this.addHistory(a,o))})),je.runtime.onStartup.addListener(()=>this.resetHistory()),(n=je.runtime.onSuspend)==null||n.addListener(()=>this.resetHistory()),je.tabs.onRemoved.addListener(s=>this.removeHistory(s))}async restoreTabHistory(){return await Fd(wo)??{}}async addHistory(t,r){const n=await this.tabHistoryMap,s=n[t]??(n[t]=[]);r!==s[0]&&s.unshift(this.sanatizeReferrerUrl(r)),s.splice(Eg.MAX_HISTORY_COUNT_PER_TAB),await si(wo,n)}sanatizeReferrerUrl(t){if(t)try{const r=new URL(t);return r.search="",r.username="",r.password="",r.hash="",r.href}catch{return}}getReferrerFor(t,r){return this.lock.runExclusive(async()=>{if(t==null||!r)return;const s=(await this.tabHistoryMap)[t];if(s==null)return;const i=s.findIndex(a=>a===r);return i===-1?void 0:s[i+1]})}resetHistory(){return si(wo,{})}async removeHistory(t){const r=await this.tabHistoryMap;delete r[t],await si(wo,r)}};Ou(Tg,"MAX_HISTORY_COUNT_PER_TAB",10);let K1=Tg;var J1=Object.defineProperty,X1=(e,t,r)=>t in e?J1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wi=(e,t,r)=>X1(e,typeof t!="symbol"?t+"":t,r);const Yl="tab-ad-network",Q1=[{name:"google",regexes:["[?&]gclid=\\w+","[?&]hvnetw=g"]},{name:"facebook",regexes:["[?&]fbclid=\\w+"]},{name:"bing",regexes:["[?&]msclkid=\\w+","[?&]hvnetw=o"]}],ex={campaign:["utm_campaign","campaignid","adgroupid","cid"],medium:["utm_medium","placement","nb_placement","channel"],source:["utm_source","source"],term:["utm_term","keyword","nb_kwd"]};class tx{constructor(t,r,n){Wi(this,"tabAdNetworkMap",this.restoreTabAdNetwork()),Wi(this,"lock",new Tc),Wi(this,"logger"),Wi(this,"adNetworkGetter"),Wi(this,"adFieldGetters");let s=0;this.logger=t,this.adNetworkGetter=r,this.adFieldGetters=n,je.webNavigation.onCommitted.addListener(i=>this.lock.runExclusive(async()=>{const{frameId:a,tabId:o,url:l,transitionQualifiers:u}=i;if(t==null||t.debug(`[ad-traffic-monitor] ${s++} webNavigation.onCommitted for frame ${a} on ${l}`),a!==0)return;if(u!=null&&u.includes("from_address_bar")){await this.removeAdHistory(o);return}const c=Ho(l);if(!c)return;const d=await this.findAdInfo(o);d&&(d==null?void 0:d.host)!==c.hostname&&await this.removeAdHistory(o),await this.processUrl(o,l)}))}async findAdInfo(t){return(await this.tabAdNetworkMap)[t??-1]}async processUrl(t,r){var l,u,c;const n=new URL(r),s=(l=(await this.adNetworkGetter()).find(d=>d.regexes.some(f=>{if(new RegExp(f).test(r))return!0})))==null?void 0:l.name,i=await this.adFieldGetters(),a=this.tryGetParams(n,i.source);if(!s&&!a)return;const o={host:((u=Ho(r))==null?void 0:u.hostname)??"",adNetwork:s,utmSource:a,utmCampaign:this.tryGetParams(n,i.campaign),utmMedium:this.tryGetParams(n,i.medium),utmTerm:this.tryGetParams(n,i.term)};(c=this.logger)==null||c.debug(`[ad-traffic-monitor] Found ad network: ${s??"unknown"}`,o),await this.addAdHistory(t,o)}tryGetParams(t,r){for(const n of r){const s=t.searchParams.get(n);if(s)return s}}async restoreTabAdNetwork(){return await Fd(Yl)??{}}async removeAdHistory(t){const r=await this.tabAdNetworkMap;delete r[t],await si(Yl,r)}async addAdHistory(t,r){const n=await this.tabAdNetworkMap;n[t]=r,await si(Yl,n)}}var rx=Object.defineProperty,nx=(e,t,r)=>t in e?rx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ii=(e,t,r)=>nx(e,typeof t!="symbol"?t+"":t,r);const $d=class Mo extends yo{constructor(t){super(t.db,t.logger),this.config=t,ii(this,"referrers"),ii(this,"adTrafficMonitor"),ii(this,"hasRecentUserActivity",!0),this.referrers=new K1(this.logger),this.adTrafficMonitor=new tx(this.logger,t.getAdNetworks,t.getAdFields)}async enabled(){return await this.config.enabled()}setHasRecentUserActivity(t){this.hasRecentUserActivity=t}setupCustomTriggers(){var t,r;this.setupExtensionStartupTriggers(),this.setupExtensionApiTriggers(),this.setupIdleTriggers(),(r=(t=this.config).setupCustomTriggers)==null||r.call(t,this)}getLastAliveAt(){return Fd(Mo.LAST_ALIVE_AT_KEY)}async setLastAliveAt(t){await si(Mo.LAST_ALIVE_AT_KEY,t)}async getComputeDependencies(){const[t,r]=await Promise.all([je.windows.getAll(),je.tabs.query({})]),n=await this.sessionsRepo.getActiveSessions(),s=await this.pageViewsRepo.getActivePageViews();return{isTabActiveWhenPlayingAudio:await this.config.isTabActiveWhenPlayingAudio(),hostnameToTabsMap:r.reduce((i,a)=>{var l,u;const o=(l=Ho(a.url))==null?void 0:l.hostname;return o&&(i[o]??(i[o]=[]),(u=i[o])==null||u.push(a)),i},{}),allActiveSessions:n,allActivePageViews:s,appIdToActiveSessionMap:W1(n??[],"appId"),windowIdToWindowMap:H1(t,"id"),processedActiveSessionCache:new fh,processedActivePageViewCache:new fh}}findSessionChanges(t,r){var a,o;const n=[],s=[];for(const[l,u]of Object.entries(r.hostnameToTabsMap))if(l)try{if(!(u!=null&&u.length))throw Error("This shouldn't be possible");const c=r.appIdToActiveSessionMap[l],d=!!(c!=null&&c.length),f=!!u.find(m=>this.isTabActive(m,r));!d&&f?n.push({appId:l,startedAt:t.timestamp}):d&&!f&&s.push(...c),d&&r.processedActiveSessionCache.markAsProcessed(c)}catch(c){(a=this.logger)==null||a.error(`[update-sessions] Failed find sessions to change for ${l}:`,c)}return(((o=r.allActiveSessions)==null?void 0:o.filter(l=>!r.processedActiveSessionCache.isProcessed(l)))??[]).forEach(l=>s.push(l)),Promise.resolve({toStart:n,toEnd:s,count:n.length+s.length})}async findPageViewChanges(t,r){var a;const n=Object.values(r.hostnameToTabsMap).flat().filter(o=>!!o&&this.isTabActive(o,r)),s=[],i=[...r.allActivePageViews];for(const o of n){const l=Ho(o.url);if(l==null)continue;const u=r.allActivePageViews.filter(c=>c.appId===(l==null?void 0:l.hostname)&&c.path===l.path&&(l.query?c.query===l.query:!0));if(u.length>0)for(const c of u){const d=i.findIndex(f=>f.id===c.id);d>=0&&i.splice(d,1)}else{const[c,d]=await Promise.all([this.adTrafficMonitor.findAdInfo(o.id),(a=this.referrers)==null?void 0:a.getReferrerFor(o.id,o.url)]),f={adNetwork:(c==null?void 0:c.adNetwork)??void 0,utmSource:(c==null?void 0:c.utmSource)??void 0,utmMedium:(c==null?void 0:c.utmMedium)??void 0,utmCampaign:(c==null?void 0:c.utmCampaign)??void 0,utmTerm:(c==null?void 0:c.utmTerm)??void 0};s.push({appId:l.hostname,path:l.path,query:l.query,startedAt:t.timestamp,referrer:d,...f})}}return{toStart:s,toEnd:i,count:s.length+i.length}}setupExtensionApiTriggers(){je.webNavigation.onCompleted.addListener(async t=>{t.frameId>0||await this.triggerSessionCheck("webNavigation.onCompleted",Math.floor(t.timeStamp))}),je.tabs.onCreated.addListener(()=>this.triggerSessionCheck("tabs.onCreated")),je.tabs.onUpdated.addListener(()=>this.triggerSessionCheck("tabs.onUpdated")),je.tabs.onActivated.addListener(()=>this.triggerSessionCheck("tabs.onActivated")),je.tabs.onRemoved.addListener(()=>this.triggerSessionCheck("tabs.onRemoved")),je.windows.onCreated.addListener(()=>this.triggerSessionCheck("windows.onCreated")),je.windows.onFocusChanged.addListener(()=>this.triggerSessionCheck("windows.onFocusChanged")),je.windows.onRemoved.addListener(()=>this.triggerSessionCheck("windows.onRemoved")),this.onWindowStateChanged(t=>this.triggerSessionCheck("SessionMonitor.onWindowStateChanged",t))}setupIdleTriggers(){}setupExtensionStartupTriggers(){this.config.isOnStartupAvailable()?je.runtime.onStartup.addListener(()=>{this.triggerStartup("runtime.onStartup",!0)}):(je.alarms.clear("ping-last-alive-at"),je.alarms.create("ping-last-alive-at",{delayInMinutes:yo.LAST_ALIVE_AT_INTERVAL_MS/sc,periodInMinutes:yo.LAST_ALIVE_AT_INTERVAL_MS/sc}),je.alarms.onAlarm.addListener(r=>{if(r.name==="ping-last-alive-at")return this.pingLastAliveAt()}),this.getLastAliveAt().then(r=>{const n=r!=null&&Date.now()-r>2*yo.LAST_ALIVE_AT_INTERVAL_MS,s=n?"time since last alive at > 2 * lastAliveInterval":"time since last alive at <= 2 * lastAliveInterval";this.triggerStartup(s,n)})),je.runtime.onInstalled.addListener(r=>{this.triggerStartup("runtime.onInstalled",r.reason!=="install")});const{onSuspend:t}=je.runtime;t==null||t.addListener(()=>this.endAllActiveSessions(Date.now()))}isTabActive(t,r){var s;if(t.windowId==null)return(s=this.logger)==null||s.warn("[update-sessions] Checking if tab without a windowId is active"),!1;const n=r.windowIdToWindowMap[t.windowId];return!!n&&G1(t,n,this.hasRecentUserActivity,r.isTabActiveWhenPlayingAudio)}onWindowStateChanged(t){let r={};this.getWindowStates().then(n=>{r=n}),setInterval(async()=>{const n=Date.now(),s=await this.getWindowStates();Sg(r,s)||(t(n),r=s)},Mo.WINDOW_STATE_POLLING_INTERVAL_MS)}async getWindowStates(){return(await je.windows.getAll()).reduce((r,n)=>(n.id!=null&&(r[n.id]=n.state),r),{})}};ii($d,"LAST_ALIVE_AT_KEY","last-activity-time-ms");ii($d,"WINDOW_STATE_POLLING_INTERVAL_MS",5*sc);let sx=$d;class fh{constructor(){ii(this,"map",{})}markAsProcessed(t){t.forEach(r=>this.map[r.id]=!0)}isProcessed(t){return this.map[t.id]??!1}}function QC(e){const t={...e,...e.monitoring,getAdNetworks:e.getAdNetworks,getAdFields:e.getAdFields},r=new sx(t);r.setupTriggers();const n={...e,...e.uploads,pageViews:{...e.uploads.pageViews,storage:e.storage},sessions:{...e.uploads.sessions,storage:e.storage}},s=B1(n);return ax(hh,{periodInMinutes:(e.uploads.uploadIntervalInMs??ix)/xg}),je.alarms.onAlarm.addListener(({name:i})=>{i===hh&&s.uploadAll()}),{sessionMonitor:r,usageUploader:s}}const hh="@alarm/upload-web-usage",ix=60*xg;async function ax(e,t){await je.alarms.get(e).catch(()=>{})==null&&je.alarms.create(e,t)}const[eP,ox]=Sc("usage-database",()=>N1({getInstallId:Ua}));/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ud(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Je={},ai=[],Zr=()=>{},cx=()=>!1,jd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),kg=e=>e.startsWith("onUpdate:"),tr=Object.assign,Vd=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},lx=Object.prototype.hasOwnProperty,He=(e,t)=>lx.call(e,t),xe=Array.isArray,oi=e=>Wa(e)==="[object Map]",Og=e=>Wa(e)==="[object Set]",mh=e=>Wa(e)==="[object Date]",ke=e=>typeof e=="function",Tt=e=>typeof e=="string",Jr=e=>typeof e=="symbol",Qe=e=>e!==null&&typeof e=="object",Cg=e=>(Qe(e)||ke(e))&&ke(e.then)&&ke(e.catch),Pg=Object.prototype.toString,Wa=e=>Pg.call(e),ux=e=>Wa(e).slice(8,-1),Mg=e=>Wa(e)==="[object Object]",Bd=e=>Tt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ra=Ud(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rc=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},dx=/-(\w)/g,Xr=Rc(e=>e.replace(dx,(t,r)=>r?r.toUpperCase():"")),fx=/\B([A-Z])/g,Ha=Rc(e=>e.replace(fx,"-$1").toLowerCase()),Wd=Rc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Io=Rc(e=>e?`on${Wd(e)}`:""),Un=(e,t)=>!Object.is(e,t),Zl=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Ig=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},hx=e=>{const t=parseFloat(e);return isNaN(t)?e:t},tP=e=>{const t=Tt(e)?Number(e):NaN;return isNaN(t)?e:t};let gh;const Nc=()=>gh||(gh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Lc(e){if(xe(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Tt(n)?yx(n):Lc(n);if(s)for(const i in s)t[i]=s[i]}return t}else if(Tt(e)||Qe(e))return e}const mx=/;(?![^(]*\))/g,gx=/:([^]+)/,px=/\/\*[^]*?\*\//g;function yx(e){const t={};return e.replace(px,"").split(mx).forEach(r=>{if(r){const n=r.split(gx);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Fc(e){let t="";if(Tt(e))t=e;else if(xe(e))for(let r=0;r<e.length;r++){const n=Fc(e[r]);n&&(t+=n+" ")}else if(Qe(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function rP(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Tt(t)&&(e.class=Fc(t)),r&&(e.style=Lc(r)),e}const wx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nP=Ud(wx);function sP(e){return!!e||e===""}function bx(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Hd(e[n],t[n]);return r}function Hd(e,t){if(e===t)return!0;let r=mh(e),n=mh(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Jr(e),n=Jr(t),r||n)return e===t;if(r=xe(e),n=xe(t),r||n)return r&&n?bx(e,t):!1;if(r=Qe(e),n=Qe(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const o=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!Hd(e[a],t[a]))return!1}}return String(e)===String(t)}function iP(e,t){return e.findIndex(r=>Hd(r,t))}const Dg=e=>!!(e&&e.__v_isRef===!0),vx=e=>Tt(e)?e:e==null?"":xe(e)||Qe(e)&&(e.toString===Pg||!ke(e.toString))?Dg(e)?vx(e.value):JSON.stringify(e,Rg,2):String(e),Rg=(e,t)=>Dg(t)?Rg(e,t.value):oi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s],i)=>(r[zl(n,i)+" =>"]=s,r),{})}:Og(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>zl(r))}:Jr(t)?zl(t):Qe(t)&&!xe(t)&&!Mg(t)?String(t):t,zl=(e,t="")=>{var r;return Jr(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zt;class Ng{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Zt,!t&&Zt&&(this.index=(Zt.scopes||(Zt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Zt;try{return Zt=this,t()}finally{Zt=r}}}on(){Zt=this}off(){Zt=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Lg(e){return new Ng(e)}function qd(){return Zt}function Gd(e,t=!1){Zt&&Zt.cleanups.push(e)}let rt;const Kl=new WeakSet;class Fg{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Zt&&Zt.active&&Zt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kl.has(this)&&(Kl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ug(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ph(this),jg(this);const t=rt,r=Dr;rt=this,Dr=!0;try{return this.fn()}finally{Vg(this),rt=t,Dr=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)zd(t);this.deps=this.depsTail=void 0,ph(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cu(this)&&this.run()}get dirty(){return Cu(this)}}let $g=0,na,sa;function Ug(e,t=!1){if(e.flags|=8,t){e.next=sa,sa=e;return}e.next=na,na=e}function Yd(){$g++}function Zd(){if(--$g>0)return;if(sa){let t=sa;for(sa=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;na;){let t=na;for(na=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function jg(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Vg(e){let t,r=e.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),zd(n),Ax(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}e.deps=t,e.depsTail=r}function Cu(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Bg(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Bg(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ka))return;e.globalVersion=ka;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Cu(e)){e.flags&=-3;return}const r=rt,n=Dr;rt=e,Dr=!0;try{jg(e);const s=e.fn(e._value);(t.version===0||Un(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{rt=r,Dr=n,Vg(e),e.flags&=-3}}function zd(e,t=!1){const{dep:r,prevSub:n,nextSub:s}=e;if(n&&(n.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)zd(i,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Ax(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Dr=!0;const Wg=[];function Zn(){Wg.push(Dr),Dr=!1}function zn(){const e=Wg.pop();Dr=e===void 0?!0:e}function ph(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=rt;rt=void 0;try{t()}finally{rt=r}}}let ka=0;class _x{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $c{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!rt||!Dr||rt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==rt)r=this.activeLink=new _x(rt,this),rt.deps?(r.prevDep=rt.depsTail,rt.depsTail.nextDep=r,rt.depsTail=r):rt.deps=rt.depsTail=r,Hg(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=rt.depsTail,r.nextDep=void 0,rt.depsTail.nextDep=r,rt.depsTail=r,rt.deps===r&&(rt.deps=n)}return r}trigger(t){this.version++,ka++,this.notify(t)}notify(t){Yd();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Zd()}}}function Hg(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Hg(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const ac=new WeakMap,Ts=Symbol(""),Pu=Symbol(""),Oa=Symbol("");function Ft(e,t,r){if(Dr&&rt){let n=ac.get(e);n||ac.set(e,n=new Map);let s=n.get(r);s||(n.set(r,s=new $c),s.map=n,s.key=r),s.track()}}function gn(e,t,r,n,s,i){const a=ac.get(e);if(!a){ka++;return}const o=l=>{l&&l.trigger()};if(Yd(),t==="clear")a.forEach(o);else{const l=xe(e),u=l&&Bd(r);if(l&&r==="length"){const c=Number(n);a.forEach((d,f)=>{(f==="length"||f===Oa||!Jr(f)&&f>=c)&&o(d)})}else switch((r!==void 0||a.has(void 0))&&o(a.get(r)),u&&o(a.get(Oa)),t){case"add":l?u&&o(a.get("length")):(o(a.get(Ts)),oi(e)&&o(a.get(Pu)));break;case"delete":l||(o(a.get(Ts)),oi(e)&&o(a.get(Pu)));break;case"set":oi(e)&&o(a.get(Ts));break}}Zd()}function xx(e,t){const r=ac.get(e);return r&&r.get(t)}function Ks(e){const t=Ve(e);return t===e?t:(Ft(t,"iterate",Oa),br(e)?t:t.map($t))}function Uc(e){return Ft(e=Ve(e),"iterate",Oa),e}const Sx={__proto__:null,[Symbol.iterator](){return Jl(this,Symbol.iterator,$t)},concat(...e){return Ks(this).concat(...e.map(t=>xe(t)?Ks(t):t))},entries(){return Jl(this,"entries",e=>(e[1]=$t(e[1]),e))},every(e,t){return un(this,"every",e,t,void 0,arguments)},filter(e,t){return un(this,"filter",e,t,r=>r.map($t),arguments)},find(e,t){return un(this,"find",e,t,$t,arguments)},findIndex(e,t){return un(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return un(this,"findLast",e,t,$t,arguments)},findLastIndex(e,t){return un(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return un(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xl(this,"includes",e)},indexOf(...e){return Xl(this,"indexOf",e)},join(e){return Ks(this).join(e)},lastIndexOf(...e){return Xl(this,"lastIndexOf",e)},map(e,t){return un(this,"map",e,t,void 0,arguments)},pop(){return Hi(this,"pop")},push(...e){return Hi(this,"push",e)},reduce(e,...t){return yh(this,"reduce",e,t)},reduceRight(e,...t){return yh(this,"reduceRight",e,t)},shift(){return Hi(this,"shift")},some(e,t){return un(this,"some",e,t,void 0,arguments)},splice(...e){return Hi(this,"splice",e)},toReversed(){return Ks(this).toReversed()},toSorted(e){return Ks(this).toSorted(e)},toSpliced(...e){return Ks(this).toSpliced(...e)},unshift(...e){return Hi(this,"unshift",e)},values(){return Jl(this,"values",$t)}};function Jl(e,t,r){const n=Uc(e),s=n[t]();return n!==e&&!br(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=r(i.value)),i}),s}const Tx=Array.prototype;function un(e,t,r,n,s,i){const a=Uc(e),o=a!==e&&!br(e),l=a[t];if(l!==Tx[t]){const d=l.apply(e,i);return o?$t(d):d}let u=r;a!==e&&(o?u=function(d,f){return r.call(this,$t(d),f,e)}:r.length>2&&(u=function(d,f){return r.call(this,d,f,e)}));const c=l.call(a,u,n);return o&&s?s(c):c}function yh(e,t,r,n){const s=Uc(e);let i=r;return s!==e&&(br(e)?r.length>3&&(i=function(a,o,l){return r.call(this,a,o,l,e)}):i=function(a,o,l){return r.call(this,a,$t(o),l,e)}),s[t](i,...n)}function Xl(e,t,r){const n=Ve(e);Ft(n,"iterate",Oa);const s=n[t](...r);return(s===-1||s===!1)&&Xd(r[0])?(r[0]=Ve(r[0]),n[t](...r)):s}function Hi(e,t,r=[]){Zn(),Yd();const n=Ve(e)[t].apply(e,r);return Zd(),zn(),n}const Ex=Ud("__proto__,__v_isRef,__isVue"),qg=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Jr));function kx(e){Jr(e)||(e=String(e));const t=Ve(this);return Ft(t,"has",e),t.hasOwnProperty(e)}class Gg{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?Fx:Kg:i?zg:Zg).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=xe(t);if(!s){let l;if(a&&(l=Sx[r]))return l;if(r==="hasOwnProperty")return kx}const o=Reflect.get(t,r,Xe(t)?t:n);return(Jr(r)?qg.has(r):Ex(r))||(s||Ft(t,"get",r),i)?o:Xe(o)?a&&Bd(r)?o:o.value:Qe(o)?s?qa(o):jc(o):o}}class Yg extends Gg{constructor(t=!1){super(!1,t)}set(t,r,n,s){let i=t[r];if(!this._isShallow){const l=Rs(i);if(!br(n)&&!Rs(n)&&(i=Ve(i),n=Ve(n)),!xe(t)&&Xe(i)&&!Xe(n))return l?!1:(i.value=n,!0)}const a=xe(t)&&Bd(r)?Number(r)<t.length:He(t,r),o=Reflect.set(t,r,n,Xe(t)?t:s);return t===Ve(s)&&(a?Un(n,i)&&gn(t,"set",r,n):gn(t,"add",r,n)),o}deleteProperty(t,r){const n=He(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&n&&gn(t,"delete",r,void 0),s}has(t,r){const n=Reflect.has(t,r);return(!Jr(r)||!qg.has(r))&&Ft(t,"has",r),n}ownKeys(t){return Ft(t,"iterate",xe(t)?"length":Ts),Reflect.ownKeys(t)}}class Ox extends Gg{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Cx=new Yg,Px=new Ox,Mx=new Yg(!0);const Mu=e=>e,bo=e=>Reflect.getPrototypeOf(e);function Ix(e,t,r){return function(...n){const s=this.__v_raw,i=Ve(s),a=oi(i),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=s[e](...n),c=r?Mu:t?Iu:$t;return!t&&Ft(i,"iterate",l?Pu:Ts),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:o?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function vo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Dx(e,t){const r={get(s){const i=this.__v_raw,a=Ve(i),o=Ve(s);e||(Un(s,o)&&Ft(a,"get",s),Ft(a,"get",o));const{has:l}=bo(a),u=t?Mu:e?Iu:$t;if(l.call(a,s))return u(i.get(s));if(l.call(a,o))return u(i.get(o));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Ft(Ve(s),"iterate",Ts),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=Ve(i),o=Ve(s);return e||(Un(s,o)&&Ft(a,"has",s),Ft(a,"has",o)),s===o?i.has(s):i.has(s)||i.has(o)},forEach(s,i){const a=this,o=a.__v_raw,l=Ve(o),u=t?Mu:e?Iu:$t;return!e&&Ft(l,"iterate",Ts),o.forEach((c,d)=>s.call(i,u(c),u(d),a))}};return tr(r,e?{add:vo("add"),set:vo("set"),delete:vo("delete"),clear:vo("clear")}:{add(s){!t&&!br(s)&&!Rs(s)&&(s=Ve(s));const i=Ve(this);return bo(i).has.call(i,s)||(i.add(s),gn(i,"add",s,s)),this},set(s,i){!t&&!br(i)&&!Rs(i)&&(i=Ve(i));const a=Ve(this),{has:o,get:l}=bo(a);let u=o.call(a,s);u||(s=Ve(s),u=o.call(a,s));const c=l.call(a,s);return a.set(s,i),u?Un(i,c)&&gn(a,"set",s,i):gn(a,"add",s,i),this},delete(s){const i=Ve(this),{has:a,get:o}=bo(i);let l=a.call(i,s);l||(s=Ve(s),l=a.call(i,s)),o&&o.call(i,s);const u=i.delete(s);return l&&gn(i,"delete",s,void 0),u},clear(){const s=Ve(this),i=s.size!==0,a=s.clear();return i&&gn(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=Ix(s,e,t)}),r}function Kd(e,t){const r=Dx(e,t);return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(He(r,s)&&s in n?r:n,s,i)}const Rx={get:Kd(!1,!1)},Nx={get:Kd(!1,!0)},Lx={get:Kd(!0,!1)};const Zg=new WeakMap,zg=new WeakMap,Kg=new WeakMap,Fx=new WeakMap;function $x(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ux(e){return e.__v_skip||!Object.isExtensible(e)?0:$x(ux(e))}function jc(e){return Rs(e)?e:Jd(e,!1,Cx,Rx,Zg)}function Jg(e){return Jd(e,!1,Mx,Nx,zg)}function qa(e){return Jd(e,!0,Px,Lx,Kg)}function Jd(e,t,r,n,s){if(!Qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=Ux(e);if(a===0)return e;const o=new Proxy(e,a===2?n:r);return s.set(e,o),o}function yn(e){return Rs(e)?yn(e.__v_raw):!!(e&&e.__v_isReactive)}function Rs(e){return!!(e&&e.__v_isReadonly)}function br(e){return!!(e&&e.__v_isShallow)}function Xd(e){return e?!!e.__v_raw:!1}function Ve(e){const t=e&&e.__v_raw;return t?Ve(t):e}function Qd(e){return!He(e,"__v_skip")&&Object.isExtensible(e)&&Ig(e,"__v_skip",!0),e}const $t=e=>Qe(e)?jc(e):e,Iu=e=>Qe(e)?qa(e):e;function Xe(e){return e?e.__v_isRef===!0:!1}function Qt(e){return Xg(e,!1)}function oc(e){return Xg(e,!0)}function Xg(e,t){return Xe(e)?e:new jx(e,t)}class jx{constructor(t,r){this.dep=new $c,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Ve(t),this._value=r?t:$t(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||br(t)||Rs(t);t=n?t:Ve(t),Un(t,r)&&(this._rawValue=t,this._value=n?t:$t(t),this.dep.trigger())}}function ef(e){return Xe(e)?e.value:e}const Vx={get:(e,t,r)=>t==="__v_raw"?e:ef(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return Xe(s)&&!Xe(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function Qg(e){return yn(e)?e:new Proxy(e,Vx)}class Bx{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new $c,{get:n,set:s}=t(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Wx(e){return new Bx(e)}function ep(e){const t=xe(e)?new Array(e.length):{};for(const r in e)t[r]=rp(e,r);return t}class Hx{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return xx(Ve(this._object),this._key)}}class qx{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function tp(e,t,r){return Xe(e)?e:ke(e)?new qx(e):Qe(e)&&arguments.length>1?rp(e,t,r):Qt(e)}function rp(e,t,r){const n=e[t];return Xe(n)?n:new Hx(e,t,r)}class Gx{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new $c(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ka-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&rt!==this)return Ug(this,!0),!0}get value(){const t=this.dep.track();return Bg(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Yx(e,t,r=!1){let n,s;return ke(e)?n=e:(n=e.get,s=e.set),new Gx(n,s,r)}const Ao={},cc=new WeakMap;let ls;function Zx(e,t=!1,r=ls){if(r){let n=cc.get(r);n||cc.set(r,n=[]),n.push(e)}}function zx(e,t,r=Je){const{immediate:n,deep:s,once:i,scheduler:a,augmentJob:o,call:l}=r,u=v=>s?v:br(v)||s===!1||s===0?pn(v,1):pn(v);let c,d,f,m,p=!1,h=!1;if(Xe(e)?(d=()=>e.value,p=br(e)):yn(e)?(d=()=>u(e),p=!0):xe(e)?(h=!0,p=e.some(v=>yn(v)||br(v)),d=()=>e.map(v=>{if(Xe(v))return v.value;if(yn(v))return u(v);if(ke(v))return l?l(v,2):v()})):ke(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){Zn();try{f()}finally{zn()}}const v=ls;ls=c;try{return l?l(e,3,[m]):e(m)}finally{ls=v}}:d=Zr,t&&s){const v=d,C=s===!0?1/0:s;d=()=>pn(v(),C)}const g=qd(),w=()=>{c.stop(),g&&g.active&&Vd(g.effects,c)};if(i&&t){const v=t;t=(...C)=>{v(...C),w()}}let S=h?new Array(e.length).fill(Ao):Ao;const _=v=>{if(!(!(c.flags&1)||!c.dirty&&!v))if(t){const C=c.run();if(s||p||(h?C.some((b,T)=>Un(b,S[T])):Un(C,S))){f&&f();const b=ls;ls=c;try{const T=[C,S===Ao?void 0:h&&S[0]===Ao?[]:S,m];l?l(t,3,T):t(...T),S=C}finally{ls=b}}}else c.run()};return o&&o(_),c=new Fg(d),c.scheduler=a?()=>a(_,!1):_,m=v=>Zx(v,!1,c),f=c.onStop=()=>{const v=cc.get(c);if(v){if(l)l(v,4);else for(const C of v)C();cc.delete(c)}},t?n?_(!0):S=c.run():a?a(_.bind(null,!0),!0):c.run(),w.pause=c.pause.bind(c),w.resume=c.resume.bind(c),w.stop=w,w}function pn(e,t=1/0,r){if(t<=0||!Qe(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,Xe(e))pn(e.value,t,r);else if(xe(e))for(let n=0;n<e.length;n++)pn(e[n],t,r);else if(Og(e)||oi(e))e.forEach(n=>{pn(n,t,r)});else if(Mg(e)){for(const n in e)pn(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&pn(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ga(e,t,r,n){try{return n?e(...n):e()}catch(s){Vc(s,t,r)}}function Qr(e,t,r,n){if(ke(e)){const s=Ga(e,t,r,n);return s&&Cg(s)&&s.catch(i=>{Vc(i,t,r)}),s}if(xe(e)){const s=[];for(let i=0;i<e.length;i++)s.push(Qr(e[i],t,r,n));return s}}function Vc(e,t,r,n=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Je;if(t){let o=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}o=o.parent}if(i){Zn(),Ga(i,null,10,[e,l,u]),zn();return}}Kx(e,r,s,n,a)}function Kx(e,t,r,n=!0,s=!1){if(s)throw e;console.error(e)}const zt=[];let Br=-1;const ci=[];let Cn=null,ei=0;const np=Promise.resolve();let lc=null;function Ya(e){const t=lc||np;return e?t.then(this?e.bind(this):e):t}function Jx(e){let t=Br+1,r=zt.length;for(;t<r;){const n=t+r>>>1,s=zt[n],i=Ca(s);i<e||i===e&&s.flags&2?t=n+1:r=n}return t}function tf(e){if(!(e.flags&1)){const t=Ca(e),r=zt[zt.length-1];!r||!(e.flags&2)&&t>=Ca(r)?zt.push(e):zt.splice(Jx(t),0,e),e.flags|=1,sp()}}function sp(){lc||(lc=np.then(ap))}function Xx(e){xe(e)?ci.push(...e):Cn&&e.id===-1?Cn.splice(ei+1,0,e):e.flags&1||(ci.push(e),e.flags|=1),sp()}function wh(e,t,r=Br+1){for(;r<zt.length;r++){const n=zt[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;zt.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ip(e){if(ci.length){const t=[...new Set(ci)].sort((r,n)=>Ca(r)-Ca(n));if(ci.length=0,Cn){Cn.push(...t);return}for(Cn=t,ei=0;ei<Cn.length;ei++){const r=Cn[ei];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Cn=null,ei=0}}const Ca=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ap(e){try{for(Br=0;Br<zt.length;Br++){const t=zt[Br];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ga(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Br<zt.length;Br++){const t=zt[Br];t&&(t.flags&=-2)}Br=-1,zt.length=0,ip(),lc=null,(zt.length||ci.length)&&ap()}}let St=null,op=null;function uc(e){const t=St;return St=e,op=e&&e.type.__scopeId||null,t}function Qx(e,t=St,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Ih(-1);const i=uc(t);let a;try{a=e(...s)}finally{uc(i),n._d&&Ih(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function aP(e,t){if(St===null)return e;const r=Yc(St),n=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,o,l=Je]=t[s];i&&(ke(i)&&(i={mounted:i,updated:i}),i.deep&&pn(a),n.push({dir:i,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return e}function as(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let l=o.dir[n];l&&(Zn(),Qr(l,r,8,[e.el,o,e,t]),zn())}}const cp=Symbol("_vte"),lp=e=>e.__isTeleport,ia=e=>e&&(e.disabled||e.disabled===""),bh=e=>e&&(e.defer||e.defer===""),vh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ah=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Du=(e,t)=>{const r=e&&e.to;return Tt(r)?t?t(r):null:r},up={name:"Teleport",__isTeleport:!0,process(e,t,r,n,s,i,a,o,l,u){const{mc:c,pc:d,pbc:f,o:{insert:m,querySelector:p,createText:h,createComment:g}}=u,w=ia(t.props);let{shapeFlag:S,children:_,dynamicChildren:v}=t;if(e==null){const C=t.el=h(""),b=t.anchor=h("");m(C,r,n),m(b,r,n);const T=(E,M)=>{S&16&&(s&&s.isCE&&(s.ce._teleportTarget=E),c(_,E,M,s,i,a,o,l))},A=()=>{const E=t.target=Du(t.props,p),M=dp(E,t,h,m);E&&(a!=="svg"&&vh(E)?a="svg":a!=="mathml"&&Ah(E)&&(a="mathml"),w||(T(E,M),Do(t,!1)))};w&&(T(r,b),Do(t,!0)),bh(t.props)?Yt(()=>{A(),t.el.__isMounted=!0},i):A()}else{if(bh(t.props)&&!e.el.__isMounted){Yt(()=>{up.process(e,t,r,n,s,i,a,o,l,u),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const C=t.anchor=e.anchor,b=t.target=e.target,T=t.targetAnchor=e.targetAnchor,A=ia(e.props),E=A?r:b,M=A?C:T;if(a==="svg"||vh(b)?a="svg":(a==="mathml"||Ah(b))&&(a="mathml"),v?(f(e.dynamicChildren,v,E,s,i,a,o),sf(e,t,!0)):l||d(e,t,E,M,s,i,a,o,!1),w)A?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):_o(t,r,C,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const $=t.target=Du(t.props,p);$&&_o(t,$,null,u,0)}else A&&_o(t,b,T,u,1);Do(t,w)}},remove(e,t,r,{um:n,o:{remove:s}},i){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=e;if(d&&(s(u),s(c)),i&&s(l),a&16){const m=i||!ia(f);for(let p=0;p<o.length;p++){const h=o[p];n(h,t,r,m,!!h.dynamicChildren)}}},move:_o,hydrate:eS};function _o(e,t,r,{o:{insert:n},m:s},i=2){i===0&&n(e.targetAnchor,t,r);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=e,d=i===2;if(d&&n(a,t,r),(!d||ia(c))&&l&16)for(let f=0;f<u.length;f++)s(u[f],t,r,2);d&&n(o,t,r)}function eS(e,t,r,n,s,i,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:c}},d){const f=t.target=Du(t.props,l);if(f){const m=ia(t.props),p=f._lpa||f.firstChild;if(t.shapeFlag&16)if(m)t.anchor=d(a(e),t,o(e),r,n,s,i),t.targetStart=p,t.targetAnchor=p&&a(p);else{t.anchor=a(e);let h=p;for(;h;){if(h&&h.nodeType===8){if(h.data==="teleport start anchor")t.targetStart=h;else if(h.data==="teleport anchor"){t.targetAnchor=h,f._lpa=t.targetAnchor&&a(t.targetAnchor);break}}h=a(h)}t.targetAnchor||dp(f,t,c,u),d(p&&a(p),t,f,r,n,s,i)}Do(t,m)}return t.anchor&&a(t.anchor)}const oP=up;function Do(e,t){const r=e.ctx;if(r&&r.ut){let n,s;for(t?(n=e.el,s=e.anchor):(n=e.targetStart,s=e.targetAnchor);n&&n!==s;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function dp(e,t,r,n){const s=t.targetStart=r(""),i=t.targetAnchor=r("");return s[cp]=i,e&&(n(s,e),n(i,e)),i}const Pn=Symbol("_leaveCb"),xo=Symbol("_enterCb");function tS(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Za(()=>{e.isMounted=!0}),wp(()=>{e.isUnmounting=!0}),e}const gr=[Function,Array],rS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gr,onEnter:gr,onAfterEnter:gr,onEnterCancelled:gr,onBeforeLeave:gr,onLeave:gr,onAfterLeave:gr,onLeaveCancelled:gr,onBeforeAppear:gr,onAppear:gr,onAfterAppear:gr,onAppearCancelled:gr},fp=e=>{const t=e.subTree;return t.component?fp(t.component):t},nS={name:"BaseTransition",props:rS,setup(e,{slots:t}){const r=Gc(),n=tS();return()=>{const s=t.default&&gp(t.default(),!0);if(!s||!s.length)return;const i=hp(s),a=Ve(e),{mode:o}=a;if(n.isLeaving)return Ql(i);const l=_h(i);if(!l)return Ql(i);let u=Ru(l,a,n,r,d=>u=d);l.type!==Kt&&Pa(l,u);let c=r.subTree&&_h(r.subTree);if(c&&c.type!==Kt&&!ds(l,c)&&fp(r).type!==Kt){let d=Ru(c,a,n,r);if(Pa(c,d),o==="out-in"&&l.type!==Kt)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,c=void 0},Ql(i);o==="in-out"&&l.type!==Kt?d.delayLeave=(f,m,p)=>{const h=mp(n,c);h[String(c.key)]=c,f[Pn]=()=>{m(),f[Pn]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function hp(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Kt){t=r;break}}return t}const cP=nS;function mp(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Ru(e,t,r,n,s){const{appear:i,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:m,onAfterLeave:p,onLeaveCancelled:h,onBeforeAppear:g,onAppear:w,onAfterAppear:S,onAppearCancelled:_}=t,v=String(e.key),C=mp(r,e),b=(E,M)=>{E&&Qr(E,n,9,M)},T=(E,M)=>{const $=M[1];b(E,M),xe(E)?E.every(G=>G.length<=1)&&$():E.length<=1&&$()},A={mode:a,persisted:o,beforeEnter(E){let M=l;if(!r.isMounted)if(i)M=g||l;else return;E[Pn]&&E[Pn](!0);const $=C[v];$&&ds(e,$)&&$.el[Pn]&&$.el[Pn](),b(M,[E])},enter(E){let M=u,$=c,G=d;if(!r.isMounted)if(i)M=w||u,$=S||c,G=_||d;else return;let F=!1;const se=E[xo]=B=>{F||(F=!0,B?b(G,[E]):b($,[E]),A.delayedLeave&&A.delayedLeave(),E[xo]=void 0)};M?T(M,[E,se]):se()},leave(E,M){const $=String(e.key);if(E[xo]&&E[xo](!0),r.isUnmounting)return M();b(f,[E]);let G=!1;const F=E[Pn]=se=>{G||(G=!0,M(),se?b(h,[E]):b(p,[E]),E[Pn]=void 0,C[$]===e&&delete C[$])};C[$]=e,m?T(m,[E,F]):F()},clone(E){const M=Ru(E,t,r,n,s);return s&&s(M),M}};return A}function Ql(e){if(Bc(e))return e=Gn(e),e.children=null,e}function _h(e){if(!Bc(e))return lp(e.type)&&e.children?hp(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&ke(r.default))return r.default()}}function Pa(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Pa(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function gp(e,t=!1,r){let n=[],s=0;for(let i=0;i<e.length;i++){let a=e[i];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:i);a.type===cr?(a.patchFlag&128&&s++,n=n.concat(gp(a.children,t,o))):(t||a.type!==Kt)&&n.push(o!=null?Gn(a,{key:o}):a)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function lP(e,t){return ke(e)?tr({name:e.name},t,{setup:e}):e}function pp(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function dc(e,t,r,n,s=!1){if(xe(e)){e.forEach((p,h)=>dc(p,t&&(xe(t)?t[h]:t),r,n,s));return}if(li(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&dc(e,t,r,n.component.subTree);return}const i=n.shapeFlag&4?Yc(n.component):n.el,a=s?null:i,{i:o,r:l}=e,u=t&&t.r,c=o.refs===Je?o.refs={}:o.refs,d=o.setupState,f=Ve(d),m=d===Je?()=>!1:p=>He(f,p);if(u!=null&&u!==l&&(Tt(u)?(c[u]=null,m(u)&&(d[u]=null)):Xe(u)&&(u.value=null)),ke(l))Ga(l,o,12,[a,c]);else{const p=Tt(l),h=Xe(l);if(p||h){const g=()=>{if(e.f){const w=p?m(l)?d[l]:c[l]:l.value;s?xe(w)&&Vd(w,i):xe(w)?w.includes(i)||w.push(i):p?(c[l]=[i],m(l)&&(d[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else p?(c[l]=a,m(l)&&(d[l]=a)):h&&(l.value=a,e.k&&(c[e.k]=a))};a?(g.id=-1,Yt(g,r)):g()}}}Nc().requestIdleCallback;Nc().cancelIdleCallback;const li=e=>!!e.type.__asyncLoader,Bc=e=>e.type.__isKeepAlive;function sS(e,t){yp(e,"a",t)}function iS(e,t){yp(e,"da",t)}function yp(e,t,r=kt){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Wc(t,n,r),r){let s=r.parent;for(;s&&s.parent;)Bc(s.parent.vnode)&&aS(n,t,r,s),s=s.parent}}function aS(e,t,r,n){const s=Wc(t,e,n,!0);rf(()=>{Vd(n[t],s)},r)}function Wc(e,t,r=kt,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...a)=>{Zn();const o=za(r),l=Qr(t,r,e,a);return o(),zn(),l});return n?s.unshift(i):s.push(i),i}}const vn=e=>(t,r=kt)=>{(!Da||e==="sp")&&Wc(e,(...n)=>t(...n),r)},oS=vn("bm"),Za=vn("m"),cS=vn("bu"),lS=vn("u"),wp=vn("bum"),rf=vn("um"),uS=vn("sp"),dS=vn("rtg"),fS=vn("rtc");function hS(e,t=kt){Wc("ec",e,t)}const bp="components";function uP(e,t){return Ap(bp,e,!0,t)||e}const vp=Symbol.for("v-ndc");function dP(e){return Tt(e)?Ap(bp,e,!1)||e:e||vp}function Ap(e,t,r=!0,n=!1){const s=St||kt;if(s){const i=s.type;{const o=eT(i,!1);if(o&&(o===t||o===Xr(t)||o===Wd(Xr(t))))return i}const a=xh(s[e]||i[e],t)||xh(s.appContext[e],t);return!a&&n?i:a}}function xh(e,t){return e&&(e[t]||e[Xr(t)]||e[Wd(Xr(t))])}function fP(e,t,r,n){let s;const i=r,a=xe(e);if(a||Tt(e)){const o=a&&yn(e);let l=!1;o&&(l=!br(e),e=Uc(e)),s=new Array(e.length);for(let u=0,c=e.length;u<c;u++)s[u]=t(l?$t(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i)}else if(Qe(e))if(e[Symbol.iterator])s=Array.from(e,(o,l)=>t(o,l,void 0,i));else{const o=Object.keys(e);s=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];s[l]=t(e[c],c,l,i)}}else s=[];return s}function hP(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(xe(n))for(let s=0;s<n.length;s++)e[n[s].name]=n[s].fn;else n&&(e[n.name]=n.key?(...s)=>{const i=n.fn(...s);return i&&(i.key=n.key),i}:n.fn)}return e}function mP(e,t,r={},n,s){if(St.ce||St.parent&&li(St.parent)&&St.parent.ce)return t!=="default"&&(r.name=t),Uu(),ju(cr,null,[Jt("slot",r,n)],64);let i=e[t];i&&i._c&&(i._d=!1),Uu();const a=i&&_p(i(r)),o=r.key||a&&a.key,l=ju(cr,{key:(o&&!Jr(o)?o:`_${t}`)+""},a||[],a&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function _p(e){return e.some(t=>Ia(t)?!(t.type===Kt||t.type===cr&&!_p(t.children)):!0)?e:null}function gP(e,t){const r={};for(const n in e)r[Io(n)]=e[n];return r}const Nu=e=>e?Hp(e)?Yc(e):Nu(e.parent):null,aa=tr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Nu(e.parent),$root:e=>Nu(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Sp(e),$forceUpdate:e=>e.f||(e.f=()=>{tf(e.update)}),$nextTick:e=>e.n||(e.n=Ya.bind(e.proxy)),$watch:e=>RS.bind(e)}),eu=(e,t)=>e!==Je&&!e.__isScriptSetup&&He(e,t),mS={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:a,type:o,appContext:l}=e;let u;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(eu(n,t))return a[t]=1,n[t];if(s!==Je&&He(s,t))return a[t]=2,s[t];if((u=e.propsOptions[0])&&He(u,t))return a[t]=3,i[t];if(r!==Je&&He(r,t))return a[t]=4,r[t];Lu&&(a[t]=0)}}const c=aa[t];let d,f;if(c)return t==="$attrs"&&Ft(e.attrs,"get",""),c(e);if((d=o.__cssModules)&&(d=d[t]))return d;if(r!==Je&&He(r,t))return a[t]=4,r[t];if(f=l.config.globalProperties,He(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return eu(s,t)?(s[t]=r,!0):n!==Je&&He(n,t)?(n[t]=r,!0):He(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},a){let o;return!!r[a]||e!==Je&&He(e,a)||eu(t,a)||(o=i[0])&&He(o,a)||He(n,a)||He(aa,a)||He(s.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:He(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Sh(e){return xe(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Lu=!0;function gS(e){const t=Sp(e),r=e.proxy,n=e.ctx;Lu=!1,t.beforeCreate&&Th(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:m,updated:p,activated:h,deactivated:g,beforeDestroy:w,beforeUnmount:S,destroyed:_,unmounted:v,render:C,renderTracked:b,renderTriggered:T,errorCaptured:A,serverPrefetch:E,expose:M,inheritAttrs:$,components:G,directives:F,filters:se}=t;if(u&&pS(u,n,null),a)for(const U in a){const R=a[U];ke(R)&&(n[U]=R.bind(r))}if(s){const U=s.call(r,r);Qe(U)&&(e.data=jc(U))}if(Lu=!0,i)for(const U in i){const R=i[U],ie=ke(R)?R.bind(r,r):ke(R.get)?R.get.bind(r,r):Zr,me=!ke(R)&&ke(R.set)?R.set.bind(r):Zr,Pe=dt({get:ie,set:me});Object.defineProperty(n,U,{enumerable:!0,configurable:!0,get:()=>Pe.value,set:Le=>Pe.value=Le})}if(o)for(const U in o)xp(o[U],n,r,U);if(l){const U=ke(l)?l.call(r):l;Reflect.ownKeys(U).forEach(R=>{_S(R,U[R])})}c&&Th(c,e,"c");function K(U,R){xe(R)?R.forEach(ie=>U(ie.bind(r))):R&&U(R.bind(r))}if(K(oS,d),K(Za,f),K(cS,m),K(lS,p),K(sS,h),K(iS,g),K(hS,A),K(fS,b),K(dS,T),K(wp,S),K(rf,v),K(uS,E),xe(M))if(M.length){const U=e.exposed||(e.exposed={});M.forEach(R=>{Object.defineProperty(U,R,{get:()=>r[R],set:ie=>r[R]=ie})})}else e.exposed||(e.exposed={});C&&e.render===Zr&&(e.render=C),$!=null&&(e.inheritAttrs=$),G&&(e.components=G),F&&(e.directives=F),E&&pp(e)}function pS(e,t,r=Zr){xe(e)&&(e=Fu(e));for(const n in e){const s=e[n];let i;Qe(s)?"default"in s?i=ks(s.from||n,s.default,!0):i=ks(s.from||n):i=ks(s),Xe(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[n]=i}}function Th(e,t,r){Qr(xe(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function xp(e,t,r,n){let s=n.includes(".")?$p(r,n):()=>r[n];if(Tt(e)){const i=t[e];ke(i)&&Ut(s,i)}else if(ke(e))Ut(s,e.bind(r));else if(Qe(e))if(xe(e))e.forEach(i=>xp(i,t,r,n));else{const i=ke(e.handler)?e.handler.bind(r):t[e.handler];ke(i)&&Ut(s,i,e)}}function Sp(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,o=i.get(t);let l;return o?l=o:!s.length&&!r&&!n?l=t:(l={},s.length&&s.forEach(u=>fc(l,u,a,!0)),fc(l,t,a)),Qe(t)&&i.set(t,l),l}function fc(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&fc(e,i,r,!0),s&&s.forEach(a=>fc(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const o=yS[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const yS={data:Eh,props:kh,emits:kh,methods:Qi,computed:Qi,beforeCreate:Ht,created:Ht,beforeMount:Ht,mounted:Ht,beforeUpdate:Ht,updated:Ht,beforeDestroy:Ht,beforeUnmount:Ht,destroyed:Ht,unmounted:Ht,activated:Ht,deactivated:Ht,errorCaptured:Ht,serverPrefetch:Ht,components:Qi,directives:Qi,watch:bS,provide:Eh,inject:wS};function Eh(e,t){return t?e?function(){return tr(ke(e)?e.call(this,this):e,ke(t)?t.call(this,this):t)}:t:e}function wS(e,t){return Qi(Fu(e),Fu(t))}function Fu(e){if(xe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ht(e,t){return e?[...new Set([].concat(e,t))]:t}function Qi(e,t){return e?tr(Object.create(null),e,t):t}function kh(e,t){return e?xe(e)&&xe(t)?[...new Set([...e,...t])]:tr(Object.create(null),Sh(e),Sh(t??{})):t}function bS(e,t){if(!e)return t;if(!t)return e;const r=tr(Object.create(null),e);for(const n in t)r[n]=Ht(e[n],t[n]);return r}function Tp(){return{app:null,config:{isNativeTag:cx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vS=0;function AS(e,t){return function(n,s=null){ke(n)||(n=tr({},n)),s!=null&&!Qe(s)&&(s=null);const i=Tp(),a=new WeakSet,o=[];let l=!1;const u=i.app={_uid:vS++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:rT,get config(){return i.config},set config(c){},use(c,...d){return a.has(c)||(c&&ke(c.install)?(a.add(c),c.install(u,...d)):ke(c)&&(a.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,f){if(!l){const m=u._ceVNode||Jt(n,s);return m.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(m,c,f),l=!0,u._container=c,c.__vue_app__=u,Yc(m.component)}},onUnmount(c){o.push(c)},unmount(){l&&(Qr(o,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Es;Es=u;try{return c()}finally{Es=d}}};return u}}let Es=null;function _S(e,t){if(kt){let r=kt.provides;const n=kt.parent&&kt.parent.provides;n===r&&(r=kt.provides=Object.create(n)),r[e]=t}}function ks(e,t,r=!1){const n=kt||St;if(n||Es){const s=Es?Es._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return r&&ke(t)?t.call(n&&n.proxy):t}}function Ep(){return!!(kt||St||Es)}const kp={},Op=()=>Object.create(kp),Cp=e=>Object.getPrototypeOf(e)===kp;function xS(e,t,r,n=!1){const s={},i=Op();e.propsDefaults=Object.create(null),Pp(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);r?e.props=n?s:Jg(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function SS(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,o=Ve(s),[l]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Hc(e.emitsOptions,f))continue;const m=t[f];if(l)if(He(i,f))m!==i[f]&&(i[f]=m,u=!0);else{const p=Xr(f);s[p]=$u(l,o,p,m,e,!1)}else m!==i[f]&&(i[f]=m,u=!0)}}}else{Pp(e,t,s,i)&&(u=!0);let c;for(const d in o)(!t||!He(t,d)&&((c=Ha(d))===d||!He(t,c)))&&(l?r&&(r[d]!==void 0||r[c]!==void 0)&&(s[d]=$u(l,o,d,void 0,e,!0)):delete s[d]);if(i!==o)for(const d in i)(!t||!He(t,d))&&(delete i[d],u=!0)}u&&gn(e.attrs,"set","")}function Pp(e,t,r,n){const[s,i]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(ra(l))continue;const u=t[l];let c;s&&He(s,c=Xr(l))?!i||!i.includes(c)?r[c]=u:(o||(o={}))[c]=u:Hc(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(i){const l=Ve(r),u=o||Je;for(let c=0;c<i.length;c++){const d=i[c];r[d]=$u(s,l,d,u[d],e,!He(u,d))}}return a}function $u(e,t,r,n,s,i){const a=e[r];if(a!=null){const o=He(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ke(l)){const{propsDefaults:u}=s;if(r in u)n=u[r];else{const c=za(s);n=u[r]=l.call(null,t),c()}}else n=l;s.ce&&s.ce._setProp(r,n)}a[0]&&(i&&!o?n=!1:a[1]&&(n===""||n===Ha(r))&&(n=!0))}return n}const TS=new WeakMap;function Mp(e,t,r=!1){const n=r?TS:t.propsCache,s=n.get(e);if(s)return s;const i=e.props,a={},o=[];let l=!1;if(!ke(e)){const c=d=>{l=!0;const[f,m]=Mp(d,t,!0);tr(a,f),m&&o.push(...m)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return Qe(e)&&n.set(e,ai),ai;if(xe(i))for(let c=0;c<i.length;c++){const d=Xr(i[c]);Oh(d)&&(a[d]=Je)}else if(i)for(const c in i){const d=Xr(c);if(Oh(d)){const f=i[c],m=a[d]=xe(f)||ke(f)?{type:f}:tr({},f),p=m.type;let h=!1,g=!0;if(xe(p))for(let w=0;w<p.length;++w){const S=p[w],_=ke(S)&&S.name;if(_==="Boolean"){h=!0;break}else _==="String"&&(g=!1)}else h=ke(p)&&p.name==="Boolean";m[0]=h,m[1]=g,(h||He(m,"default"))&&o.push(d)}}const u=[a,o];return Qe(e)&&n.set(e,u),u}function Oh(e){return e[0]!=="$"&&!ra(e)}const Ip=e=>e[0]==="_"||e==="$stable",nf=e=>xe(e)?e.map(Hr):[Hr(e)],ES=(e,t,r)=>{if(t._n)return t;const n=Qx((...s)=>nf(t(...s)),r);return n._c=!1,n},Dp=(e,t,r)=>{const n=e._ctx;for(const s in e){if(Ip(s))continue;const i=e[s];if(ke(i))t[s]=ES(s,i,n);else if(i!=null){const a=nf(i);t[s]=()=>a}}},Rp=(e,t)=>{const r=nf(t);e.slots.default=()=>r},Np=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},kS=(e,t,r)=>{const n=e.slots=Op();if(e.vnode.shapeFlag&32){const s=t._;s?(Np(n,t,r),r&&Ig(n,"_",s,!0)):Dp(t,n)}else t&&Rp(e,t)},OS=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,a=Je;if(n.shapeFlag&32){const o=t._;o?r&&o===1?i=!1:Np(s,t,r):(i=!t.$stable,Dp(t,s)),a=t}else t&&(Rp(e,t),a={default:1});if(i)for(const o in s)!Ip(o)&&a[o]==null&&delete s[o]},Yt=VS;function pP(e){return CS(e)}function CS(e,t){const r=Nc();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:m=Zr,insertStaticContent:p}=e,h=(O,I,L,W=null,V=null,q=null,ee=void 0,J=null,Q=!!I.dynamicChildren)=>{if(O===I)return;O&&!ds(O,I)&&(W=Fe(O),Le(O,V,q,!0),O=null),I.patchFlag===-2&&(Q=!1,I.dynamicChildren=null);const{type:Y,ref:pe,shapeFlag:X}=I;switch(Y){case qc:g(O,I,L,W);break;case Kt:w(O,I,L,W);break;case Ro:O==null&&S(I,L,W,ee);break;case cr:G(O,I,L,W,V,q,ee,J,Q);break;default:X&1?C(O,I,L,W,V,q,ee,J,Q):X&6?F(O,I,L,W,V,q,ee,J,Q):(X&64||X&128)&&Y.process(O,I,L,W,V,q,ee,J,Q,gt)}pe!=null&&V&&dc(pe,O&&O.ref,q,I||O,!I)},g=(O,I,L,W)=>{if(O==null)n(I.el=o(I.children),L,W);else{const V=I.el=O.el;I.children!==O.children&&u(V,I.children)}},w=(O,I,L,W)=>{O==null?n(I.el=l(I.children||""),L,W):I.el=O.el},S=(O,I,L,W)=>{[O.el,O.anchor]=p(O.children,I,L,W,O.el,O.anchor)},_=({el:O,anchor:I},L,W)=>{let V;for(;O&&O!==I;)V=f(O),n(O,L,W),O=V;n(I,L,W)},v=({el:O,anchor:I})=>{let L;for(;O&&O!==I;)L=f(O),s(O),O=L;s(I)},C=(O,I,L,W,V,q,ee,J,Q)=>{I.type==="svg"?ee="svg":I.type==="math"&&(ee="mathml"),O==null?b(I,L,W,V,q,ee,J,Q):E(O,I,V,q,ee,J,Q)},b=(O,I,L,W,V,q,ee,J)=>{let Q,Y;const{props:pe,shapeFlag:X,transition:de,dirs:ye}=O;if(Q=O.el=a(O.type,q,pe&&pe.is,pe),X&8?c(Q,O.children):X&16&&A(O.children,Q,null,W,V,tu(O,q),ee,J),ye&&as(O,null,W,"created"),T(Q,O,O.scopeId,ee,W),pe){for(const ce in pe)ce!=="value"&&!ra(ce)&&i(Q,ce,null,pe[ce],q,W);"value"in pe&&i(Q,"value",null,pe.value,q),(Y=pe.onVnodeBeforeMount)&&Vr(Y,W,O)}ye&&as(O,null,W,"beforeMount");const ne=PS(V,de);ne&&de.beforeEnter(Q),n(Q,I,L),((Y=pe&&pe.onVnodeMounted)||ne||ye)&&Yt(()=>{Y&&Vr(Y,W,O),ne&&de.enter(Q),ye&&as(O,null,W,"mounted")},V)},T=(O,I,L,W,V)=>{if(L&&m(O,L),W)for(let q=0;q<W.length;q++)m(O,W[q]);if(V){let q=V.subTree;if(I===q||jp(q.type)&&(q.ssContent===I||q.ssFallback===I)){const ee=V.vnode;T(O,ee,ee.scopeId,ee.slotScopeIds,V.parent)}}},A=(O,I,L,W,V,q,ee,J,Q=0)=>{for(let Y=Q;Y<O.length;Y++){const pe=O[Y]=J?Mn(O[Y]):Hr(O[Y]);h(null,pe,I,L,W,V,q,ee,J)}},E=(O,I,L,W,V,q,ee)=>{const J=I.el=O.el;let{patchFlag:Q,dynamicChildren:Y,dirs:pe}=I;Q|=O.patchFlag&16;const X=O.props||Je,de=I.props||Je;let ye;if(L&&os(L,!1),(ye=de.onVnodeBeforeUpdate)&&Vr(ye,L,I,O),pe&&as(I,O,L,"beforeUpdate"),L&&os(L,!0),(X.innerHTML&&de.innerHTML==null||X.textContent&&de.textContent==null)&&c(J,""),Y?M(O.dynamicChildren,Y,J,L,W,tu(I,V),q):ee||R(O,I,J,null,L,W,tu(I,V),q,!1),Q>0){if(Q&16)$(J,X,de,L,V);else if(Q&2&&X.class!==de.class&&i(J,"class",null,de.class,V),Q&4&&i(J,"style",X.style,de.style,V),Q&8){const ne=I.dynamicProps;for(let ce=0;ce<ne.length;ce++){const te=ne[ce],ve=X[te],Re=de[te];(Re!==ve||te==="value")&&i(J,te,ve,Re,V,L)}}Q&1&&O.children!==I.children&&c(J,I.children)}else!ee&&Y==null&&$(J,X,de,L,V);((ye=de.onVnodeUpdated)||pe)&&Yt(()=>{ye&&Vr(ye,L,I,O),pe&&as(I,O,L,"updated")},W)},M=(O,I,L,W,V,q,ee)=>{for(let J=0;J<I.length;J++){const Q=O[J],Y=I[J],pe=Q.el&&(Q.type===cr||!ds(Q,Y)||Q.shapeFlag&70)?d(Q.el):L;h(Q,Y,pe,null,W,V,q,ee,!0)}},$=(O,I,L,W,V)=>{if(I!==L){if(I!==Je)for(const q in I)!ra(q)&&!(q in L)&&i(O,q,I[q],null,V,W);for(const q in L){if(ra(q))continue;const ee=L[q],J=I[q];ee!==J&&q!=="value"&&i(O,q,J,ee,V,W)}"value"in L&&i(O,"value",I.value,L.value,V)}},G=(O,I,L,W,V,q,ee,J,Q)=>{const Y=I.el=O?O.el:o(""),pe=I.anchor=O?O.anchor:o("");let{patchFlag:X,dynamicChildren:de,slotScopeIds:ye}=I;ye&&(J=J?J.concat(ye):ye),O==null?(n(Y,L,W),n(pe,L,W),A(I.children||[],L,pe,V,q,ee,J,Q)):X>0&&X&64&&de&&O.dynamicChildren?(M(O.dynamicChildren,de,L,V,q,ee,J),(I.key!=null||V&&I===V.subTree)&&sf(O,I,!0)):R(O,I,L,pe,V,q,ee,J,Q)},F=(O,I,L,W,V,q,ee,J,Q)=>{I.slotScopeIds=J,O==null?I.shapeFlag&512?V.ctx.activate(I,L,W,ee,Q):se(I,L,W,V,q,ee,Q):B(O,I,Q)},se=(O,I,L,W,V,q,ee)=>{const J=O.component=zS(O,W,V);if(Bc(O)&&(J.ctx.renderer=gt),KS(J,!1,ee),J.asyncDep){if(V&&V.registerDep(J,K,ee),!O.el){const Q=J.subTree=Jt(Kt);w(null,Q,I,L)}}else K(J,O,I,L,V,q,ee)},B=(O,I,L)=>{const W=I.component=O.component;if(US(O,I,L))if(W.asyncDep&&!W.asyncResolved){U(W,I,L);return}else W.next=I,W.update();else I.el=O.el,W.vnode=I},K=(O,I,L,W,V,q,ee)=>{const J=()=>{if(O.isMounted){let{next:X,bu:de,u:ye,parent:ne,vnode:ce}=O;{const _e=Lp(O);if(_e){X&&(X.el=ce.el,U(O,X,ee)),_e.asyncDep.then(()=>{O.isUnmounted||J()});return}}let te=X,ve;os(O,!1),X?(X.el=ce.el,U(O,X,ee)):X=ce,de&&Zl(de),(ve=X.props&&X.props.onVnodeBeforeUpdate)&&Vr(ve,ne,X,ce),os(O,!0);const Re=Ph(O),Ke=O.subTree;O.subTree=Re,h(Ke,Re,d(Ke.el),Fe(Ke),O,V,q),X.el=Re.el,te===null&&jS(O,Re.el),ye&&Yt(ye,V),(ve=X.props&&X.props.onVnodeUpdated)&&Yt(()=>Vr(ve,ne,X,ce),V)}else{let X;const{el:de,props:ye}=I,{bm:ne,m:ce,parent:te,root:ve,type:Re}=O,Ke=li(I);os(O,!1),ne&&Zl(ne),!Ke&&(X=ye&&ye.onVnodeBeforeMount)&&Vr(X,te,I),os(O,!0);{ve.ce&&ve.ce._injectChildStyle(Re);const _e=O.subTree=Ph(O);h(null,_e,L,W,O,V,q),I.el=_e.el}if(ce&&Yt(ce,V),!Ke&&(X=ye&&ye.onVnodeMounted)){const _e=I;Yt(()=>Vr(X,te,_e),V)}(I.shapeFlag&256||te&&li(te.vnode)&&te.vnode.shapeFlag&256)&&O.a&&Yt(O.a,V),O.isMounted=!0,I=L=W=null}};O.scope.on();const Q=O.effect=new Fg(J);O.scope.off();const Y=O.update=Q.run.bind(Q),pe=O.job=Q.runIfDirty.bind(Q);pe.i=O,pe.id=O.uid,Q.scheduler=()=>tf(pe),os(O,!0),Y()},U=(O,I,L)=>{I.component=O;const W=O.vnode.props;O.vnode=I,O.next=null,SS(O,I.props,W,L),OS(O,I.children,L),Zn(),wh(O),zn()},R=(O,I,L,W,V,q,ee,J,Q=!1)=>{const Y=O&&O.children,pe=O?O.shapeFlag:0,X=I.children,{patchFlag:de,shapeFlag:ye}=I;if(de>0){if(de&128){me(Y,X,L,W,V,q,ee,J,Q);return}else if(de&256){ie(Y,X,L,W,V,q,ee,J,Q);return}}ye&8?(pe&16&&wt(Y,V,q),X!==Y&&c(L,X)):pe&16?ye&16?me(Y,X,L,W,V,q,ee,J,Q):wt(Y,V,q,!0):(pe&8&&c(L,""),ye&16&&A(X,L,W,V,q,ee,J,Q))},ie=(O,I,L,W,V,q,ee,J,Q)=>{O=O||ai,I=I||ai;const Y=O.length,pe=I.length,X=Math.min(Y,pe);let de;for(de=0;de<X;de++){const ye=I[de]=Q?Mn(I[de]):Hr(I[de]);h(O[de],ye,L,null,V,q,ee,J,Q)}Y>pe?wt(O,V,q,!0,!1,X):A(I,L,W,V,q,ee,J,Q,X)},me=(O,I,L,W,V,q,ee,J,Q)=>{let Y=0;const pe=I.length;let X=O.length-1,de=pe-1;for(;Y<=X&&Y<=de;){const ye=O[Y],ne=I[Y]=Q?Mn(I[Y]):Hr(I[Y]);if(ds(ye,ne))h(ye,ne,L,null,V,q,ee,J,Q);else break;Y++}for(;Y<=X&&Y<=de;){const ye=O[X],ne=I[de]=Q?Mn(I[de]):Hr(I[de]);if(ds(ye,ne))h(ye,ne,L,null,V,q,ee,J,Q);else break;X--,de--}if(Y>X){if(Y<=de){const ye=de+1,ne=ye<pe?I[ye].el:W;for(;Y<=de;)h(null,I[Y]=Q?Mn(I[Y]):Hr(I[Y]),L,ne,V,q,ee,J,Q),Y++}}else if(Y>de)for(;Y<=X;)Le(O[Y],V,q,!0),Y++;else{const ye=Y,ne=Y,ce=new Map;for(Y=ne;Y<=de;Y++){const st=I[Y]=Q?Mn(I[Y]):Hr(I[Y]);st.key!=null&&ce.set(st.key,Y)}let te,ve=0;const Re=de-ne+1;let Ke=!1,_e=0;const fe=new Array(Re);for(Y=0;Y<Re;Y++)fe[Y]=0;for(Y=ye;Y<=X;Y++){const st=O[Y];if(ve>=Re){Le(st,V,q,!0);continue}let vt;if(st.key!=null)vt=ce.get(st.key);else for(te=ne;te<=de;te++)if(fe[te-ne]===0&&ds(st,I[te])){vt=te;break}vt===void 0?Le(st,V,q,!0):(fe[vt-ne]=Y+1,vt>=_e?_e=vt:Ke=!0,h(st,I[vt],L,null,V,q,ee,J,Q),ve++)}const at=Ke?MS(fe):ai;for(te=at.length-1,Y=Re-1;Y>=0;Y--){const st=ne+Y,vt=I[st],An=st+1<pe?I[st+1].el:W;fe[Y]===0?h(null,vt,L,An,V,q,ee,J,Q):Ke&&(te<0||Y!==at[te]?Pe(vt,L,An,2):te--)}}},Pe=(O,I,L,W,V=null)=>{const{el:q,type:ee,transition:J,children:Q,shapeFlag:Y}=O;if(Y&6){Pe(O.component.subTree,I,L,W);return}if(Y&128){O.suspense.move(I,L,W);return}if(Y&64){ee.move(O,I,L,gt);return}if(ee===cr){n(q,I,L);for(let X=0;X<Q.length;X++)Pe(Q[X],I,L,W);n(O.anchor,I,L);return}if(ee===Ro){_(O,I,L);return}if(W!==2&&Y&1&&J)if(W===0)J.beforeEnter(q),n(q,I,L),Yt(()=>J.enter(q),V);else{const{leave:X,delayLeave:de,afterLeave:ye}=J,ne=()=>n(q,I,L),ce=()=>{X(q,()=>{ne(),ye&&ye()})};de?de(q,ne,ce):ce()}else n(q,I,L)},Le=(O,I,L,W=!1,V=!1)=>{const{type:q,props:ee,ref:J,children:Q,dynamicChildren:Y,shapeFlag:pe,patchFlag:X,dirs:de,cacheIndex:ye}=O;if(X===-2&&(V=!1),J!=null&&dc(J,null,L,O,!0),ye!=null&&(I.renderCache[ye]=void 0),pe&256){I.ctx.deactivate(O);return}const ne=pe&1&&de,ce=!li(O);let te;if(ce&&(te=ee&&ee.onVnodeBeforeUnmount)&&Vr(te,I,O),pe&6)De(O.component,L,W);else{if(pe&128){O.suspense.unmount(L,W);return}ne&&as(O,null,I,"beforeUnmount"),pe&64?O.type.remove(O,I,L,gt,W):Y&&!Y.hasOnce&&(q!==cr||X>0&&X&64)?wt(Y,I,L,!1,!0):(q===cr&&X&384||!V&&pe&16)&&wt(Q,I,L),W&&mt(O)}(ce&&(te=ee&&ee.onVnodeUnmounted)||ne)&&Yt(()=>{te&&Vr(te,I,O),ne&&as(O,null,I,"unmounted")},L)},mt=O=>{const{type:I,el:L,anchor:W,transition:V}=O;if(I===cr){yt(L,W);return}if(I===Ro){v(O);return}const q=()=>{s(L),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(O.shapeFlag&1&&V&&!V.persisted){const{leave:ee,delayLeave:J}=V,Q=()=>ee(L,q);J?J(O.el,q,Q):Q()}else q()},yt=(O,I)=>{let L;for(;O!==I;)L=f(O),s(O),O=L;s(I)},De=(O,I,L)=>{const{bum:W,scope:V,job:q,subTree:ee,um:J,m:Q,a:Y}=O;Ch(Q),Ch(Y),W&&Zl(W),V.stop(),q&&(q.flags|=8,Le(ee,O,I,L)),J&&Yt(J,I),Yt(()=>{O.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},wt=(O,I,L,W=!1,V=!1,q=0)=>{for(let ee=q;ee<O.length;ee++)Le(O[ee],I,L,W,V)},Fe=O=>{if(O.shapeFlag&6)return Fe(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const I=f(O.anchor||O.el),L=I&&I[cp];return L?f(L):I};let bt=!1;const Fr=(O,I,L)=>{O==null?I._vnode&&Le(I._vnode,null,null,!0):h(I._vnode||null,O,I,null,null,null,L),I._vnode=O,bt||(bt=!0,wh(),ip(),bt=!1)},gt={p:h,um:Le,m:Pe,r:mt,mt:se,mc:A,pc:R,pbc:M,n:Fe,o:e};return{render:Fr,hydrate:void 0,createApp:AS(Fr)}}function tu({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function os({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function PS(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function sf(e,t,r=!1){const n=e.children,s=t.children;if(xe(n)&&xe(s))for(let i=0;i<n.length;i++){const a=n[i];let o=s[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[i]=Mn(s[i]),o.el=a.el),!r&&o.patchFlag!==-2&&sf(a,o)),o.type===qc&&(o.el=a.el)}}function MS(e){const t=e.slice(),r=[0];let n,s,i,a,o;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(s=r[r.length-1],e[s]<u){t[n]=s,r.push(n);continue}for(i=0,a=r.length-1;i<a;)o=i+a>>1,e[r[o]]<u?i=o+1:a=o;u<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,a=r[i-1];i-- >0;)r[i]=a,a=t[a];return r}function Lp(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Lp(t)}function Ch(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const IS=Symbol.for("v-scx"),DS=()=>ks(IS);function Fp(e,t){return af(e,null,t)}function Ut(e,t,r){return af(e,t,r)}function af(e,t,r=Je){const{immediate:n,deep:s,flush:i,once:a}=r,o=tr({},r),l=t&&n||!t&&i!=="post";let u;if(Da){if(i==="sync"){const m=DS();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=Zr,m.resume=Zr,m.pause=Zr,m}}const c=kt;o.call=(m,p,h)=>Qr(m,c,p,h);let d=!1;i==="post"?o.scheduler=m=>{Yt(m,c&&c.suspense)}:i!=="sync"&&(d=!0,o.scheduler=(m,p)=>{p?m():tf(m)}),o.augmentJob=m=>{t&&(m.flags|=4),d&&(m.flags|=2,c&&(m.id=c.uid,m.i=c))};const f=zx(e,t,o);return Da&&(u?u.push(f):l&&f()),f}function RS(e,t,r){const n=this.proxy,s=Tt(e)?e.includes(".")?$p(n,e):()=>n[e]:e.bind(n,n);let i;ke(t)?i=t:(i=t.handler,r=t);const a=za(this),o=af(s,i.bind(n),r);return a(),o}function $p(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const NS=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Xr(t)}Modifiers`]||e[`${Ha(t)}Modifiers`];function LS(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Je;let s=r;const i=t.startsWith("update:"),a=i&&NS(n,t.slice(7));a&&(a.trim&&(s=r.map(c=>Tt(c)?c.trim():c)),a.number&&(s=r.map(hx)));let o,l=n[o=Io(t)]||n[o=Io(Xr(t))];!l&&i&&(l=n[o=Io(Ha(t))]),l&&Qr(l,e,6,s);const u=n[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Qr(u,e,6,s)}}function Up(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let a={},o=!1;if(!ke(e)){const l=u=>{const c=Up(u,t,!0);c&&(o=!0,tr(a,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!o?(Qe(e)&&n.set(e,null),null):(xe(i)?i.forEach(l=>a[l]=null):tr(a,i),Qe(e)&&n.set(e,a),a)}function Hc(e,t){return!e||!jd(t)?!1:(t=t.slice(2).replace(/Once$/,""),He(e,t[0].toLowerCase()+t.slice(1))||He(e,Ha(t))||He(e,t))}function Ph(e){const{type:t,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:d,data:f,setupState:m,ctx:p,inheritAttrs:h}=e,g=uc(e);let w,S;try{if(r.shapeFlag&4){const v=s||n,C=v;w=Hr(u.call(C,v,c,d,m,f,p)),S=o}else{const v=t;w=Hr(v.length>1?v(d,{attrs:o,slots:a,emit:l}):v(d,null)),S=t.props?o:FS(o)}}catch(v){oa.length=0,Vc(v,e,1),w=Jt(Kt)}let _=w;if(S&&h!==!1){const v=Object.keys(S),{shapeFlag:C}=_;v.length&&C&7&&(i&&v.some(kg)&&(S=$S(S,i)),_=Gn(_,S,!1,!0))}return r.dirs&&(_=Gn(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&Pa(_,r.transition),w=_,uc(g),w}const FS=e=>{let t;for(const r in e)(r==="class"||r==="style"||jd(r))&&((t||(t={}))[r]=e[r]);return t},$S=(e,t)=>{const r={};for(const n in e)(!kg(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function US(e,t,r){const{props:n,children:s,component:i}=e,{props:a,children:o,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Mh(n,a,u):!!a;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(a[f]!==n[f]&&!Hc(u,f))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Mh(n,a,u):!0:!!a;return!1}function Mh(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!Hc(r,i))return!0}return!1}function jS({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const jp=e=>e.__isSuspense;function VS(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):Xx(e)}const cr=Symbol.for("v-fgt"),qc=Symbol.for("v-txt"),Kt=Symbol.for("v-cmt"),Ro=Symbol.for("v-stc"),oa=[];let lr=null;function Uu(e=!1){oa.push(lr=e?null:[])}function BS(){oa.pop(),lr=oa[oa.length-1]||null}let Ma=1;function Ih(e,t=!1){Ma+=e,e<0&&lr&&t&&(lr.hasOnce=!0)}function Vp(e){return e.dynamicChildren=Ma>0?lr||ai:null,BS(),Ma>0&&lr&&lr.push(e),e}function yP(e,t,r,n,s,i){return Vp(Wp(e,t,r,n,s,i,!0))}function ju(e,t,r,n,s){return Vp(Jt(e,t,r,n,s,!0))}function Ia(e){return e?e.__v_isVNode===!0:!1}function ds(e,t){return e.type===t.type&&e.key===t.key}const Bp=({key:e})=>e??null,No=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Tt(e)||Xe(e)||ke(e)?{i:St,r:e,k:t,f:!!r}:e:null);function Wp(e,t=null,r=null,n=0,s=null,i=e===cr?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Bp(t),ref:t&&No(t),scopeId:op,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:St};return o?(of(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=Tt(r)?8:16),Ma>0&&!a&&lr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&lr.push(l),l}const Jt=WS;function WS(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===vp)&&(e=Kt),Ia(e)){const o=Gn(e,t,!0);return r&&of(o,r),Ma>0&&!i&&lr&&(o.shapeFlag&6?lr[lr.indexOf(e)]=o:lr.push(o)),o.patchFlag=-2,o}if(tT(e)&&(e=e.__vccOpts),t){t=HS(t);let{class:o,style:l}=t;o&&!Tt(o)&&(t.class=Fc(o)),Qe(l)&&(Xd(l)&&!xe(l)&&(l=tr({},l)),t.style=Lc(l))}const a=Tt(e)?1:jp(e)?128:lp(e)?64:Qe(e)?4:ke(e)?2:0;return Wp(e,t,r,n,s,a,i,!0)}function HS(e){return e?Xd(e)||Cp(e)?tr({},e):e:null}function Gn(e,t,r=!1,n=!1){const{props:s,ref:i,patchFlag:a,children:o,transition:l}=e,u=t?GS(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Bp(u),ref:t&&t.ref?r&&i?xe(i)?i.concat(No(t)):[i,No(t)]:No(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==cr?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gn(e.ssContent),ssFallback:e.ssFallback&&Gn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Pa(c,l.clone(c)),c}function qS(e=" ",t=0){return Jt(qc,null,e,t)}function wP(e,t){const r=Jt(Ro,null,e);return r.staticCount=t,r}function bP(e="",t=!1){return t?(Uu(),ju(Kt,null,e)):Jt(Kt,null,e)}function Hr(e){return e==null||typeof e=="boolean"?Jt(Kt):xe(e)?Jt(cr,null,e.slice()):Ia(e)?Mn(e):Jt(qc,null,String(e))}function Mn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gn(e)}function of(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(xe(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),of(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!Cp(t)?t._ctx=St:s===3&&St&&(St.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ke(t)?(t={default:t,_ctx:St},r=32):(t=String(t),n&64?(r=16,t=[qS(t)]):r=8);e.children=t,e.shapeFlag|=r}function GS(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Fc([t.class,n.class]));else if(s==="style")t.style=Lc([t.style,n.style]);else if(jd(s)){const i=t[s],a=n[s];a&&i!==a&&!(xe(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=n[s])}return t}function Vr(e,t,r,n=null){Qr(e,t,7,[r,n])}const YS=Tp();let ZS=0;function zS(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||YS,i={uid:ZS++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ng(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mp(n,s),emitsOptions:Up(n,s),emit:null,emitted:null,propsDefaults:Je,inheritAttrs:n.inheritAttrs,ctx:Je,data:Je,props:Je,attrs:Je,slots:Je,refs:Je,setupState:Je,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=LS.bind(null,i),e.ce&&e.ce(i),i}let kt=null;const Gc=()=>kt||St;let hc,Vu;{const e=Nc(),t=(r,n)=>{let s;return(s=e[r])||(s=e[r]=[]),s.push(n),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};hc=t("__VUE_INSTANCE_SETTERS__",r=>kt=r),Vu=t("__VUE_SSR_SETTERS__",r=>Da=r)}const za=e=>{const t=kt;return hc(e),e.scope.on(),()=>{e.scope.off(),hc(t)}},Dh=()=>{kt&&kt.scope.off(),hc(null)};function Hp(e){return e.vnode.shapeFlag&4}let Da=!1;function KS(e,t=!1,r=!1){t&&Vu(t);const{props:n,children:s}=e.vnode,i=Hp(e);xS(e,n,i,t),kS(e,s,r);const a=i?JS(e,t):void 0;return t&&Vu(!1),a}function JS(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,mS);const{setup:n}=r;if(n){Zn();const s=e.setupContext=n.length>1?QS(e):null,i=za(e),a=Ga(n,e,0,[e.props,s]),o=Cg(a);if(zn(),i(),(o||e.sp)&&!li(e)&&pp(e),o){if(a.then(Dh,Dh),t)return a.then(l=>{Rh(e,l)}).catch(l=>{Vc(l,e,0)});e.asyncDep=a}else Rh(e,a)}else qp(e)}function Rh(e,t,r){ke(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qe(t)&&(e.setupState=Qg(t)),qp(e)}function qp(e,t,r){const n=e.type;e.render||(e.render=n.render||Zr);{const s=za(e);Zn();try{gS(e)}finally{zn(),s()}}}const XS={get(e,t){return Ft(e,"get",""),e[t]}};function QS(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,XS),slots:e.slots,emit:e.emit,expose:t}}function Yc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Qg(Qd(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in aa)return aa[r](e)},has(t,r){return r in t||r in aa}})):e.proxy}function eT(e,t=!0){return ke(e)?e.displayName||e.name:e.name||t&&e.__name}function tT(e){return ke(e)&&"__vccOpts"in e}const dt=(e,t)=>Yx(e,t,Da);function vP(e,t,r){const n=arguments.length;return n===2?Qe(t)&&!xe(t)?Ia(t)?Jt(e,null,[t]):Jt(e,t):Jt(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Ia(r)&&(r=[r]),Jt(e,t,r))}const rT="3.5.13";function cf(e){return qd()?(Gd(e),!0):!1}function qr(e){return typeof e=="function"?e():ef(e)}const Gp=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const nT=e=>typeof e<"u",sT=Object.prototype.toString,iT=e=>sT.call(e)==="[object Object]",Gr=()=>{};function aT(e,t){function r(...n){return new Promise((s,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(s).catch(i)})}return r}const Yp=e=>e();function oT(e=Yp){const t=Qt(!0);function r(){t.value=!1}function n(){t.value=!0}const s=(...i)=>{t.value&&e(...i)};return{isActive:qa(t),pause:r,resume:n,eventFilter:s}}function Bu(e,t=!1,r="Timeout"){return new Promise((n,s)=>{setTimeout(t?()=>s(r):n,e)})}function cT(e){return Gc()}function lT(...e){if(e.length!==1)return tp(...e);const t=e[0];return typeof t=="function"?qa(Wx(()=>({get:t,set:Gr}))):Qt(t)}function uT(e,t,r={}){const{eventFilter:n=Yp,...s}=r;return Ut(e,aT(n,t),s)}function dT(e,t,r={}){const{eventFilter:n,...s}=r,{eventFilter:i,pause:a,resume:o,isActive:l}=oT(n);return{stop:uT(e,t,{...s,eventFilter:i}),pause:a,resume:o,isActive:l}}function Zp(e,t=!0,r){cT()?Za(e,r):t?e():Ya(e)}function Wu(e,t=!1){function r(d,{flush:f="sync",deep:m=!1,timeout:p,throwOnTimeout:h}={}){let g=null;const S=[new Promise(_=>{g=Ut(e,v=>{d(v)!==t&&(g==null||g(),_(v))},{flush:f,deep:m,immediate:!0})})];return p!=null&&S.push(Bu(p,h).then(()=>qr(e)).finally(()=>g==null?void 0:g())),Promise.race(S)}function n(d,f){if(!Xe(d))return r(v=>v===d,f);const{flush:m="sync",deep:p=!1,timeout:h,throwOnTimeout:g}=f??{};let w=null;const _=[new Promise(v=>{w=Ut([e,d],([C,b])=>{t!==(C===b)&&(w==null||w(),v(C))},{flush:m,deep:p,immediate:!0})})];return h!=null&&_.push(Bu(h,g).then(()=>qr(e)).finally(()=>(w==null||w(),qr(e)))),Promise.race(_)}function s(d){return r(f=>!!f,d)}function i(d){return n(null,d)}function a(d){return n(void 0,d)}function o(d){return r(Number.isNaN,d)}function l(d,f){return r(m=>{const p=Array.from(m);return p.includes(d)||p.includes(qr(d))},f)}function u(d){return c(1,d)}function c(d=1,f){let m=-1;return r(()=>(m+=1,m>=d),f)}return Array.isArray(qr(e))?{toMatch:r,toContains:l,changed:u,changedTimes:c,get not(){return Wu(e,!t)}}:{toMatch:r,toBe:n,toBeTruthy:s,toBeNull:i,toBeNaN:o,toBeUndefined:a,changed:u,changedTimes:c,get not(){return Wu(e,!t)}}}function fT(e){return Wu(e)}function AP(e,t,r={}){const{immediate:n=!0}=r,s=Qt(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function o(){s.value=!1,a()}function l(...u){a(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,e(...u)},qr(t))}return n&&(s.value=!0,Gp&&l()),cf(o),{isPending:qa(s),start:l,stop:o}}function hT(e,t,r){let n;Xe(r)?n={evaluating:r}:n={};const{lazy:s=!1,evaluating:i=void 0,shallow:a=!0,onError:o=Gr}=n,l=Qt(!s),u=a?oc(t):Qt(t);let c=0;return Fp(async d=>{if(!l.value)return;c++;const f=c;let m=!1;i&&Promise.resolve().then(()=>{i.value=!0});try{const p=await e(h=>{d(()=>{i&&(i.value=!1),m||h()})});f===c&&(u.value=p)}catch(p){o(p)}finally{i&&f===c&&(i.value=!1),m=!0}}),s?dt(()=>(l.value=!0,u.value)):u}function zp(e){var t;const r=qr(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Ns=Gp?window:void 0;function Nh(...e){let t,r,n,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,n,s]=e,t=Ns):[t,r,n,s]=e,!t)return Gr;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],a=()=>{i.forEach(c=>c()),i.length=0},o=(c,d,f,m)=>(c.addEventListener(d,f,m),()=>c.removeEventListener(d,f,m)),l=Ut(()=>[zp(t),qr(s)],([c,d])=>{if(a(),!c)return;const f=iT(d)?{...d}:d;i.push(...r.flatMap(m=>n.map(p=>o(c,m,p,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),a()};return cf(u),u}function mT(){const e=Qt(!1),t=Gc();return t&&Za(()=>{e.value=!0},t),e}function gT(e){const t=mT();return dt(()=>(t.value,!!e()))}function pT(e,t,r){const{immediate:n=!0,delay:s=0,onError:i=Gr,onSuccess:a=Gr,resetOnExecute:o=!0,shallow:l=!0,throwError:u}=r??{},c=l?oc(t):Qt(t),d=Qt(!1),f=Qt(!1),m=oc(void 0);async function p(w=0,...S){o&&(c.value=t),m.value=void 0,d.value=!1,f.value=!0,w>0&&await Bu(w);const _=typeof e=="function"?e(...S):e;try{const v=await _;c.value=v,d.value=!0,a(v)}catch(v){if(m.value=v,i(v),u)throw v}finally{f.value=!1}return c.value}n&&p(s);const h={state:c,isReady:d,isLoading:f,error:m,execute:p};function g(){return new Promise((w,S)=>{fT(f).toBe(!1).then(()=>w(h)).catch(S)})}return{...h,then(w,S){return g().then(w,S)}}}function yT(e,t={}){const{window:r=Ns}=t,n=gT(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let s;const i=Qt(!1),a=u=>{i.value=u.matches},o=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",a):s.removeListener(a))},l=Fp(()=>{n.value&&(o(),s=r.matchMedia(qr(e)),"addEventListener"in s?s.addEventListener("change",a):s.addListener(a),i.value=s.matches)});return cf(()=>{l(),o(),s=void 0}),i}function wT(e){return JSON.parse(JSON.stringify(e))}const So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},To="__vueuse_ssr_handlers__",bT=vT();function vT(){return To in So||(So[To]=So[To]||{}),So[To]}function Kp(e,t){return bT[e]||t}function AT(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const _T={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Lh="vueuse-storage";function Jp(e,t,r,n={}){var s;const{flush:i="pre",deep:a=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:d=Ns,eventFilter:f,onError:m=M=>{console.error(M)},initOnMounted:p}=n,h=(c?oc:Qt)(typeof t=="function"?t():t);if(!r)try{r=Kp("getDefaultStorage",()=>{var M;return(M=Ns)==null?void 0:M.localStorage})()}catch(M){m(M)}if(!r)return h;const g=qr(t),w=AT(g),S=(s=n.serializer)!=null?s:_T[w],{pause:_,resume:v}=dT(h,()=>b(h.value),{flush:i,deep:a,eventFilter:f});d&&o&&Zp(()=>{Nh(d,"storage",A),Nh(d,Lh,E),p&&A()}),p||A();function C(M,$){d&&d.dispatchEvent(new CustomEvent(Lh,{detail:{key:e,oldValue:M,newValue:$,storageArea:r}}))}function b(M){try{const $=r.getItem(e);if(M==null)C($,null),r.removeItem(e);else{const G=S.write(M);$!==G&&(r.setItem(e,G),C($,G))}}catch($){m($)}}function T(M){const $=M?M.newValue:r.getItem(e);if($==null)return l&&g!=null&&r.setItem(e,S.write(g)),g;if(!M&&u){const G=S.read($);return typeof u=="function"?u(G,g):w==="object"&&!Array.isArray(G)?{...g,...G}:G}else return typeof $!="string"?$:S.read($)}function A(M){if(!(M&&M.storageArea!==r)){if(M&&M.key==null){h.value=g;return}if(!(M&&M.key!==e)){_();try{(M==null?void 0:M.newValue)!==S.write(h.value)&&(h.value=T(M))}catch($){m($)}finally{M?Ya(v):v()}}}}function E(M){A(M.detail)}return h}function Xp(e){return yT("(prefers-color-scheme: dark)",e)}function xT(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:s=Ns,storage:i,storageKey:a="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:l,emitAuto:u,disableTransition:c=!0}=e,d={auto:"",light:"light",dark:"dark",...e.modes||{}},f=Xp({window:s}),m=dt(()=>f.value?"dark":"light"),p=l||(a==null?lT(n):Jp(a,n,i,{window:s,listenToStorageChanges:o})),h=dt(()=>p.value==="auto"?m.value:p.value),g=Kp("updateHTMLAttrs",(v,C,b)=>{const T=typeof v=="string"?s==null?void 0:s.document.querySelector(v):zp(v);if(!T)return;let A;if(c&&(A=s.document.createElement("style"),A.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),s.document.head.appendChild(A)),C==="class"){const E=b.split(/\s/g);Object.values(d).flatMap(M=>(M||"").split(/\s/g)).filter(Boolean).forEach(M=>{E.includes(M)?T.classList.add(M):T.classList.remove(M)})}else T.setAttribute(C,b);c&&(s.getComputedStyle(A).opacity,document.head.removeChild(A))});function w(v){var C;g(t,r,(C=d[v])!=null?C:v)}function S(v){e.onChanged?e.onChanged(v,w):w(v)}Ut(h,S,{flush:"post",immediate:!0}),Zp(()=>S(h.value));const _=dt({get(){return u?p.value:h.value},set(v){p.value=v}});try{return Object.assign(_,{store:p,system:m,state:h})}catch{return _}}function _P(e={}){const{valueDark:t="dark",valueLight:r="",window:n=Ns}=e,s=xT({...e,onChanged:(o,l)=>{var u;e.onChanged?(u=e.onChanged)==null||u.call(e,o==="dark",l,o):l(o)},modes:{dark:t,light:r}}),i=dt(()=>s.system?s.system.value:Xp({window:n}).value?"dark":"light");return dt({get(){return s.value==="dark"},set(o){const l=o?"dark":"light";i.value===l?s.value="auto":s.value=l}})}function xP(e,t,r={}){const{window:n=Ns}=r;return Jp(e,t,n==null?void 0:n.sessionStorage,r)}function SP(e,t,r,n={}){var s,i,a;const{clone:o=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:f}=n,m=Gc(),p=r||(m==null?void 0:m.emit)||((s=m==null?void 0:m.$emit)==null?void 0:s.bind(m))||((a=(i=m==null?void 0:m.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(m==null?void 0:m.proxy));let h=u;t||(t="modelValue"),h=h||`update:${t.toString()}`;const g=_=>o?typeof o=="function"?o(_):wT(_):_,w=()=>nT(e[t])?g(e[t]):d,S=_=>{f?f(_)&&p(h,_):p(h,_)};if(l){const _=w(),v=Qt(_);let C=!1;return Ut(()=>e[t],b=>{C||(C=!0,v.value=g(b),Ya(()=>C=!1))}),Ut(v,b=>{!C&&(b!==e[t]||c)&&S(b)},{deep:c}),v}else return dt({get(){return w()},set(_){S(_)}})}const ST={debug:Gr,log:Gr,info:Gr,warn:Gr,error:Gr},Ka=ST;function TT(...e){Ka.debug(...e)}function Qp(...e){Ka.log(...e)}function ET(...e){Ka.info(...e)}function kT(...e){Ka.warn(...e)}function OT(...e){Ka.error(...e)}const CT={debug:TT,log:Qp,info:ET,warn:kT,error:OT};var ey={exports:{}};(function(e,t){(function(r,n){n(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Pr,function(r){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)r.exports=globalThis.browser;else{const n="The message port closed before a response was received.",s=i=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(T,A=void 0){super(A),this.createItem=T}get(T){return this.has(T)||this.set(T,this.createItem(T)),super.get(T)}}const l=b=>b&&typeof b=="object"&&typeof b.then=="function",u=(b,T)=>(...A)=>{i.runtime.lastError?b.reject(new Error(i.runtime.lastError.message)):T.singleCallbackArg||A.length<=1&&T.singleCallbackArg!==!1?b.resolve(A[0]):b.resolve(A)},c=b=>b==1?"argument":"arguments",d=(b,T)=>function(E,...M){if(M.length<T.minArgs)throw new Error(`Expected at least ${T.minArgs} ${c(T.minArgs)} for ${b}(), got ${M.length}`);if(M.length>T.maxArgs)throw new Error(`Expected at most ${T.maxArgs} ${c(T.maxArgs)} for ${b}(), got ${M.length}`);return new Promise(($,G)=>{if(T.fallbackToNoCallback)try{E[b](...M,u({resolve:$,reject:G},T))}catch(F){console.warn(`${b} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,F),E[b](...M),T.fallbackToNoCallback=!1,T.noCallback=!0,$()}else T.noCallback?(E[b](...M),$()):E[b](...M,u({resolve:$,reject:G},T))})},f=(b,T,A)=>new Proxy(T,{apply(E,M,$){return A.call(M,b,...$)}});let m=Function.call.bind(Object.prototype.hasOwnProperty);const p=(b,T={},A={})=>{let E=Object.create(null),M={has(G,F){return F in b||F in E},get(G,F,se){if(F in E)return E[F];if(!(F in b))return;let B=b[F];if(typeof B=="function")if(typeof T[F]=="function")B=f(b,b[F],T[F]);else if(m(A,F)){let K=d(F,A[F]);B=f(b,b[F],K)}else B=B.bind(b);else if(typeof B=="object"&&B!==null&&(m(T,F)||m(A,F)))B=p(B,T[F],A[F]);else if(m(A,"*"))B=p(B,T[F],A["*"]);else return Object.defineProperty(E,F,{configurable:!0,enumerable:!0,get(){return b[F]},set(K){b[F]=K}}),B;return E[F]=B,B},set(G,F,se,B){return F in E?E[F]=se:b[F]=se,!0},defineProperty(G,F,se){return Reflect.defineProperty(E,F,se)},deleteProperty(G,F){return Reflect.deleteProperty(E,F)}},$=Object.create(b);return new Proxy($,M)},h=b=>({addListener(T,A,...E){T.addListener(b.get(A),...E)},hasListener(T,A){return T.hasListener(b.get(A))},removeListener(T,A){T.removeListener(b.get(A))}}),g=new o(b=>typeof b!="function"?b:function(A){const E=p(A,{},{getContent:{minArgs:0,maxArgs:0}});b(E)}),w=new o(b=>typeof b!="function"?b:function(A,E,M){let $=!1,G,F=new Promise(U=>{G=function(R){$=!0,U(R)}}),se;try{se=b(A,E,G)}catch(U){se=Promise.reject(U)}const B=se!==!0&&l(se);if(se!==!0&&!B&&!$)return!1;const K=U=>{U.then(R=>{M(R)},R=>{let ie;R&&(R instanceof Error||typeof R.message=="string")?ie=R.message:ie="An unexpected error occurred",M({__mozWebExtensionPolyfillReject__:!0,message:ie})}).catch(R=>{console.error("Failed to send onMessage rejected reply",R)})};return K(B?se:F),!0}),S=({reject:b,resolve:T},A)=>{i.runtime.lastError?i.runtime.lastError.message===n?T():b(new Error(i.runtime.lastError.message)):A&&A.__mozWebExtensionPolyfillReject__?b(new Error(A.message)):T(A)},_=(b,T,A,...E)=>{if(E.length<T.minArgs)throw new Error(`Expected at least ${T.minArgs} ${c(T.minArgs)} for ${b}(), got ${E.length}`);if(E.length>T.maxArgs)throw new Error(`Expected at most ${T.maxArgs} ${c(T.maxArgs)} for ${b}(), got ${E.length}`);return new Promise((M,$)=>{const G=S.bind(null,{resolve:M,reject:$});E.push(G),A.sendMessage(...E)})},v={devtools:{network:{onRequestFinished:h(g)}},runtime:{onMessage:h(w),onMessageExternal:h(w),sendMessage:_.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:_.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},C={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":C},services:{"*":C},websites:{"*":C}},p(i,v,a)};r.exports=s(chrome)}})})(ey);var PT=ey.exports;const MT=Yn(PT),ca=MT,nt=(e,t,r)=>ca.i18n.getMessage(e,t,r);function or(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function bn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function IT(e,t){const r=or(e);return isNaN(t)?bn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const ty=6048e5,DT=864e5;let RT={};function Zc(){return RT}function Ra(e,t){var o,l,u,c;const r=Zc(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=or(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function mc(e){return Ra(e,{weekStartsOn:1})}function ry(e){const t=or(e),r=t.getFullYear(),n=bn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=mc(n),i=bn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=mc(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function ki(e){const t=or(e);return t.setHours(0,0,0,0),t}function Fh(e){const t=or(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function NT(e,t){const r=ki(e),n=ki(t),s=+r-Fh(r),i=+n-Fh(n);return Math.round((s-i)/DT)}function LT(e){const t=ry(e),r=bn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),mc(r)}function ny(e){return bn(e,Date.now())}function sy(e,t){const r=ki(e),n=ki(t);return+r==+n}function FT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $T(e){if(!FT(e)&&typeof e!="number")return!1;const t=or(e);return!isNaN(Number(t))}function UT(e){const t=or(e),r=bn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const jT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VT=(e,t,r)=>{let n;const s=jT[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ru(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const BT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qT={date:ru({formats:BT,defaultWidth:"full"}),time:ru({formats:WT,defaultWidth:"full"}),dateTime:ru({formats:HT,defaultWidth:"full"})},GT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YT=(e,t,r,n)=>GT[e];function qi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const ZT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},XT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eE=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tE={ordinalNumber:eE,era:qi({values:ZT,defaultWidth:"wide"}),quarter:qi({values:zT,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qi({values:KT,defaultWidth:"wide"}),day:qi({values:JT,defaultWidth:"wide"}),dayPeriod:qi({values:XT,defaultWidth:"wide",formattingValues:QT,defaultFormattingWidth:"wide"})};function Gi(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?nE(o,d=>d.test(a)):rE(o,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=t.slice(a.length);return{value:u,rest:c}}}function rE(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nE(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function sE(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const iE=/^(\d+)(th|st|nd|rd)?/i,aE=/\d+/i,oE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cE={any:[/^b/i,/^(a|c)/i]},lE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uE={any:[/1/i,/2/i,/3/i,/4/i]},dE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yE={ordinalNumber:sE({matchPattern:iE,parsePattern:aE,valueCallback:e=>parseInt(e,10)}),era:Gi({matchPatterns:oE,defaultMatchWidth:"wide",parsePatterns:cE,defaultParseWidth:"any"}),quarter:Gi({matchPatterns:lE,defaultMatchWidth:"wide",parsePatterns:uE,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gi({matchPatterns:dE,defaultMatchWidth:"wide",parsePatterns:fE,defaultParseWidth:"any"}),day:Gi({matchPatterns:hE,defaultMatchWidth:"wide",parsePatterns:mE,defaultParseWidth:"any"}),dayPeriod:Gi({matchPatterns:gE,defaultMatchWidth:"any",parsePatterns:pE,defaultParseWidth:"any"})},wE={code:"en-US",formatDistance:VT,formatLong:qT,formatRelative:YT,localize:tE,match:yE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bE(e){const t=or(e);return NT(t,UT(t))+1}function vE(e){const t=or(e),r=+mc(t)-+LT(t);return Math.round(r/ty)+1}function iy(e,t){var c,d,f,m;const r=or(e),n=r.getFullYear(),s=Zc(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=bn(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=Ra(a,t),l=bn(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=Ra(l,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function AE(e,t){var o,l,u,c;const r=Zc(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=iy(e,t),i=bn(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Ra(i,t)}function _E(e,t){const r=or(e),n=+Ra(r,t)-+AE(r,t);return Math.round(n/ty)+1}function Ye(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const En={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ye(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ye(r+1,2)},d(e,t){return Ye(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ye(e.getHours()%12||12,t.length)},H(e,t){return Ye(e.getHours(),t.length)},m(e,t){return Ye(e.getMinutes(),t.length)},s(e,t){return Ye(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ye(s,t.length)}},Js={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$h={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return En.y(e,t)},Y:function(e,t,r,n){const s=iy(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Ye(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ye(i,t.length)},R:function(e,t){const r=ry(e);return Ye(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ye(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ye(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ye(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return En.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ye(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=_E(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ye(s,t.length)},I:function(e,t,r){const n=vE(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ye(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):En.d(e,t)},D:function(e,t,r){const n=bE(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ye(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ye(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ye(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ye(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Js.noon:n===0?s=Js.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Js.evening:n>=12?s=Js.afternoon:n>=4?s=Js.morning:s=Js.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return En.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):En.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ye(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ye(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):En.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):En.s(e,t)},S:function(e,t){return En.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return jh(n);case"XXXX":case"XX":return us(n);case"XXXXX":case"XXX":default:return us(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return jh(n);case"xxxx":case"xx":return us(n);case"xxxxx":case"xxx":default:return us(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Uh(n,":");case"OOOO":default:return"GMT"+us(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Uh(n,":");case"zzzz":default:return"GMT"+us(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ye(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ye(n,t.length)}};function Uh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Ye(i,2)}function jh(e,t){return e%60===0?(e>0?"-":"+")+Ye(Math.abs(e)/60,2):us(e,t)}function us(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ye(Math.trunc(n/60),2),i=Ye(n%60,2);return r+s+t+i}const Vh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ay=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xE=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Vh(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Vh(n,t)).replace("{{time}}",ay(s,t))},SE={p:ay,P:xE},TE=/^D+$/,EE=/^Y+$/,kE=["D","DD","YY","YYYY"];function OE(e){return TE.test(e)}function CE(e){return EE.test(e)}function PE(e,t,r){const n=ME(e,t,r);if(console.warn(n),kE.includes(e))throw new RangeError(n)}function ME(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RE=/^'([^]*?)'?$/,NE=/''/g,LE=/[a-zA-Z]/;function Hu(e,t,r){var c,d,f,m;const n=Zc(),s=n.locale??wE,i=n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,a=n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,o=or(e);if(!$T(o))throw new RangeError("Invalid time value");let l=t.match(DE).map(p=>{const h=p[0];if(h==="p"||h==="P"){const g=SE[h];return g(p,s.formatLong)}return p}).join("").match(IE).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const h=p[0];if(h==="'")return{isToken:!1,value:FE(p)};if($h[h])return{isToken:!0,value:p};if(h.match(LE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const h=p.value;(CE(h)||OE(h))&&PE(h,t,String(e));const g=$h[h[0]];return g(o,h,s.localize,u)}).join("")}function FE(e){const t=e.match(RE);return t?t[1].replace(NE,"'"):e}function $E(e,t){const r=or(e),n=or(t);return r.getFullYear()===n.getFullYear()}function UE(e){return sy(e,ny(e))}function jE(e,t){return IT(e,-1)}function VE(e){return sy(e,jE(ny(e)))}function BE(){return ki(Date.now())}function WE(){const e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),s=new Date(0);return s.setFullYear(t,r,n-1),s.setHours(0,0,0,0),s}function Bh(e){return e.reduce((t,r)=>Math.min(t,r),Number.POSITIVE_INFINITY)}function Wh(e){return e.reduce((t,r)=>Math.max(t,r),Number.NEGATIVE_INFINITY)}const HE="HH:mm",qE="h:mm a",GE="h a";class wr{constructor(t){Me(this,"_ms");this._ms=t instanceof wr?t.ms:t instanceof Date?t.getTime():t??Date.now()}get ms(){return this._ms}get seconds(){return this._ms/1e3}get minutes(){return this.seconds/60}get hours(){return this.minutes/60}get days(){return this.hours/24}get weeks(){return this.days/7}get months(){return this.days/30}get years(){return this.days/365}get startOfDay(){const t=this.toJsDate();return t.setHours(0,0,0,0),new wr(t.getTime())}add(t){return new wr(this._ms+t.ms)}plus(t){return this.add(t)}subtract(t){return new wr(this._ms-t.ms)}minus(t){return this.subtract(t)}isBefore(t,r=!1){return r?this._ms<=t.ms:this._ms<t.ms}isAfter(t,r=!1){return r?this._ms>=t.ms:this._ms>t.ms}since(t=new wr){return new ar(this._ms-t.ms)}toJsDate(){return new Date(this._ms)}toString(){return this.toJsDate().toISOString()}copy(){return new wr(this._ms)}}var Ne=(e=>(e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Month=2592e6]="Month",e[e.Year=31536e6]="Year",e))(Ne||{}),Lo=(e=>(e[e.Second=1]="Second",e[e.Minute=60]="Minute",e[e.Hour=3600]="Hour",e[e.Day=86400]="Day",e))(Lo||{});const tt=class tt{constructor(...t){Me(this,"ms");this.ms=t.length===1?t[0]:t[0]*t[1]}get seconds(){return this.ms/1e3}get minutes(){return this.ms/6e4}get hours(){return this.ms/36e5}get days(){return this.ms/864e5}get weeks(){return this.ms/6048e5}get months(){return this.ms/2592e6}get years(){return this.ms/31536e6}add(t){return new tt(this.ms+t.ms)}plus(t){return this.add(t)}subtract(t){return new tt(this.ms-t.ms)}minus(t){return this.subtract(t)}clamp(t,r){return new tt(Math.min(Math.max(this.ms,t.ms),r.ms))}isEqual(t){return this.ms===t.ms}parse(){const t=Math.floor(this.ms/1e3),r=Math.floor(t/60);return{hours:Math.floor(r/60),minutes:r%60,seconds:t%60}}format(){const t=Math.floor(this.ms/1e3),r=Math.floor(t/60),n=Math.floor(r/60);return n>0?`${n}:${String(r%60).padStart(2,"0")}:${String(t%60).padStart(2,"0")}`:r>0?`${r}:${String(t%60).padStart(2,"0")}`:`0:${String(t).padStart(2,"0")}`}formatString(t){const{seconds:r,minutes:n,hours:s}=this.parse();if(t!=null&&t.excludeTrailingZeros){const i=[s&&`${s}h`,(s||n)&&`${n}m`,`${r}s`];return r===0&&(i.pop(),n===0&&i.pop()),i.filter(a=>!!a).join(" ")}else return s>0?`${s}h ${n}m ${r}s`:n>0?`${n}m ${r}s`:`${r}s`}toString(){return`${this.ms}ms`}copy(){return new tt(this.ms)}};Me(tt,"ZERO",new tt(0)),Me(tt,"MS",new tt(1,1)),Me(tt,"SECOND",new tt(1,1e3)),Me(tt,"MINUTE",new tt(1,6e4)),Me(tt,"HOUR",new tt(1,36e5)),Me(tt,"DAY",new tt(1,864e5)),Me(tt,"WEEK",new tt(1,6048e5)),Me(tt,"MONTH",new tt(1,2592e6)),Me(tt,"YEAR",new tt(1,31536e6)),Me(tt,"INFINITY",new tt(1/0));let ar=tt;function Hh(e,t){const r={hours:e.getHours(),minutes:e.getMinutes()};return ZE(t)?nu(r,t.start,{hours:23,minutes:59})||nu(r,{hours:0,minutes:0},t.end):nu(r,t.start,t.end)}function YE(e,t){e[0]>e[1]&&e.sort(),t[0]>t[1]&&t.sort();const[r,n]=e[0]<=t[0]?[e,t]:[t,e];return n[0]>=r[0]&&n[0]<r[1]?n[1]<=r[1]?n[1]-n[0]:r[1]-n[0]:0}function lf(e,t=!0){if(UE(e))return nt("today");if(t&&VE(e))return nt("yesterday");const r=Ci();return e>=r-6*Ne.Day?Hu(e,"eeee"):$E(e,r)?Hu(e,"eee, MMM d"):new Date(e).toLocaleDateString()}function uf(e,t,r){return{*[Symbol.iterator](){for(let n=e;n<t;n=n+r)yield n}}}function oy(e,t,r){const n=Ci()+r,s=r+(Date.now()<n?-24*Ne.Hour:0);return[e+s,t+s]}function nu(e,t,r){return e.hours>t.hours&&e.hours<r.hours?!0:e.hours===t.hours&&e.hours===r.hours?e.minutes>=t.minutes&&e.minutes<=r.minutes:e.hours===t.hours&&e.minutes>=t.minutes||e.hours===r.hours&&e.minutes<=r.minutes}function ZE(e){return e.start.hours===e.end.hours&&e.start.minutes>=e.end.minutes||e.start.hours>e.end.hours}function zE(e,t,r){const n=Math.max(1,r)*Ne.Day;return Array.from(uf(e,t,n)).map(s=>{let i=s+n;return i>=t&&(i=t),{startDate:s,endDate:i}})}function qu(e){const t=new Date(`2021-01-01T${e}`).getTime(),r=cy(t).parse();return{hours:r.hours,minutes:r.minutes}}function Gu(e){return Math.round(e/1e3)}function TP(e){const t=new ar(e).parse();return{hours:t.hours,minutes:t.minutes}}function EP(e){const t=new ar(e).parse();return{hours:t.hours,minutes:qh(t.minutes),seconds:qh(t.seconds)}}function KE(e,t){const n=(t!=null&&t.baseTime?zc(t.baseTime):Ci())+e;return JE(n,t)}function JE(e,t){const r=cy(e);let n;if(t!=null&&t.is24HourFormat)n=HE;else{if(r.ms===0)return nt("midnight");if(r.ms===12*Ne.Hour)return nt("noon");n=XE(r.ms,Ne.Hour)?GE:qE}return Hu(e,n)}function XE(e,t){return e%t===0}function Ci(){return BE().getTime()}function zc(e){return ki(e).getTime()}function cy(e){return new ar(e-zc(e))}function kP(e,t){const r=new Date(e.ms);r.setHours(t.hours,t.minutes,0,0);let n=new wr(r);return n.isAfter(e)&&(n=n.subtract(ar.DAY)),n}function qh(e,t){return e<10&&!t?`0${e}`:String(e)}function OP(e){const t=new Date;return e.hours<t.getHours()||e.hours==t.getHours()&&e.minutes<=t.getMinutes()}function ly(e,t){const r=ri.defineItem(e,{...t,fallback:null}),{serialize:n,deserialize:s}=QE[t.serializer];return{...r,get fallback(){return t.fallback},get defaultValue(){return t.fallback},getValue:async()=>{const i=await r.getValue();return i==null?null:s(i)},setValue:async i=>r.setValue(n(i)),watch:i=>r.watch((a,o)=>{const l=a==null?t.fallback:s(a),u=o==null?t.fallback:s(o);i(l,u)})}}const QE={time:{serialize:e=>e.ms,deserialize:e=>new wr(e)},duration:{serialize:e=>e.ms,deserialize:e=>new ar(e)},map:{serialize:e=>JSON.stringify(Array.from(e.entries())),deserialize:e=>new Map(JSON.parse(e))}};function Kc(e,t,r){let n=Kh.getValue();Kh.watch(i=>{n=Promise.resolve(i)});const s=async()=>await n?e:t;return{get fallback(){return r},get defaultValue(){return r},async getValue(...i){return await(await s()).getValue(...i)??r},async setValue(...i){return await(await s()).setValue(...i)},async removeValue(...i){return await(await s()).removeValue(...i)},async getMeta(...i){return await(await s()).getMeta(...i)},async setMeta(...i){return await(await s()).setMeta(...i)},async removeMeta(...i){return await(await s()).removeMeta(...i)},watch(i){const a=e.watch(async(l,u)=>{if(await n)return i(l??r,u??r)}),o=t.watch(async(l,u)=>{if(!await n)return i(l??r,u??r)});return()=>{a(),o()}},async migrate(){await Promise.all([e.migrate(),t.migrate()])}}}function Oe(e,t,r=!1){return ri.defineItem(uy(e,r),t)}function ct(e,t=!1){return ri.defineItem(uy(e,t))}function uy(e,t){return t?ek(e):df(e)}const df=e=>`local:${e}`,ek=e=>`sync:${e}`;function CP(...e){return e.reduce((t,r)=>({...t,...r}))}function ff(e,t){if(!(!e||typeof e!="string"))return t()}const tk="@stayfocusd/sessions-last-uploaded-at-key",rk="@stayfocusd/page-views-last-uploaded-at-key-2";var dy=(e=>(e[e.Sessions=tk]="Sessions",e[e.PageViews=rk]="PageViews",e))(dy||{}),H=(e=>(e.Timers="timers",e.ResetTime="resetTime",e.FirstSensorTowerInstallDate="firstSensorTowerInstallDate",e.ResetTimeQueue="resetTimeQueue",e.AppGroups="app-groups",e.ActiveHours="activeHours",e.ActiveHoursQueue="activeHoursQueue",e.ActiveDays="activeDays",e.CurrentUrl="currentUrl",e.CurrentTabId="currentTabId",e.UrlsBeforeBlockedStorage="urlsBeforeBlockedStorage",e.LastResetTime="lastResetTime",e.Theme="theme",e.DisableSync="disableSync",e.BlockAllWebsitesAllowedTime="blockAllWebsitesAllowedTime",e.DisableUpdatePopup="disableUpdatePopup",e.Activated="activated",e.HasAcceptedToS="hasAcceptedToS",e.HasAcceptedPrivacyPolicy="hasAcceptedPrivacyPolicy",e.Is18OrOlder="is18OrOlder",e.Age="age",e.PromptBirthYearAt="promptBirthYearAt",e.PromptBirthYearInterval="promptBirthYearInterval",e.PromptReview="promptReview",e.PromptReviewAt="promptReviewAt",e.PromptReviewInterval="promptReviewInterval",e.ExplicitlyDeclinedPrivacyPolicy="explicitlyDeclinedPrivacyPolicy",e.ShowOnboardingAgainAt="showOnboardingAgainAt",e.ShowOnboardingAgainCount="showOnboardingAgainCount",e.ChallengeRequired="challengeRequired",e.HideAllowSiteLink="hideAllowSiteLink",e.ChallengeText="challengeText",e.Whitelist="whitelist",e.RemoteConfig="remoteConfig",e.RemoteConfigLastFetchedAt="remoteConfigLastFetchedAt",e.CustomStayFocusdMsg="customStayFocusdMsg",e.IsActivateSwitchShown="isActivateSwitchShown",e.ShowedInitialTutorial="showedInitialTutorial",e.StayFreePairingPromoDismissedStorage="stayfreePairingPromoDismissedStorage",e.NotificationSettings="notificationSettings",e.TrackTabsPlayingAudio="trackTabsPlayingAudio",e.NuclearQueue="nuclearQueue",e.BlockedGroups="blockedGroups",e.WhitelistNew="whitelistNew",e.YoutubeShortsHidden="youtube/shorts-hidden",e.YoutubeHomePageHidden="youtube/home-page-hidden",e.YoutubeCommentsHidden="youtube/comments-hidden",e.YoutubeTopBarHidden="youtube/top-bar-hidden",e.YoutubeRecommendedHidden="youtube/recommended-hidden",e.YoutubeEndCardsDisabled="youtube/end-cards-disabled",e.YoutubeBlackWhiteMode="youtube/black-white-mode",e.YoutubeAutoplayDisabled="youtube/autoplay-disabled",e.YoutubeSubscriptionsHidden="youtube/subscriptions-hidden",e.YoutubeExploreHidden="youtube/explore-hidden",e.YoutubeTrendsHidden="youtube/trends-hidden",e.TiktokExploreTabHidden="tiktok/tab-hidden",e.TiktokLiveTabHidden="tiktok/live-tab-hidden",e.TiktokCommentsTabHidden="tiktok/comments-hidden",e.TiktokSearchTabHidden="tiktok/search-hidden",e.TikTokBlackWhiteMode="tiktok/black-white-mode",e.DeviceGroup="device-group",e.IgnoredWebsites="ignored-websites",e.IgnoredApps="ignored-apps",e.IgnoredDesktopApps="ignored-desktop-apps",e[e.SessionsLastUploadedAt=dy.Sessions]="SessionsLastUploadedAt",e))(H||{});const nk=[1,2,3,4,5,6,0];function PP(e){switch(e){case 1:return nt("monday");case 2:return nt("tuesday");case 3:return nt("wednesday");case 4:return nt("thursday");case 5:return nt("friday");case 6:return nt("saturday");case 0:return nt("sunday")}}const sk=Ne.Minute*10,ik=nk,ak={hours:3,minutes:0},ok={start:{hours:0,minutes:0},end:{hours:23,minutes:59}},ck=!1,lk=!1,uk=!0,dk=!1,fk=!1,hk=!1,mk=!0,gk=!0,pk=[Lo.Second*5,Lo.Second*10,Lo.Minute,0,0],Lr=!1,Ja=!1;var vr=(e=>(e.Group="group",e.BlockAll="block-all",e.Nuclear="nuclear",e))(vr||{});function yk(){async function e(){return Ik.getValue()}async function t(){const s=await hy.getValue();return s==null?void 0:s.some(i=>new Date().getDay()==i)}async function r(){const s=new Date,i=await zh.getValue();if(i&&s.getTime()>i.timestamp)return await zh.setValue(null),await zu.setValue(i.time),Hh(s,i.time);const a=await zu.getValue();return Hh(s,a)}async function n(){return await r()&&await t()&&await e()}return{isEnabled:e,isActiveDay:t,isActiveHours:r,isActive:n}}async function la(){const e=await Mt.getValue();let t=[],r=[],n=!1;for(const s in e)e[s].type==vr.BlockAll&&(n=!0),t=t.concat(e[s].blocklist??[]),r=r.concat(e[s].brandIds??[]);return{isBlockAll:n,blocklist:t,brands:r}}function MP(e,t){{let r="";return t.forEach(n=>{const s=e.find(i=>{var a;return(a=i.websiteUrls)==null?void 0:a.includes(n)});s&&(r+=nt("groupIncludesSites",[s.customLimitName,n]))}),r!=""?{result:!1,message:nt("haveAlreadyAddedWebsites",r)}:{result:!0}}}const wk={StayFocusdPage:"https://stayfocusd.com",StayFocusdBlockPage:"https://stayfocusd.com/blocked",Procrastination:"https://asc.calpoly.edu/ssl/procrastination",ToS:"https://sensortower.com/panel-terms",PrivacyPolicy:"https://sensortower.com/page-stayfocusd-privacy",GoogleFeedback:"https://docs.google.com/forms/d/e/1FAIpQLSc8iHQ8Mdkg9HaFP0ZdE743ZQZcn4ufpqbro0HzKZzrimMhZw/viewform?usp=pp_url&entry.643944128=4.0.3",Meeting:"https://calendly.com/fatihdelibas/stayfreeapps_stayfocusd",Discord:"https://discord.com/invite/33kpwusY6Y",Uninstall:"https://www.stayfocusd.com/goodbye/",ReviewLink:bk()};function bk(){return"https://chromewebstore.google.com/detail/stayfocusd-block-distract/laankejkbhbdhmipfmgcngdelahlfoji/reviews"}function IP(){return"support@stayfocusd.com"}const DP="nuclear";var Fo=(e=>(e.BlockedSites="blocked-sites",e.AllExceptAllowed="all-except-allowed",e.All="all",e))(Fo||{}),vk=(e=>(e.WholeSite="whole-site",e.SmartBomb="smart-bomb",e))(vk||{}),Ak=(e=>(e.Now="now",e.MaxTimeAllowedExceeded="max-time-allowed-exceeded",e.SpecificTime="specific-time",e))(Ak||{}),_k=(e=>(e.Multimedia="multimedia",e.Forms="forms",e.Logins="logins",e.Images="images",e))(_k||{}),xk=(e=>(e.Today="today",e.ActiveDays="active-days",e.EveryWeekday="every-weekday",e.EveryDay="every-day",e))(xk||{});function RP(e){switch(e){case"now":return nt("nuclear_startTime_Now");case"specific-time":return nt("nuclear_atTime");case"max-time-allowed-exceeded":return nt("nuclear_startTime_MaxTimeAllowedExceeded")}}function NP(e){switch(e){case"active-days":return nt("daysInActiveDaysTab");case"every-day":return nt("everyDay");case"every-weekday":return nt("everyWeekday");case"today":return nt("todayOnly")}}function Yu(e,t,r,n,s,i=[]){var o,l,u;if(ui(e,wk.StayFocusdPage))return;const a=()=>{if(r.some(c=>ui(e,c)))return!0};if(t.type==vr.BlockAll)return a()?"allowed":"blocked";if(t.type==vr.Group)return a()?"allowed":gc(e,t.blocklist,t.brandIds,s);if(t.type==vr.Nuclear){if(((o=t.options)==null?void 0:o.blockType)==Fo.BlockedSites)return a()?"allowed":gc(e,n,i,s,!0);if(((l=t.options)==null?void 0:l.blockType)==Fo.All)return"blocked-nuclear";if(((u=t.options)==null?void 0:u.blockType)==Fo.AllExceptAllowed)return a()?"allowed":"blocked-nuclear"}}function gc(e,t,r,n,s=!1){const i=s?"blocked-nuclear":"blocked";if(t&&t.some(a=>ui(e,a)))return i;if(r&&r.length>0){let a;return r.forEach(o=>{const l=n.find(d=>d.brand_id.toString()==o);if(!l)return;const u=l.android_apps;if(u&&u.some(d=>ui(e,d.id))){a=i;return}const c=l.websites;if(c&&c.some(d=>ui(e,d))){a=i;return}}),a}}function ui(e,t){return Sk(t,e)||kk(t,e)}function Gh(e){return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.replace(/^https:\/\//,"").replace(/^http:\/\//,"").replace(/^www./,"")}function LP(e){const t=e.indexOf("?");return t==-1?e:e.substring(0,t)}function Sk(e,t){if(t=Gh(t.toLowerCase()),e=Gh(e.toLowerCase()),t.indexOf(e)===0)return!0;const r=Yh(t),n=Yh(e);return e===t||e===r||n===r&&e.length<=t.length&&t.indexOf(e)>=0&&(t.indexOf("/")>=0||t.indexOf("?")>=0)||r.length>n.length&&r.indexOf(e)>-1}function Tk(e){if(!e)return null;const t=e.match(/^(.[^/]*?:\/\/)?(.[^/]+)/);if(t===null||t.length<2)return e.split("/")[0];let r=t[2];return r.startsWith("www.")&&(r=r.replace("www.","")),r}function Yh(e){const t=Tk(e);if(!t||t.length===0)return"";const r=t.split(".");if(r.length===1)return t;let n=r[r.length-1];return n=r[r.length-2]+"."+n,Ek(t)&&(n=r[r.length-3]+"."+n),n}function Ek(e){const t=e.split(".");let r=[];if(t.length===1)return!1;const n=t[t.length-2];if(n.length===1||n.length===2&&t.length>3)return!0;if(n.length===3&&t.length>=3){r=["com","edu","gov","mil","net","org","biz","www","pro","int","web","xxx"];for(const s in r)if(n===r[s])return!0}if(n.length===4&&t.length>=3){r=["info","mobi","name","jobs","kiwi","aero","asia","coop"];for(const s in r)if(n===r[s])return!0}if(t.length>=3){const s=t[t.length-3];if(n.length===2&&t.length===3&&s.length>2&&s!=="www")return!0}return!1}function kk(e,t){if(e.indexOf("*")==-1)return!1;e=e.toLowerCase(),t=t.toLowerCase();const r=e.replace("*","");if(t=t||"",t.indexOf(r)===-1)return!1;const n=t.substring(0,t.indexOf(r)+r.length),i=t.substring(n.length-r.length,n.length)===r;return i&&Qp("matchesWildcard",`Does ${t} match wildcard  ${e}?`,"YES"),i}const Ok="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let fy=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=Ok[r[e]&63];return t};const[FP,$P]=Sc("timer-service",Pk),Ck="default",UP="nuclear",jP="block-all",fs=nt("default");function Pk(){const e=CC(),t=yk(),r=async()=>{const c=await Mt.getValue();if(!Object.values(c).find(f=>f.name==fs)){const f=[],m={id:fy(),name:fs,allowedTimeMs:ar.HOUR.ms,blocklist:[],brandIds:f,type:vr.Group,isEnabled:!0,isSynced:!1};c[m.id]=m,await Mt.setValue(c)}return Object.values(c)};async function n(){await Mt.migrate(),s=await r(),i=await pc.getValue(),a=(await la()).blocklist,o=await hs()}n();let s=[],i=[],a=[],o=[];hf.watch(async()=>{o=await hs()}),Mt.watch(async()=>{s=await r(),a=(await la()).blocklist}),pc.watch(c=>{i=c});const l=(c,d,f)=>`https://${c}${d}${f?`?${f}`:""}`,u=async(c,d)=>{const f=s.map(w=>{let S=c?Yu(c,w,i,a,o):void 0;return w.type==vr.Nuclear&&(S="blocked-nuclear"),{timer:w,relation:S}}).filter(d);if(f.length==0)return[];const m=await e.getTodaysUsage(),p=[...m.local,...m.remote],h=Date.now(),g=await t.isActive();return f.map(({timer:w,relation:S})=>{let _=!1,v=0;return w.type==vr.Nuclear?v=h-(w.startTime??h):g?v=(w.isSynced?p:m.local).filter(b=>{const T=Yu(l(b.appId,b.path,b.query),w,i,a,o);return T==="blocked"||T==="blocked-nuclear"}).reduce((b,T)=>(T.endedAt==null&&(_=!0),b+(T.endedAt??h)-T.startedAt),0):v=0,{timer:w,relation:S,timeLeftMs:w.allowedTimeMs-v,active:_}})};return{getPopupTimer:async c=>{const d=await u(c,({timer:f,relation:m})=>m!=null||f.name===fs);if(d.length===0)throw Error("No timers found");return d.toSorted((f,m)=>{const p=Zh[f.relation??"undefined"],h=Zh[m.relation??"undefined"];return p!==h?p-h:f.timer.type==m.timer.type&&f.timer.name==fs?-1:h})[0]},getAllTimers:c=>u(c,()=>!0),getAllTimersByType:c=>u(void 0,d=>d.timer.type==c),getTimerById:async c=>{const d=await u(void 0,f=>f.timer.id==c);return d.length==1?d[0]:null},upsertTimer:async c=>{const d=await Mt.getValue();d[c.id]=c,await Mt.setValue(d)},deleteTimer:async c=>{const d=await Mt.getValue();if(d[c].name==fs)throw Error("Cannot delete the default timer");delete d[c],await Mt.setValue(d)}}}function Mk(e){const t=e.map(r=>({id:r.timer.id,customLimitName:r.timer.name,dailyLimitDuration:r.timer.allowedTimeMs,timeLeftMs:r.timeLeftMs,elapsedTimeMs:r.timer.allowedTimeMs-r.timeLeftMs,websiteUrls:r.timer.blocklist,brandIds:r.timer.brandIds,isEnabled:r.timer.isEnabled,isSynced:r.timer.isSynced}));return t==null?void 0:t.sort((r,n)=>r.customLimitName===fs?-1:n.customLimitName===fs?1:0)}const Zh={"blocked-nuclear":1,blocked:2,allowed:3,undefined:4},VP=ct(H.FirstSensorTowerInstallDate),Zu=Oe(H.ResetTime,{fallback:ak,version:2,migrations:{2:e=>ff(e,()=>qu(e))}}),BP=ct(H.ResetTimeQueue),zu=Oe(H.ActiveHours,{fallback:ok,version:2,migrations:{2:e=>ff(e,()=>{const t=e.split("|");return{start:qu(t[0]),end:qu(t[1])}})}}),zh=ct(H.ActiveHoursQueue),hy=Oe(H.ActiveDays,{fallback:ik,version:2,migrations:{2:e=>ff(e,()=>e.split("|").map(r=>Number(r)))}}),WP=ct(H.CurrentUrl),HP=ct(H.CurrentTabId),qP=ly(df(H.UrlsBeforeBlockedStorage),{serializer:"map",fallback:new Map}),GP=ly(df(H.LastResetTime),{serializer:"time",fallback:new wr(0)}),YP=Oe(H.Theme,{fallback:"light"}),Kh=Oe(H.DisableSync,{fallback:ck}),ZP=Oe(H.BlockAllWebsitesAllowedTime,{fallback:sk}),zP=Oe(H.DisableUpdatePopup,{fallback:lk}),Ik=Oe(H.Activated,{fallback:uk}),Jh=ct(H.HasAcceptedToS),Xh=ct(H.HasAcceptedPrivacyPolicy),Dk=ct(H.Is18OrOlder),Rk=ct(H.Age),KP=ct(H.PromptBirthYearAt),JP=ct(H.PromptBirthYearInterval),XP=Oe(H.PromptReview,{fallback:dk}),QP=ct(H.PromptReviewAt),eM=ct(H.PromptReviewInterval),Nk=ct(H.ExplicitlyDeclinedPrivacyPolicy),Lk=ct(H.ShowOnboardingAgainAt),Fk=ct(H.ShowOnboardingAgainCount),tM=Oe(H.ChallengeRequired,{fallback:fk}),rM=Oe(H.HideAllowSiteLink,{fallback:hk}),nM=ct(H.ChallengeText),pc=Kc(Oe(H.Whitelist,{fallback:[]}),Oe(H.Whitelist,{fallback:[]},!0),[]),Qh=ct(H.RemoteConfig),em=ct(H.RemoteConfigLastFetchedAt),sM=ct(H.CustomStayFocusdMsg),iM=Oe(H.IsActivateSwitchShown,{fallback:mk}),aM=ct(H.ShowedInitialTutorial),oM=ct(H.StayFreePairingPromoDismissedStorage),cM=Oe(H.NotificationSettings,{fallback:pk}),lM=Oe(H.TrackTabsPlayingAudio,{fallback:gk}),uM=ct(H.NuclearQueue),dM=Oe(H.YoutubeHomePageHidden,{fallback:Lr}),fM=Oe(H.YoutubeShortsHidden,{fallback:Lr}),hM=Oe(H.YoutubeCommentsHidden,{fallback:Lr}),mM=Oe(H.YoutubeRecommendedHidden,{fallback:Lr}),gM=Oe(H.YoutubeSubscriptionsHidden,{fallback:Lr}),pM=Oe(H.YoutubeExploreHidden,{fallback:Lr}),yM=Oe(H.YoutubeTrendsHidden,{fallback:Lr}),wM=Oe(H.YoutubeTopBarHidden,{fallback:Lr}),bM=Oe(H.YoutubeEndCardsDisabled,{fallback:Lr}),vM=Oe(H.YoutubeBlackWhiteMode,{fallback:Lr}),AM=Oe(H.YoutubeAutoplayDisabled,{fallback:Lr}),_M=Oe(H.TiktokExploreTabHidden,{fallback:Ja}),xM=Oe(H.TiktokLiveTabHidden,{fallback:Ja}),SM=Oe(H.TiktokCommentsTabHidden,{fallback:Ja}),TM=Oe(H.TiktokSearchTabHidden,{fallback:Ja}),EM=Oe(H.TikTokBlackWhiteMode,{fallback:Ja});function tm(){return e=>Object.values(e).reduce((r,n)=>{if(n.type==vr.Group&&!n.hasOwnProperty("isEnabled")&&!n.hasOwnProperty("isSynced")){const s=fy();n.isEnabled=!0,n.isSynced=!1,n.id!=Ck&&(n.name=n.id),n.id=s,r[s]=n}else r[n.id]=n;return r},{})}const Mt=Kc(Oe(H.Timers,{fallback:{},version:2,migrations:{2:tm()}}),Oe(H.Timers,{fallback:{},version:2,migrations:{2:tm()}},!0),{}),hf=Oe(H.AppGroups,{fallback:[]}),kM=Kc(Oe(H.BlockedGroups,{fallback:[]}),Oe(H.BlockedGroups,{fallback:[]},!0),[]),OM=Kc(Oe(H.WhitelistNew,{fallback:[]}),Oe(H.WhitelistNew,{fallback:[]},!0),[]),yc=Oe(H.DeviceGroup,{defaultValue:null}),my=Oe(H.IgnoredApps,{defaultValue:[]}),gy=Oe(H.IgnoredDesktopApps,{defaultValue:[]}),py=Oe(H.IgnoredWebsites,{defaultValue:[]}),CM=[Zu,zu,hy],PM=[H.ActiveDays,H.ResetTimeQueue,H.ActiveHoursQueue,H.ActiveHours,H.Activated,H.ChallengeRequired,H.ChallengeText,H.CustomStayFocusdMsg,H.TrackTabsPlayingAudio,H.DisableSync,H.Theme,H.HideAllowSiteLink,H.IsActivateSwitchShown,H.ResetTime,H.NotificationSettings,H.YoutubeAutoplayDisabled,H.YoutubeCommentsHidden,H.YoutubeEndCardsDisabled,H.YoutubeExploreHidden,H.YoutubeHomePageHidden,H.YoutubeRecommendedHidden,H.YoutubeShortsHidden,H.YoutubeSubscriptionsHidden,H.YoutubeTopBarHidden,H.YoutubeTrendsHidden,H.YoutubeBlackWhiteMode,H.TiktokLiveTabHidden,H.TiktokCommentsTabHidden,H.TiktokSearchTabHidden,H.TiktokExploreTabHidden,H.TikTokBlackWhiteMode],MM=[H.Timers,H.Whitelist,H.BlockedGroups];function $k(e){const t=new Set;let r={...e.defaultConfig},n,s;async function i(){try{const u=await Promise.all(e.urls.map(m=>fetch(m))),c=await Promise.all(u.map(m=>m.json())),d={...e.defaultConfig,...Object.assign({},...c)},f=r;return n=Date.now(),r=d,await e.persistConfig(d),await e.persistLastFetchedTime(n),t.forEach(m=>{Sg(d,f)||m(d,f)}),d}catch(u){throw new Error(`Failed to fetch remote config: ${String(u)}`)}}function a(u){return t.add(u),()=>{t.delete(u)}}const o=e.restoreConfig(),l=e.restoreLastFetchedTime();return o&&l?s=Promise.all([o,l]).then(([u,c])=>(u&&(r=u,n=c),r)):s=Promise.resolve(r),{fetchLatest:i,addChangeListener:a,get value(){return r},get lastFetchedTime(){return n},get restoredPromise(){return new Promise((u,c)=>{s.then(()=>u(r)).catch(c)})}}}var Uk=Object.defineProperty,jk=(e,t,r)=>t in e?Uk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,di=(e,t,r)=>jk(e,typeof t!="symbol"?t+"":t,r);const Vk=`"use strict";(()=>{var Fe=Object.create;var kt=Object.defineProperty;var Le=Object.getOwnPropertyDescriptor;var He=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf,Ve=Object.prototype.hasOwnProperty;var ke=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qe=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of He(t))!Ve.call(e,s)&&s!==r&&kt(e,s,{get:()=>t[s],enumerable:!(o=Le(t,s))||o.enumerable});return e};var Ct=(e,t,r)=>(r=e!=null?Fe(Be(e)):{},qe(t||!e||!e.__esModule?kt(r,"default",{value:e,enumerable:!0}):r,e));var ut=ke((qt,Wt)=>{"use strict";(function(e){if(typeof qt=="object")Wt.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var t;try{t=window}catch{t=self}t.SparkMD5=e()}})(function(e){"use strict";var t=function(f,h){return f+h&4294967295},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function o(f,h,i,n,u,a){return h=t(t(h,f),t(n,a)),t(h<<u|h>>>32-u,i)}function s(f,h){var i=f[0],n=f[1],u=f[2],a=f[3];i+=(n&u|~n&a)+h[0]-680876936|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&u)+h[1]-389564586|0,a=(a<<12|a>>>20)+i|0,u+=(a&i|~a&n)+h[2]+606105819|0,u=(u<<17|u>>>15)+a|0,n+=(u&a|~u&i)+h[3]-1044525330|0,n=(n<<22|n>>>10)+u|0,i+=(n&u|~n&a)+h[4]-176418897|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&u)+h[5]+1200080426|0,a=(a<<12|a>>>20)+i|0,u+=(a&i|~a&n)+h[6]-1473231341|0,u=(u<<17|u>>>15)+a|0,n+=(u&a|~u&i)+h[7]-45705983|0,n=(n<<22|n>>>10)+u|0,i+=(n&u|~n&a)+h[8]+1770035416|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&u)+h[9]-1958414417|0,a=(a<<12|a>>>20)+i|0,u+=(a&i|~a&n)+h[10]-42063|0,u=(u<<17|u>>>15)+a|0,n+=(u&a|~u&i)+h[11]-1990404162|0,n=(n<<22|n>>>10)+u|0,i+=(n&u|~n&a)+h[12]+1804603682|0,i=(i<<7|i>>>25)+n|0,a+=(i&n|~i&u)+h[13]-40341101|0,a=(a<<12|a>>>20)+i|0,u+=(a&i|~a&n)+h[14]-1502002290|0,u=(u<<17|u>>>15)+a|0,n+=(u&a|~u&i)+h[15]+1236535329|0,n=(n<<22|n>>>10)+u|0,i+=(n&a|u&~a)+h[1]-165796510|0,i=(i<<5|i>>>27)+n|0,a+=(i&u|n&~u)+h[6]-1069501632|0,a=(a<<9|a>>>23)+i|0,u+=(a&n|i&~n)+h[11]+643717713|0,u=(u<<14|u>>>18)+a|0,n+=(u&i|a&~i)+h[0]-373897302|0,n=(n<<20|n>>>12)+u|0,i+=(n&a|u&~a)+h[5]-701558691|0,i=(i<<5|i>>>27)+n|0,a+=(i&u|n&~u)+h[10]+38016083|0,a=(a<<9|a>>>23)+i|0,u+=(a&n|i&~n)+h[15]-660478335|0,u=(u<<14|u>>>18)+a|0,n+=(u&i|a&~i)+h[4]-405537848|0,n=(n<<20|n>>>12)+u|0,i+=(n&a|u&~a)+h[9]+568446438|0,i=(i<<5|i>>>27)+n|0,a+=(i&u|n&~u)+h[14]-1019803690|0,a=(a<<9|a>>>23)+i|0,u+=(a&n|i&~n)+h[3]-187363961|0,u=(u<<14|u>>>18)+a|0,n+=(u&i|a&~i)+h[8]+1163531501|0,n=(n<<20|n>>>12)+u|0,i+=(n&a|u&~a)+h[13]-1444681467|0,i=(i<<5|i>>>27)+n|0,a+=(i&u|n&~u)+h[2]-51403784|0,a=(a<<9|a>>>23)+i|0,u+=(a&n|i&~n)+h[7]+1735328473|0,u=(u<<14|u>>>18)+a|0,n+=(u&i|a&~i)+h[12]-1926607734|0,n=(n<<20|n>>>12)+u|0,i+=(n^u^a)+h[5]-378558|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^u)+h[8]-2022574463|0,a=(a<<11|a>>>21)+i|0,u+=(a^i^n)+h[11]+1839030562|0,u=(u<<16|u>>>16)+a|0,n+=(u^a^i)+h[14]-35309556|0,n=(n<<23|n>>>9)+u|0,i+=(n^u^a)+h[1]-1530992060|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^u)+h[4]+1272893353|0,a=(a<<11|a>>>21)+i|0,u+=(a^i^n)+h[7]-155497632|0,u=(u<<16|u>>>16)+a|0,n+=(u^a^i)+h[10]-1094730640|0,n=(n<<23|n>>>9)+u|0,i+=(n^u^a)+h[13]+681279174|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^u)+h[0]-358537222|0,a=(a<<11|a>>>21)+i|0,u+=(a^i^n)+h[3]-722521979|0,u=(u<<16|u>>>16)+a|0,n+=(u^a^i)+h[6]+76029189|0,n=(n<<23|n>>>9)+u|0,i+=(n^u^a)+h[9]-640364487|0,i=(i<<4|i>>>28)+n|0,a+=(i^n^u)+h[12]-421815835|0,a=(a<<11|a>>>21)+i|0,u+=(a^i^n)+h[15]+530742520|0,u=(u<<16|u>>>16)+a|0,n+=(u^a^i)+h[2]-995338651|0,n=(n<<23|n>>>9)+u|0,i+=(u^(n|~a))+h[0]-198630844|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~u))+h[7]+1126891415|0,a=(a<<10|a>>>22)+i|0,u+=(i^(a|~n))+h[14]-1416354905|0,u=(u<<15|u>>>17)+a|0,n+=(a^(u|~i))+h[5]-57434055|0,n=(n<<21|n>>>11)+u|0,i+=(u^(n|~a))+h[12]+1700485571|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~u))+h[3]-1894986606|0,a=(a<<10|a>>>22)+i|0,u+=(i^(a|~n))+h[10]-1051523|0,u=(u<<15|u>>>17)+a|0,n+=(a^(u|~i))+h[1]-2054922799|0,n=(n<<21|n>>>11)+u|0,i+=(u^(n|~a))+h[8]+1873313359|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~u))+h[15]-30611744|0,a=(a<<10|a>>>22)+i|0,u+=(i^(a|~n))+h[6]-1560198380|0,u=(u<<15|u>>>17)+a|0,n+=(a^(u|~i))+h[13]+1309151649|0,n=(n<<21|n>>>11)+u|0,i+=(u^(n|~a))+h[4]-145523070|0,i=(i<<6|i>>>26)+n|0,a+=(n^(i|~u))+h[11]-1120210379|0,a=(a<<10|a>>>22)+i|0,u+=(i^(a|~n))+h[2]+718787259|0,u=(u<<15|u>>>17)+a|0,n+=(a^(u|~i))+h[9]-343485551|0,n=(n<<21|n>>>11)+u|0,f[0]=i+f[0]|0,f[1]=n+f[1]|0,f[2]=u+f[2]|0,f[3]=a+f[3]|0}function c(f){var h=[],i;for(i=0;i<64;i+=4)h[i>>2]=f.charCodeAt(i)+(f.charCodeAt(i+1)<<8)+(f.charCodeAt(i+2)<<16)+(f.charCodeAt(i+3)<<24);return h}function l(f){var h=[],i;for(i=0;i<64;i+=4)h[i>>2]=f[i]+(f[i+1]<<8)+(f[i+2]<<16)+(f[i+3]<<24);return h}function d(f){var h=f.length,i=[1732584193,-271733879,-1732584194,271733878],n,u,a,S,M,D;for(n=64;n<=h;n+=64)s(i,c(f.substring(n-64,n)));for(f=f.substring(n-64),u=f.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<u;n+=1)a[n>>2]|=f.charCodeAt(n)<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(s(i,a),n=0;n<16;n+=1)a[n]=0;return S=h*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(S[2],16),D=parseInt(S[1],16)||0,a[14]=M,a[15]=D,s(i,a),i}function p(f){var h=f.length,i=[1732584193,-271733879,-1732584194,271733878],n,u,a,S,M,D;for(n=64;n<=h;n+=64)s(i,l(f.subarray(n-64,n)));for(f=n-64<h?f.subarray(n-64):new Uint8Array(0),u=f.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<u;n+=1)a[n>>2]|=f[n]<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(s(i,a),n=0;n<16;n+=1)a[n]=0;return S=h*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(S[2],16),D=parseInt(S[1],16)||0,a[14]=M,a[15]=D,s(i,a),i}function m(f){var h="",i;for(i=0;i<4;i+=1)h+=r[f>>i*8+4&15]+r[f>>i*8&15];return h}function g(f){var h;for(h=0;h<f.length;h+=1)f[h]=m(f[h]);return f.join("")}g(d("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(t=function(f,h){var i=(f&65535)+(h&65535),n=(f>>16)+(h>>16)+(i>>16);return n<<16|i&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function f(h,i){return h=h|0||0,h<0?Math.max(h+i,0):Math.min(h,i)}ArrayBuffer.prototype.slice=function(h,i){var n=this.byteLength,u=f(h,n),a=n,S,M,D,Vt;return i!==e&&(a=f(i,n)),u>a?new ArrayBuffer(0):(S=a-u,M=new ArrayBuffer(S),D=new Uint8Array(M),Vt=new Uint8Array(this,u,S),D.set(Vt),M)}}();function y(f){return/[\\u0080-\\uFFFF]/.test(f)&&(f=unescape(encodeURIComponent(f))),f}function x(f,h){var i=f.length,n=new ArrayBuffer(i),u=new Uint8Array(n),a;for(a=0;a<i;a+=1)u[a]=f.charCodeAt(a);return h?u:n}function R(f){return String.fromCharCode.apply(null,new Uint8Array(f))}function v(f,h,i){var n=new Uint8Array(f.byteLength+h.byteLength);return n.set(new Uint8Array(f)),n.set(new Uint8Array(h),f.byteLength),i?n:n.buffer}function W(f){var h=[],i=f.length,n;for(n=0;n<i-1;n+=2)h.push(parseInt(f.substr(n,2),16));return String.fromCharCode.apply(String,h)}function A(){this.reset()}return A.prototype.append=function(f){return this.appendBinary(y(f)),this},A.prototype.appendBinary=function(f){this._buff+=f,this._length+=f.length;var h=this._buff.length,i;for(i=64;i<=h;i+=64)s(this._hash,c(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},A.prototype.end=function(f){var h=this._buff,i=h.length,n,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a;for(n=0;n<i;n+=1)u[n>>2]|=h.charCodeAt(n)<<(n%4<<3);return this._finish(u,i),a=g(this._hash),f&&(a=W(a)),this.reset(),a},A.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},A.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},A.prototype.setState=function(f){return this._buff=f.buff,this._length=f.length,this._hash=f.hash,this},A.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},A.prototype._finish=function(f,h){var i=h,n,u,a;if(f[i>>2]|=128<<(i%4<<3),i>55)for(s(this._hash,f),i=0;i<16;i+=1)f[i]=0;n=this._length*8,n=n.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(n[2],16),a=parseInt(n[1],16)||0,f[14]=u,f[15]=a,s(this._hash,f)},A.hash=function(f,h){return A.hashBinary(y(f),h)},A.hashBinary=function(f,h){var i=d(f),n=g(i);return h?W(n):n},A.ArrayBuffer=function(){this.reset()},A.ArrayBuffer.prototype.append=function(f){var h=v(this._buff.buffer,f,!0),i=h.length,n;for(this._length+=f.byteLength,n=64;n<=i;n+=64)s(this._hash,l(h.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(h.buffer.slice(n-64)):new Uint8Array(0),this},A.ArrayBuffer.prototype.end=function(f){var h=this._buff,i=h.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u,a;for(u=0;u<i;u+=1)n[u>>2]|=h[u]<<(u%4<<3);return this._finish(n,i),a=g(this._hash),f&&(a=W(a)),this.reset(),a},A.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},A.ArrayBuffer.prototype.getState=function(){var f=A.prototype.getState.call(this);return f.buff=R(f.buff),f},A.ArrayBuffer.prototype.setState=function(f){return f.buff=x(f.buff,!0),A.prototype.setState.call(this,f)},A.ArrayBuffer.prototype.destroy=A.prototype.destroy,A.ArrayBuffer.prototype._finish=A.prototype._finish,A.ArrayBuffer.hash=function(f,h){var i=p(new Uint8Array(f)),n=g(i);return h?W(n):n},A})});var N=class e{constructor(t,r){this.operation=t;this.data=r}static NONCE="z3ZCw_12v";nonce=e.NONCE;static fromObject(t){return!t||t.nonce!==e.NONCE?null:new e(t.operation,t.data)}validate(){return this.nonce===e.NONCE}};var z=class{crawlId;installId;zys;dateCrawlStarted;dateCrawled;crawlUrl;fragmentIndex;youTubeChannelId;youTubeChannelName;youTubeVideoId;constructor(t,r,o,s,c,l,d,p){this.crawlId=t,this.installId=r,this.zys=o,this.dateCrawlStarted=s,this.dateCrawled=c,this.crawlUrl=l,this.fragmentIndex=d,Object.assign(this,p)}get ads(){return this.zys}set ads(t){this.zys=t}};var lt=Ct(ut(),1);var _=class{x;y;width;height;text;sourceUrls;hash;hashOverride;type;typeOverride;canvases;svgs;depth;adRuleId;dedupeKey;duration;language;youTubeId;netflixData;tikTokData;twitterData;vastData;outerHtml;static minWidth=120;static minHeight=28;static minimumVideoToAdAreaRatio=.5;static minimumImageToAdAreaRatio=.05;constructor(t){this.x=t.x??0,this.y=t.y??0,this.width=t.width,this.height=t.height,this.text=t.text??"",this.sourceUrls=t.sourceUrls??[],this.hash=t.hash??"",this.type=t.type,this.canvases=[],this.svgs=[],this.depth=0,this.adRuleId=t.adRuleId,this.duration=t.duration,this.language=t.language,this.youTubeId=t.youTubeId,this.netflixData=t.netflixData,this.tikTokData=t.tikTokData,this.twitterData=t.twitterData,this.vastData=t.vastData}};var w=class e{u;t;h;d;width;height;constructor(t){this.u=e.qualifyURL(t.url,t.doc),this.t=t.urlType,this.d=t.depth,this.width=t.width,this.height=t.height}get url(){return this.u}set url(t){this.u=t}get urlType(){return this.t}set urlType(t){this.t=t}get depth(){return this.d}set depth(t){this.d=t}get hash(){return this.h}set hash(t){this.h=t}static SourceUrlTags=new Set(["A","DIV","IFRAME","IMG","LINK","SCRIPT","SPAN","VIDEO"]);static qualifyURL(t,r){if(!t||new RegExp("^(?:\\\\w+-extension)|(?:about)|(?:blob)|(?:javascript):").test(t))return"";r=r||document;let o=r.createElement("a");return o.href=t,o.href}};async function Y(e,t){if(!e)return[];let r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c=>w.SourceUrlTags.has(c.nodeName)||c?.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),o=[],s=r.currentNode;for(;s;){o.push(...await We(s,t));let c=s?.shadowRoot;c&&o.push(...await Y(c?.firstElementChild,t)),s=r.nextNode()}return o.filter(c=>c.url)}async function We(e,t){if(!e||!w.SourceUrlTags.has(e.nodeName))return[];if(e.nodeName=="IMG")return[await jt(e,t)];if(e.nodeName=="DIV"||e.nodeName=="SPAN"){let s=/url\\(['"]?([^'"]+)['"]?\\)/gi,c=getComputedStyle(e).getPropertyValue("background-image");return Promise.all(Array.from(c.matchAll(s)).filter(l=>l).map(l=>l[1]).map(async l=>{try{let d=new Image;return d.src=l,await d.decode(),jt(d,t)}catch{return new w({url:l,urlType:7,depth:t,doc:e?.ownerDocument})}}))}if(e.nodeName==="VIDEO"){if(e=e.hasAttribute("src")?e:e.querySelector("source"),!e)return[];let s=e.getBoundingClientRect(),c=Math.round(s.width),l=Math.round(s.height);return[new w({url:e.getAttribute("src"),urlType:4,depth:t,width:c,height:l,doc:e.ownerDocument})]}if(e.nodeName==="IFRAME")return[new w({url:e.getAttribute("src"),urlType:1,depth:t,width:e.offsetWidth,height:e.offsetHeight,doc:e.ownerDocument})];let r=null,o=0;switch(e.nodeName){case"SCRIPT":r=e.getAttribute("src"),o=6;break;case"LINK":r=e.getAttribute("href"),o=6;break;case"A":r=e.getAttribute("href"),o=8;break}return[new w({url:r,urlType:o,depth:t,doc:e.ownerDocument})]}async function jt(e,t){let r=e.getAttribute("src"),o=e.getBoundingClientRect(),s=Math.round(e.naturalWidth||o.width),c=Math.round(e.naturalHeight||o.height);if(!(s||c)&&r)try{let d=new Image;d.src=r,await d.decode(),s=d.naturalWidth,c=d.naturalHeight}catch{}let l=0;return(o.width||s)<2&&(o.height||c)<2||s===43&&c===22||o.y+window.scrollY<5&&(o.width||s)<85&&(o.height||c)<=20?l=7:l=3,new w({url:r,urlType:l,depth:t,width:o.width||s,height:o.height||c,doc:e.ownerDocument})}async function ht(e,t){e.sourceUrls=ft(e.sourceUrls,l=>l.u);let r=e.sourceUrls.filter(l=>l.t===3||l.t===4),s=r.filter(l=>l.t===3).sort((l,d)=>(l.width||0)*(l.height||0)-(d.width||0)*(d.height||0)).pop(),c=r.filter(l=>l.t===4);if(e.type=e.typeOverride??(r.length===1&&(r[0].width||0)>=e.width-2&&(r[0].height||0)>=e.height-2?r[0].t===3?1:3:c.length===1&&(c[0].width||0)*(c[0].height||0)>=e.width*e.height*_.minimumVideoToAdAreaRatio?3:7),e.hashOverride)return e.hash=e.hashOverride;if(e.type===7&&!c.length&&(s?.width||0)*(s?.height||0)<e.width*e.height*_.minimumImageToAdAreaRatio)return e.hash="";for(let l of r)l.h=await dt(l.u||"",t);if(e.hash=r.filter(l=>l.h).reduce((l,d)=>X(l,d.h),"")||"",e.type===3&&!e.hash&&(e.hash=j(r[0].u??"",!0)),e.type===7&&e.text){let l=j(e.text.toLowerCase(),!0);e.hash=X(e.hash,l)}if(e.hash||(e.canvases?.length&&(e.hash=e.canvases.reduce((l,d)=>X(j(d),l),e.hash)),e.svgs?.length&&(e.hash=e.svgs.reduce((l,d)=>X(j(d),l),e.hash))),e.type===7&&e.hash){let l=j(Ge(Gt(Math.round(e.height)),Gt(Math.round(e.width))),!0);e.hash=X(e.hash,l)}r.forEach(l=>{l.h&&(l.h=btoa(l.h))}),e.hash=btoa(e.hash)}async function dt(e,t){try{return j(await t(e))}catch(r){return b(r),""}}function j(e,t){if(je(e)==="arraybuffer"){let r=e;return r.byteLength===0?"":lt.default.ArrayBuffer.hash(r,!0)}else{let r=e;return t?lt.default.hash(r,!0):lt.default.hashBinary(r,!0)}}function je(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function X(e,t){if(!t)return e||"";if(!e)return t;if(e.length<t.length){let c=e;e=t,t=c}let r=e.length,o=t.length,s="";for(let c=0;c<o;c++)s+=String.fromCharCode(e.charCodeAt(c)^t.charCodeAt(c));for(let c=o;c<r;c++)s+=String.fromCharCode(e.charCodeAt(c));return s}function Gt(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!0),t}function Ge(e,t){let r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}var B=3e3;var Tt="pc",Nt="ca",tt=72e5,Q=null;function b(...e){Q&&(e=e||[],e=e.map(t=>t?.stack&&t.message?{error:t.message,stack:t.stack}:t),e=e.map(t=>typeof t!="object"||t instanceof String?t:JSON.stringify(t)),e.length==1?Q(e[0]):Q(e))}function Xt(e){Q=e||Q}var pt=class{constructor(t,r,o,s){let c=Kt(t);c==="object"?(this.left=0,Object.assign(this,t)):c==="number"&&(this.left=Math.round(Math.max(t||0,0))||0,this.top=Math.round(Math.max(r||0,0))||0,this.width=Math.round(Math.max(o||0,0))||0,this.height=Math.round(Math.max(s||0,0))||0)}get bottom(){return this.top+this.height}get right(){return this.left+this.width}toString(){return\`\${this.width}x\${this.height}@\${this.left},\${this.top}\`}};function $e(){return("10000000-1000-1000-1000"+-1e11).replace(/[01]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function Kt(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function Je(e,t){let r={},o=Object.keys(t);for(let s=0,c=o.length;s<c;s++){let l=o[s];if(t.hasOwnProperty(l)){let d=t[l];if(d==null||d===""&&e[l]||d instanceof Array&&!d.length&&e[l]?.length||(l==="top"||l==="left"||l==="X"||l==="Y")&&e[l]>0)continue;r[l]=t[l]}}return Object.assign(e,t)}function E(e){try{return e()}catch{return null}}var rn=Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").map(e=>e.charCodeAt(0));function Yt(e){return e.tagName?.toUpperCase?.()||E(()=>e.outerHTML.substr(1,e.outerHTML.indexOf(" ")-1).toUpperCase())||""}function $t(e){let t=0,r="",o={" ":1,"\\f":1,"\\n":1,"\\r":1,"	":1,"\\v":1,"\\xA0":1,"\\u2028":1,"\\u2029":1};for(let s=0,c=e.length;s<c;s++)o[e.charAt(s)]?(t||(r+=" "),t=1):(t=0,r+=e.charAt(s));return r.trim()}function U(){return ze(C.location.hostname)}function ze(e){return e.split(".").slice(e.endsWith(".uk")||e.endsWith(".jp")?-3:-2).join(".")}function yt(){let e=new Set(["aarp.org","abc.com","aol.com","attn.com","atttvnow.com","brainly.com","bravotv.com","cartoonnetwork.com","cbs.com","cbssports.com","chron.com","citationmachine.net","cnet.com","cnn.com","crunchyroll.com","dailymail.co.uk","delish.com","discoveryplus.com","easybib.com","espn.com","fandom.com","foxbusiness.com","foxnews.com","fubo.tv","genius.com","go.cnn.com","go.com","goodhousekeeping.com","happykids.tv","hulu.com","imdb.com","investigationdiscovery.com","linkedin.com","locast.org","mlb.com","msn.com","music.amazon.com","music.apple.com","music.youtube.com","mytuner-radio.com","nexusmods.com","nfl.com","nhl.com","nypost.com","nytimes.com","paramountplus.com","pch.com","philo.com","playstation.com","pluto.tv","rawstory.com","realtor.com","refinery29.com","seattlepi.com","sfgate.com","sling.com","spanishdict.com","sporcle.com","steampowered.com","tablotv.com","therokuchannel.roku.com","try.frndlytv.com","tubitv.com","tv.apple.com","tv.youtube.com","twitch.tv","uproxx.com","usatoday.com","vudu.com","washingtonpost.com","watch.hgtv.com","watch.spectrum.net","weather.com","www3.nhk.or.jp","xbox.com","xfinity.com","yahoo.com","yelp.com","youtubekids.com"]);return T&&(e.has(C.location.hostname)||e.has(U()))}function O(e){e.documentElement&&(e=e.documentElement);let t=Yt(e);if(e.offsetParent===null&&t!=="BODY"&&t!=="HTML"&&t!=="FRAME")return new pt;let o=(e.ownerDocument||document).defaultView||C,s=e.getBoundingClientRect();return new pt(s.left+o.scrollX,s.top+o.scrollY,s.width,s.height)}var Jt=["background-image","display","visibility","z-index","border-top-width","border-left-width","border-bottom-width","border-right-width","padding-top","padding-left","padding-bottom","padding-right","position","width","height","top","bottom","left","right","font-size"];function Xe(e){if(e._pm_st)return e.style&&(e._pm_st=Je(e._pm_st,JSON.parse(JSON.stringify(e.style,Jt)))),e._pm_st;let t=e.ownerDocument?.defaultView;typeof window<"u"&&(!t||!t.opener)&&(t=window);let r=JSON.parse(JSON.stringify(t.getComputedStyle(e),Jt));return e._pm_st=r,r}function Qt(e,t){let r=e.nodeName,o=Xe(e),s=O(e);if(o?.display!=="none"&&s&&s.width>20&&s.height>20)if(r==="CANVAS"&&!e.matches(".__pm_marker"))try{t.canvases.push(e.toDataURL("image/jpeg",.2))}catch{}else r==="SVG"&&t.svgs.push(e.outerHTML)}function wt(e){if(!e)return"";let t=e?.ownerDocument||document,r=t.defaultView.NodeFilter;if(Kt(e)==="htmldocument"&&e.body&&(e=e.body),!e)return"";let o={SCRIPT:1,NOSCRIPT:1,STYLE:1},s=Yt(e);if(s==="HTML"&&(e=e.querySelector("body")),!e)return"";let c=function(m){try{return m.nodeType===3?r.FILTER_ACCEPT:!m.tagName||o[m.tagName]||m.offsetParent===null?r.FILTER_REJECT:r.FILTER_ACCEPT}catch{return r.FILTER_REJECT}};if(e.nodeType!==3&&(!s||o[s]))return"";let l=t.createTreeWalker(e,r.SHOW_ELEMENT|r.SHOW_TEXT,{acceptNode:c},!0),d={"LEARN MORE":1,REPLAY:1},p=[];for(;e;){if(e.nodeType===3){let m=$t(e.nodeValue||"");!d[m.toUpperCase()]&&!p.includes(m)&&p.push(m)}e=l.nextNode()}return p.length?$t(p.join(" ")):""}function V(e,t){return C.requestIdleCallback?{id:C.requestIdleCallback(e,{timeout:t}),isIdleCallback:!0}:{id:setTimeout(e,t),isIdleCallback:!1}}var Z=null;function P(e){Z=e||Z}function Rt(){Z=null}function Zt(){if(typeof window>"u")return;let e=function(d,p,m,g){V(()=>{!Z||!d||Z(d,p,m,g)},1e4)},t=d=>new TextDecoder("utf-8").decode(new Uint8Array(d)),r=function(d,p){try{if(p=d.currentTarget||p,p=p._datadog_xhr||p,p.readyState===4&&p.status>=200&&p.status<=210){let m=E(()=>p.responseXML),g=E(()=>p.responseText)||E(()=>t(p.response)||JSON.stringify(p.response))||E(()=>m.documentElement.outerHTML);(g||m)&&e(g,m,p.reponseType==="json",p.responseURL)}}catch{}},o=XMLHttpRequest.prototype.send;function s(){let d=this.onreadystatechange,p=arguments;this.onreadystatechange=function(m){return r(m,this),d?.apply?.(this,arguments)},o.apply(this,p)}XMLHttpRequest.prototype.send=s;let c=C.fetch,l=function(){return c.apply(this,arguments).then(async d=>{let p=d.headers.get("Content-Type");if(p&&(p.includes("text")||p.includes("json")||p.includes("xml")||p.includes("javascript"))){let m=d.clone(),g=await m.text();e(g,null,p.includes("json"),m.url)}return d})};C.fetch=l}function Pt(e){if(!e)return null;let t=null;return e=(e+"").trim(),e=="start"?t=0:e.indexOf(":")>=0?t=E(()=>Math.round(e.split(":").reduce((r,o,s,c)=>r+parseFloat(o)*Math.pow(60,c.length-s-1),0)))||t:isNaN(e)||(t=Math.round(parseFloat(e))),t}var te,$,ee,It,H,mt,gt;function re(e){H[e.dedupeKey]?.depth>e.depth||H[e.dedupeKey]?.depth===e.depth&&H[e.dedupeKey].adRuleId<e.adRuleId||(H[e.dedupeKey]=e)}function Ke(){let e=C.location;return e.href.indexOf("youtube.com/watch")===-1?e.origin+e.pathname:e.href}async function Ye(e){await Promise.all(e.map(t=>ht(t,L)))}async function Qe(){let e=Object.values(H),t=Object.values(mt);return H={},mt={},await Ye(e),new z(te,At,e.concat(t).filter(r=>r.hash),$-(F?.TimeOffset||0),Date.now()-(F?.TimeOffset||0),It,ee++,gt)}function I(e,t,r){if(!T){q(top,new N(Tt,[e,t]));return}e.forEach(o=>mt[o.hash]=o),gt=t||gt,k(r)}var zt=0;async function k(e){let t=Date.now();if(t-zt>B||e){zt=t;let r=await Qe();Mt?.(JSON.stringify(r))}}function ne(){if(!T)return;te=$e(),$=Date.now(),ee=0;let e=F?.ParsedSiteConfigs[U()];if(e){let t=new RegExp(e).exec(location.href);It=t?t.slice(1).join(""):location.protocol+"://"+location.hostname}else It=Ke();H={},mt={},gt=void 0}function Ze(e,t){return e.reduce(function(r,o){return(r[t(o)]=r[t(o)]||[]).push(o),r},{})}function ft(e,t){return Object.values(Ze(e,t)).map(r=>r[0])}function q(e,t){e.postMessage(t,"*")}var se=Ct(ut(),1);var tr=/^https:\\/\\/hulu-ad-asset\\/([0-9]+)$/,ie=100,et=new Map,rt=new Map;function ae(){b("HULU AD CAPTURE"),P((e,t,r,o)=>{try{if(!o?.includes("playlist")&&(!o?.includes("manifest.mpd")||r))return;if(o?.includes("playlist")&&er(e).forEach(d=>et.set(d.id,d.url)),o?.includes("manifest.mpd")&&!r){let l=E(()=>t?.documentElement||e&&new DOMParser().parseFromString(e,"application/xml").documentElement);rr(l).forEach(p=>rt.set(p.id,p.ad))}let s=[],c=[];rt.forEach((l,d)=>{let p=et.get(d);p&&(l.sourceUrls.push(new w({url:p,urlType:8})),s.push(l),c.push(d))}),c.forEach(l=>{et.delete(l),rt.delete(l)}),s.length&&I(s,void 0,!0),(et.size>ie||rt.size>ie)&&(et.clear(),rt.clear())}catch(s){b(s)}})}function er(e){try{return JSON.parse(e).breaks?.filter(t=>t.type!=="BlankAdBreakInfo"&&t.url&&t.clickthrough).map(t=>{let r=tr.exec(t.url);return r?{id:r[1],url:t.clickthrough}:null}).filter(t=>t)}catch(t){return b(t),[]}}function rr(e){var t=Array.from(e.querySelectorAll("Period[id^='ad-']"));return t.length?t.map(r=>{try{let o=Array.from(r.querySelectorAll("AdaptationSet[mimeType='video/mp4'] Representation")),s=Array.from(r.querySelectorAll("AdaptationSet[mimeType='audio/mp4'] Representation"));if(!o.length||!s.length)return null;let c=r.querySelector("AssetIdentifier")?.attributes.value.value,l=o.reduce(oe),d=l.querySelector("BaseURL").textContent,p=l.attributes,g=s.reduce(oe).querySelector("BaseURL").textContent;if(!c||!d||!g)return null;let y=parseInt(p.width.value),x=parseInt(p.height.value);return{id:c,ad:new _({width:y,height:x,sourceUrls:[new w({url:d,urlType:4,width:y,height:x}),new w({url:g,urlType:9})],hash:btoa(se.default.hash(d,!0)),type:3,duration:nr(r.attributes.duration.value)})}}catch(o){return b(o),null}}).filter(r=>r):[]}function oe(e,t){return parseInt(e.attributes.bandwidth.value)<parseInt(t.attributes.bandwidth.value)?e:t}function nr(e){let t=e.match(/PT(\\d+(\\.\\d+)?)S/);return t?Math.round(t[1]):null}var _t={},ce=!1;function ue(){if(b("NETFLIX AD CAPTURE"),!(typeof window>"u")){if(!ce){let e=Object.defineProperty;Object.defineProperty=function(r,o,s){return Date.now()-$<tt&&V(()=>{if(Object.hasOwn(r,"isAd")&&r.isAd){let c=ir(r);c&&(_t[c.hash]=c)}}),e(r,o,s)},ce=!0}I(Object.values(_t)),_t={}}}function ir(e){let t=e.movieId;if(!t||_t[t])return;let r=e.video_tracks[0].streams[0],o=r.res_w,s=r.res_h,c=e.audio_tracks[0].streams[0];return new _({hash:("n+++"+t).padEnd(t.length+4+(t.length+4)*6%8/2,"=").replace("===","A=="),type:3,sourceUrls:[new w({url:r.urls[0].url,urlType:4,width:o,height:s}),new w({url:c.urls[0].url,urlType:9})],width:o,height:s,duration:e.duration,language:c.language,netflixData:{id:t}})}function le(){b("TIKTOK AD CAPTURE"),P((e,t,r,o)=>{try{if(!o||!o.includes("item_list"))return;let s=or(e);I(s)}catch{}})}function or(e){return JSON.parse(e).itemList.filter(o=>o.isAd===!0).map(o=>{let s=o.ad_info,c=o.author,l=o.video;return new _({width:l.width,height:l.height,hash:s.ad_id,type:105,tikTokData:{adId:s.ad_id,creativeId:s.creative_id,postId:o.id,advertiserId:s.advertiser_id,accountName:c.uniqueId,displayName:c.nickname,caption:o.desc,cta:s.button_text,landingPage:s.web_url}})})}var nt=[];async function Ut(){b("TWITTER AD CAPTURE"),P((e,t,r,o)=>{try{if(!o||!o.includes("HomeTimeline")&&!(o.includes("/conversation/")&&o.includes("/"+/\\d+$/.exec(window.location.pathname)[0]+".json")))return;let s=sr(e);nt=nt.concat(s)}catch{}}),await ar()}function sr(e){let t=JSON.parse(e);return([].concat.apply([],t?.data?.home?.home_timeline_urt?.instructions?.filter?.(s=>s?.type=="TimelineAddEntries")?.map?.(s=>s.entries))||[]).map(s=>s.content?.itemContent).filter(s=>s?.promotedMetadata).map(s=>{let c=s.tweet_results?.result?.card?.legacy?.binding_values?.filter?.(d=>d?.key=="unified_card")?.map?.(d=>JSON.parse(d.value?.string_value))?.[0],l=c?.destination_objects?.browser_1?.data?.url_data?.url||c?.destination_objects?.browser_with_docked_media_1?.url_data?.url;return{id_str:s?.tweet_results?.result?.rest_id,screen_name:s?.tweet_results?.result?.core?.user_results?.result?.legacy?.screen_name,cardDestination:l,advertiserId:s?.promotedMetadata?.advertiser_results?.result?.rest_id,user_id_str:s?.tweet_results?.result?.legacy?.user_id_str}}).filter(s=>s.id_str&&s.screen_name)}async function ar(){if(!it)return;let e=await cr(document,nt),t=e.map(r=>r.twitterData.tid);nt=nt.filter(r=>!t.includes(r.id_str)),I(e)}async function cr(e,t){let o=Array.from(e.querySelectorAll("div.tweet.promoted-tweet"));o.length||(o=Array.from(e.querySelectorAll("article div>svg")).map(c=>c.parentElement.querySelector("span")).filter(c=>c?.textContent&&c.textContent.length<50).map(c=>c.closest("article"))),o.length||(o=Array.from(document.querySelectorAll("span")).filter(c=>c.textContent==="Ad").map(c=>c.closest("article")));let s=[];for(let c=0;c<o.length;c++){let l=o[c],d=Array.from(l.querySelectorAll("div>span,a span")).map(v=>v.textContent).filter(v=>v?.startsWith("@"))[0];d=d.startsWith("@")?d.substring(1):d;let p=null,m=null;for(m of t)if(m.screen_name==d&&(p=m.id_str,p))break;if(!p)continue;let g=wt(l);g&&(g=g.replace(new RegExp("# (\\\\w)","gi"),"#$1"));let y=O(l),x=new _({x:y.left,y:y.top,width:y.width,height:y.height,text:g,sourceUrls:(await Y(l.querySelector(".tweet-details-fixer")||l)).concat([new w({url:m.cardDestination,urlType:8})]).filter(v=>v.url&&!v.url.includes("/profile_images/")&&!v.url.includes(p+"/retweets")&&!v.url.includes(p+"/likes")&&!v.url.includes("/using-twitter/how-to")),hash:("t+++"+p).padEnd(p.length+4+(p.length+4)*6%8/2,"=").replace("===","A=="),type:l.querySelector("video")||l.querySelector(".PlayableMedia")?105:Array.from(l.querySelectorAll("img")).filter(v=>v.naturalWidth>200&&v.naturalHeight>40).length?104:l.querySelector("iframe")?102:103,twitterData:{taid:m.advertiserId||m.user_id_str||0,tid:p,tsn:d}}),R=(x.sourceUrls||[]).filter(v=>v?.url);x.sourceUrls=ft(R,v=>v.url),s.push(x)}return s}function Ot(){b("VAST AD CAPTURE"),P((e,t,r)=>{try{let o=e.substring(0,500),s=o.indexOf('"ad_id":')>=0||o.indexOf('"ad_type"')>=0,c=[];if(r||s)ur(e,c);else if(o.indexOf("<VAST ")>=0||o.indexOf("<vmap:AdBreak ")>=0){let l=E(()=>t?.documentElement||e&&new DOMParser().parseFromString(e,"application/xml").documentElement);lr(l,c)}else return;Promise.allSettled(c).then(l=>{b("Ads found.",l.map(d=>d.value)),I(l.map(d=>d.value).filter(d=>d))})}catch(o){b(o)}})}function ur(e,t){let r=E,o=r(()=>e&&JSON.parse(e)),s=r(()=>o.items);s?.length&&Array.from(s).forEach(c=>{let l=r(()=>c.media.streamurl);if(!l)return;let d=r(()=>c.clickthrough),p=r(()=>c.media.duration),m=r(()=>c.ad_id||c.ad_video_id),g=r(()=>c.title);m&&U()==="peacocktv.com"&&(m=m.split(".")[0]);let y=r(()=>c.system);t.push(dt(l,L).then(x=>new _({width:1920,height:1080,sourceUrls:[new w({url:l,urlType:4}),new w({url:d,urlType:8}),new w({url:"http://"+y,urlType:1})].filter(v=>v.url),hash:btoa(x)||m,type:3,duration:Math.round(p),vastData:{Id:m,Title:g,System:y}})))})}function lr(e,t){let r=E,o=r(()=>e?.querySelectorAll("VAST Ad"));o&&Array.from(o).forEach(s=>{let c=s.querySelector("Creatives Creative");if(!c)return;let l=c.querySelector("MediaFiles");if(!l)return;let d=r(()=>c.querySelector("VideoClicks ClickThrough").textContent.trim())||r(()=>document.querySelector(".AdUnitView a").href.trim()),p=r(()=>Pt(c.querySelector("Duration").textContent)),m=r(()=>l.querySelector("MediaFile[type='video/mp4'],MediaFile[type='application/dash+xml'],MediaFile[type='video/mpd']").textContent.trim());if(!m){let h=c.querySelector("AdParameters"),i={},n,u=new RegExp("<(\\\\w+)>([^<]+)</\\\\1>","gi");for(;(n=u.exec(h.textContent))!==null;)i[n[1]]=n[2];p=r(()=>Pt(i.adDuration)),d=r(()=>i.clickUrl);let a=i.JsParameters;if(!a)return;let S=JSON.parse(a);m=r(()=>S.videos[0].url),m&&(p=p||S.duration,d=d||S.clickThruUrl||S.clickThroughUrl)}if(!m)return;let g=c.getAttribute("AdID")||c.getAttribute("AdId")||c.getAttribute("adid")||s.getAttribute("id");if(!g)return;U()==="peacocktv.com"&&(g=g.split(".")[0]);let y=r(()=>s.querySelector("AdTitle").textContent.trim()),x=r(()=>s.querySelector("AdSystem").textContent.trim()),R=s.querySelector("Extension"),v=r(()=>R.querySelector("CreativeParameter[name='_fw_advertiser_name']").textContent.trim())||r(()=>R.querySelector("CreativeParameter[name='fw_advertiser_name']").textContent.trim())||r(()=>R.querySelector("CreativeParameter[name='fw_advertiser']").textContent.trim()),W=r(()=>R.querySelector("CreativeParameter[name='fw_brand']").textContent.trim()),A=r(()=>R.querySelector("CreativeParameter[name='industry']").textContent.trim()),f=r(()=>R.querySelector("CreativeParameter[name='ccr_measurement']").textContent.trim());t.push(dt(m,L).then(h=>new _({width:1920,height:1080,sourceUrls:[new w({url:m,urlType:4}),new w({url:d,urlType:8}),new w({url:f,urlType:0})].filter(i=>i.url),hash:btoa(h)||g,type:3,duration:Math.round(p),vastData:{Id:g,Adv:v,Brand:W,Cat:A,Title:y,System:x}})))})}var de=Ct(ut(),1);function hr(e){return e?new URL(e).searchParams.get("v"):null}var Dt;function bt(){return Dt||(Dt=document.querySelector("#movie_player")),Dt}function dr(){return E(()=>{let e=JSON.parse(bt().getDebugText());return e.ad_debug_videoId||e.addebug_videoId||e.ad_videoId})}function fr(){return E(()=>{let e=document.querySelector("#upload-info a.yt-simple-endpoint"),t=e.href.split("/");return{youTubeChannelId:t[t.length-1],youTubeChannelName:e.textContent.trim(),youTubeVideoId:E(()=>hr(window.location.href))}})}function pr(){let e=E(()=>document.querySelector(".ytp-ad-player-overlay-instream-info .ytp-ad-button-text").textContent);if(e&&yr.test(e)){let t=e.indexOf("http://")===0||e.indexOf("https://")===0?e:"https://"+e.toLowerCase();return new w({url:t,urlType:8})}return null}function mr(e){return e?btoa(de.default.hash("YouTube+"+e,!0)):null}function gr(){return E(()=>bt().getAdState()>0||JSON.parse(bt().getDebugText()).addebug_videoId)}var yr=new RegExp("^(?:https?://)?[a-z0-9.-]+(\\\\.[a-z]+)+(?:$|/)"),fe={};function he(e){[e?.playerAds??[],e?.adPlacements??[]].flat().map(t=>(t.adPlacementRenderer?.renderer?.linearAdSequenceRenderer?.linearAds?.map(r=>r?.instreamVideoAdRenderer)??[]).concat([t.adPlacementRenderer?.renderer?.instreamVideoAdRenderer])).flat().filter(t=>t).map(function(t){let r=t?.playerOverlay?.instreamAdPlayerOverlayRenderer?.visitAdvertiserRenderer?.buttonRenderer?.navigationEndpoint?.urlEndpoint?.url;return r?{videoId:t.externalVideoId,lp:r}:null}).filter(t=>t).reduce((t,r)=>Object.assign(t,{[r.videoId]:new w({url:r.lp,urlType:8})}),fe)}function pe(){try{if(P((p,m,g,y)=>{try{if(!y||!y.includes("/ad_break?")&&!y.includes("/player?"))return;he(JSON.parse(p))}catch(x){b(x)}}),!gr())return k();he(window.ytInitialPlayerResponse);let e=0,t=640,r=360,o=0,s=0,c=bt(),l=c.querySelector("a.ytp-title-link"),d=c.querySelector("video");if(d){e=d.duration||0;let p=O(d);t=p?.width||t,r=p?.height||r,o=p?.left||o,s=p?.top||s}V(()=>{let p=dr()||void 0,m=fe[p]??pr(),g=fr(),y=m?[m]:[],x=new _({x:o,y:s,width:t,height:r,text:l?.textContent,sourceUrls:y,hash:mr(p),type:3,duration:Math.round(e),youTubeId:p});I([x],g)})}catch(e){b(e)}}var ot=class{constructor(t=null){this.log=t,this.#t.log=t??(()=>{})}simplifyTree(t){let r;for(;;){if(r=this.#t[t.r],!r)throw new Error(\`Rule \${t.r} not implemented.\`);if(r!==this.#t.PassOn||!t.c||!t.c.length)break;t=t.c[0]}return t.c&&t.c.length&&(t.c=t.c.map(o=>this.simplifyTree(o))),t}debugPrintParseTree(t,r=0){this.log(\`\${" ".repeat(r*2)}\${t.r}: \${this.#t.GetText(t)}\`),t.c&&t.c.length&&t.c.forEach(o=>this.debugPrintParseTree(o,r+1))}isValidRuleName(t){return t.indexOf("TerminalNode")===0||!!this.#t[t]}evaluate(t,r){return this.#t.evaluate(t,r)}#t=class{static#s=0;static evaluate(t,r,o){try{if(!this[t.r])throw new Error(t.r+" is not a parser rule function.");return this[t.r](t,r,o)}catch(s){this.log("Error "+t.r+' at "'+this.GetText(t)+'": '+s)}}static#i=new RegExp(\`(?:^['"])|(?:['"]$)\`,"g");static#o=new RegExp("\\\\s+","g");static#a=this;static PassOn(t,r){return this.evaluate(t.c[0],r)}static NoOp(t){this.log(\`Unimplemented rule: \${t.r} at "\${this.GetText(t.t)}".\`)}static ExpStmt=this.PassOn;static ExpSequence=this.PassOn;static LitExp=this.PassOn;static Literal=this.PassOn;static ArrayLitExp=this.PassOn;static ArrayLit=this.PassOn;static ArrowFuncBody=this.PassOn;static ObjectLitExp=this.PassOn;static IdName=this.PassOn;static MultOperator=this.NoOp;static AdditionOperator=this.NoOp;static RelationalOperator=this.NoOp;static EqualityOperator=this.NoOp;static ReservedWord=this.NoOp;static AssignExp=this.NoOp;static VarModifier=this.NoOp;static FormalParameterList=this.NoOp;static FormalParameterArg=this.NoOp;static PropAssign=this.NoOp;static Exp=this.NoOp;static Assignable=this.NoOp;static AnonFunc=this.NoOp;static ArrowFuncParameters=this.NoOp;static PropName(t){return t.c?t.c[0].t:this.#r(t.t)}static ObjectLit(t,r){let o={};return t.c.forEach(s=>this.PropExpAssign(s,r,o)),o}static PropExpAssign(t,r,o){let s=this.evaluate(t.c[0],r),c=this.evaluate(t.c[1],r);o[s]=c}static#r(t){return t?.replaceAll(this.#i,"")}static StrLit(t){return this.#r(t?.t)}static NumLit(t){return Number.parseFloat(t?.t)}static IntLit(t){return Number.parseInt(t?.t)}static BoolLit(t){return t.t&&t.t=="true"}static NullLit(){return null}static IdExp(t,r){return this.evaluate(t.c[0],r)}static Id(t,r){return r[t.t]}static FuncExp(t,r){return this.evaluate(t.c[0],r)}static ArrowFunc(t,r){let o=t.c[0]?.c?.map(c=>this.#e(c)).flat(),s=this;return function(...c){o.forEach((d,p)=>{r[d]=c[p]});let l=s.evaluate(t.c[1],r);return o.forEach(d=>{delete r[d]}),l}}static AnonFuncDecl(t,r){let o=t.c[0]?.c?.map(c=>this.#e(c)).flat(),s=this;return function(...c){o.forEach((d,p)=>{r[d]=c[p]});let l=s.evaluate(t.c[1],r);return o.forEach(d=>{delete r[d]}),l}}static#e(t,r=null){return r=r??[],t.c?.forEach(o=>this.#e(o,r)),t.t&&r.push(t.t),r}static#c(t,r=0){this.log(\`\${"  ".repeat(r)}\${t.r}: \${this.GetText(t)}\`)}static GetText(t){return this.#e(t).join(" ")}static ElementList(t,r){return t.c.map(o=>this.evaluate(o,r))}static ArrayElem=this.PassOn;static ArgsExp(t,r){let o=t.c[0],s=this.evaluate(t.c[1],r),c=this.evaluate(o,r,s);return typeof c=="function"&&(c=c.apply(o._this??null,s)),delete o._this,c}static Args(t,r){return t.c.map(o=>this.evaluate(o,r))}static Arg(t,r){return this.evaluate(t.c[0],r)}static MemberDotExp(t,r,o){return this.#n(t,r,o,!0)}static MemberIndexExp(t,r,o){return this.#n(t,r,o)}static#n(t,r,o,s){let c=this.evaluate(t.c[0],r),l=s?t.c[1].t:this.evaluate(t.c[1],r);return this["_x_"+l]?this["_x_"+l](c,...o??[]):(t._this=c,c[l])}static ErrorNodeImpl(t){this.log(\`Error parsing \${t.r} at \${t.t} (unexpected token?)\`)}static AdditiveExp(t,r){switch(t.c[1].t){case"+":return this.evaluate(t.c[0],r)+this.evaluate(t.c[2],r);case"-":return this.evaluate(t.c[0],r)-this.evaluate(t.c[2],r);default:throw new Error("Unknown binary operator "+t.c[1].t)}}static MultiplicativeExp(t,r){switch(t.c[1].t){case"*":return this.evaluate(t.c[0],r)*this.evaluate(t.c[2],r);case"/":return this.evaluate(t.c[0],r)/this.evaluate(t.c[2],r);case"%":return this.evaluate(t.c[0],r)%this.evaluate(t.c[2],r);default:throw new Error("Unknown binary operator "+t.c[1].t)}}static RelationalExp(t,r){switch(t.c[1].t){case">":return this.evaluate(t.c[0],r)>this.evaluate(t.c[2],r);case"<":return this.evaluate(t.c[0],r)<this.evaluate(t.c[2],r);case">=":return this.evaluate(t.c[0],r)>=this.evaluate(t.c[2],r);case"<=":return this.evaluate(t.c[0],r)<=this.evaluate(t.c[2],r);default:throw new Error("Unknown binary operator "+t.c[1].t)}}static EqualityExp(t,r){switch(t.c[1].t){case"==":return this.evaluate(t.c[0],r)==this.evaluate(t.c[2],r);case"!=":return this.evaluate(t.c[0],r)!=this.evaluate(t.c[2],r);case"===":return this.evaluate(t.c[0],r)===this.evaluate(t.c[2],r);case"!==":return this.evaluate(t.c[0],r)!==this.evaluate(t.c[2],r);default:throw new Error("Unknown binary operator "+t.c[1].t)}}static TernaryExp(t,r){return this.evaluate(t.c[0],r)?this.evaluate(t.c[1],r):this.evaluate(t.c[2],r)}static CoalesceExp(t,r){return this.evaluate(t.c[0],r)??this.evaluate(t.c[1],r)}static InstanceofExp(t,r){return this.evaluate(t.c[0],r)instanceof this.evaluate(t.c[1],r)}static LogicalAndExp(t,r){return this.evaluate(t.c[0],r)&&this.evaluate(t.c[1],r)}static LogicalOrExp(t,r){return this.evaluate(t.c[0],r)||this.evaluate(t.c[1],r)}static UnaryPlusExp(t,r){return+this.evaluate(t.c[0],r)}static UnaryMinusExp(t,r){return-this.evaluate(t.c[0],r)}static BitNotExp(t,r){return~this.evaluate(t.c[0],r)}static NotExp(t,r){return!this.evaluate(t.c[0],r)}static ParenthesizedExp(t,r){return this.evaluate(t.c[0],r)}static Eos(){return null}static _x_query(t,r){return Array.from(t?.querySelectorAll(r)??[])}static _x_where(t,r){return t?.filter(r)}static _x_select(t,...r){let o=r.length;if(!r||o===0)throw new Error("Method 'select' expects on or more arrow functions.");return t?.map((s,c)=>{if(o>1){let l=[];for(let d=0;d<o-1;d++)l[d]=r[d](s,...d==0?[c]:l);return r[o-1](s,...l)}else return r[0](s,c)})}static _x_width(t){return t?.offsetWidth}static _x_height(t){return t?.offsetHeight}static _x_text(t){return t?.textContent?.trim()?.replaceAll(this.#o," ")}static _x_parent(t){return t?.parentNode}static _x_matchRegExp(t,r,o){return t.match(new RegExp(r,o))}}};function Ft(e){if(e.checkVisibility&&!e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}))return!1;let t=e.ownerDocument,r=t.defaultView,o=r?.getComputedStyle(e);if(o&&(o.opacity==="0"||o.visibility==="hidden"))return!1;let s=e.getBoundingClientRect();if(!s||s.width<=0||s.height<=0)return!1;let{top:c,left:l,right:d,bottom:p}=s;if(d<0||p<0)return!1;let m=r?.innerWidth||t.documentElement.clientWidth,g=r?.innerHeight||t.documentElement.clientHeight;if(c>g||l>m)return!1;let y=e.parentNode;if(y&&y instanceof Element&&getComputedStyle(y).overflow==="hidden"){let x=y.getBoundingClientRect();if(p<x.top||c>x.bottom||d<x.left||l>x.right)return!1}return!0}function me(e,t){return r=>new Promise(o=>{let s=e+"-response",c=Math.random(),l=p=>{let{type:m,payload:g,nonce:y}=p.data??{};m!==s||y!==c||(o(g),d())},d=()=>{window.removeEventListener("message",l)};window.addEventListener("message",l),s==="getFrameId-response"?r.postMessage(new N("getFrameId",c),"*"):window.postMessage({type:e,nonce:c,payload:r},"*"),t&&setTimeout(o,t)})}var ye,we,Ae,J,xt=new Set,St=new Set,Lt=new Set,ct=!1,Ht=[],_e=[],Mt,L,F,At,it,C=typeof window>"u"?{location:{hostname:""}}:window,T=C.top===C.self,wr=(Math.random()+1).toString(36).substring(2),Ar=2e3,be=7e3,_r=5*be,br=2e3;function at(e,t,...r){let o=setTimeout(e,t,...r);return xt.add(o),o}function st(e,t,...r){let o=setInterval(e,t,...r);return St.add(o),o}function Bt(e,t){let r=V(e,t);return r.isIdleCallback?Lt.add(r.id):xt.add(r.id),r}var vr={"hulu.com":[ae],"netflix.com":[ue],"tiktok.com":[le],"twitter.com":[Ut],"x.com":[Ut],"youtube.com":[pe]};ct||(typeof U<"u"&&(J=U()),typeof yt<"u"&&(yt()||ve())&&Zt());function ve(){return vr[J]}function xr(){if(!T||!it)return;if(yt()){Ot();let s=new Set,c=()=>{let l=Array.from(C.frames).concat(Array.from(document.querySelectorAll("frame,iframe")).map(d=>E(d.contentWindow)).filter(d=>d));for(let d=0;d<l.length;d++)try{let p=l[d];if(!p||s.has(p))continue;q(p,new N(Nt,tt-(Date.now()-$))),s.add(p)}catch(p){b(p)}};c(),st(c,5e3)}let e=Date.now(),t=ve(),r=function(s){e=Date.now(),Bt(async()=>{for(let c=0,l=t?.length;t&&c<l;c++)await t[c].call();T&&(t||s)&&k()},B-500)},o=st(r,B);r(!0),st(()=>{Date.now()-e>B*5&&(clearInterval(o),St.delete(o),o=st(r,B),r(!0))},B)}function xe(){T&&(J=U(),xt=new Set,St=new Set,Lt=new Set,ne(),k())}function Sr(){if(!T)return;let e=F.AdRules.filter(o=>!o.Hostnames||o.Hostnames.startsWith("^")&&!o.Hostnames.includes(J)),t=F.AdRules.filter(o=>o.Hostnames&&!o.Hostnames.startsWith("^")&&o.Hostnames.includes(J)),r=e.concat(t);at(()=>{kr();let o=st(()=>{ge(r)},be);ge(r),at(()=>{t.length?r=t:clearInterval(o)},_r)},Ar)}var Er=new Set(["facebook.com","hulu.com","netflix.com","twitter.com","x.com"]);function Se(){xr(),Er.has(J)||Sr(),at(Tr,tt)}function Cr(e){if(!T)return;let t=C.location.href.split("#")[0];setInterval(()=>{let r=C.location.href.split("#")[0];r!==t&&(t=r,e())},1e3)}function Ee(){xt.forEach(e=>clearTimeout(e)),St.forEach(e=>clearInterval(e)),Lt.forEach(e=>cancelIdleCallback(e))}function Ir(){Ee(),xe(),Se()}function Tr(){Rt(),Ee()}function Nr(e){ct?ht(e,L).then(()=>window.dispatchEvent(new CustomEvent("displayAdFound",{detail:e}))):re(e)}async function Rr(e){try{let t=N.fromObject(e.data);if(!t)return;let r=t.data;switch(t.operation){case Nt:r>0&&(Ot(),at(Rt,r));break;case Tt:I(r[0],r[1]);break;case"extractDisplayAd":T||await vt(document.documentElement,r);break;case"displayAdFound":T&&Nr(r);break;case"getFrameId":q(e.source,{type:"getFrameId-response",payload:wr,nonce:r});break}}catch(t){b(t);return}}function Pr(){function e(){C.addEventListener("message",Rr,!0)}e();let t=setInterval(e,200);setTimeout(clearInterval,1e4,t)}function Mr(e){we=e.getInstallId,ct=e.isRuleEditor,Mt=e.sendData,L=e.fetchHttpResponse,ye=e.getExternalConfiguration?t=>e.getExternalConfiguration(t):null,Xt(e.pm_log)}function Ce(e){Ae=me("getFrameId",1e3),L=e.fetchHttpResponse,Pr(),T&&(Mr(e),we().then(t=>At=t).then(t=>ye()).then(t=>F=t||{EnabledPct:0}).then(t=>{it=Array.from(At).map(r=>r.charCodeAt(0)).reduce((r,o)=>r+o,0)%100<F.EnabledPct,it&&(xe(),Se(),Cr(Ir))}))}async function Ur(e,t){ct||(T||(t.dedupeKey=await Ae(e.ownerDocument.defaultView)),t.dedupeKey??=\`\${t.width}x\${t.height} @ \${t.x},\${t.y}\`),q(top,new N("displayAdFound",t))}async function Or(e,t){if(e){let r=O(e);(t.isFromIFrame||e.nodeName!=="IFRAME")&&(t.x+=r.left,t.y+=r.top),t.sourceUrls.push(...await Y(e,t.depth)),t.text+=wt(e)+" ";let o=Array.from(e.querySelectorAll("canvas, svg"));o.length&&o.forEach(s=>Qt(s,t))}}async function vt(e,t){if(await Or(e,t),e.nodeName==="IFRAME"){t.depth++,t.outerHtml=e.outerHTML;try{await vt(e.contentWindow.document.documentElement,t)}catch{q(e.contentWindow,new N("extractDisplayAd",t));try{var r=e.contentWindow.frames;for(let s=0,c=r.length;s<c;s++)try{q(r[s],new N("extractDisplayAd",t))}catch(l){b(l)}}catch(s){b(s)}}}else{e.nodeName==="HTML"&&(t.outerHtml+=\`<!-- IFRAME Content -->\${e.outerHTML}\`);let o;if(t.isFromIFrame){if(e.scrollWidth<=t.width-5||e.scrollHeight<=t.height-5)return;o=Array.from(e.querySelectorAll("iframe")).filter(s=>(s.scrollWidth>=t.width||s.scrollHeight>=t.height)&&s.scrollWidth>=_.minWidth&&s.scrollHeight>=_.minHeight&&Ft(s))}else o=Array.from(e.querySelectorAll("iframe")).filter(s=>Ft(s)).sort((s,c)=>s.scrollWidth*s.scrollHeight-c.scrollWidth*c.scrollHeight).slice(0,1);o?.length?await Promise.allSettled(o.map(s=>{let c={...t,width:Math.min(t.width,s.offsetWidth),height:Math.min(t.height,s.offsetHeight),sourceUrls:t.sourceUrls.map(l=>l)};return vt(s,c)})):(t.text=t.textOverride??t.text.trim(),Ur(e,t))}}function Dr(e,t,r){try{let o=new ot,s=o.evaluate(t,{doc:document});Ht.forEach(c=>s.push(...o.evaluate(t,{doc:c}))),_e.forEach(c=>{c.doc.defaultView&&s.push(...o.evaluate(t,{doc:c.doc}).map(l=>Ie(l)?(l.x??=c.x,l.y??=c.y,l.depth??=c.depth,l):{element:l,x:c.x,y:c.y,depth:c.depth}))}),s&&s.forEach(async c=>await Lr(e,c,r))}catch{}}function Fr(e){e.forEach(t=>Dr(t.Id,t.ParseTree))}async function Lr(e,t,r){let o={};Ie(t)&&(o=t,t=t.element,delete o.element);let s=new _({width:t.offsetWidth,height:t.offsetHeight,adRuleId:e});s.isFromIFrame=t.nodeName==="IFRAME",ct&&(s.adRuleName=r,s.tabUrl=location.href),Object.assign(s,o),await vt(t,s)}function ge(e){T&&Bt(t=>{t.didTimeout||(Fr(e),at(k,br))},4e3)}function Hr(e){let t=Date.now(),r=null;for(;r=e[0];){for(var o=null;o=r.nextNode();)if(o.shadowRoot&&(e.push(document.createTreeWalker(o.shadowRoot,NodeFilter.SHOW_ELEMENT)),Ht.push(o.shadowRoot)),Date.now()-t>50)return!1;e.shift()}return!0}function Br(){Ht=[];let e=[];try{e.push(document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT))}catch{}let t=!1,r=0;for(;!t&&r++<100;)Bt(()=>t||=Hr(e))}function Vr(){_e=Array.from(document.querySelectorAll("iframe")).filter(e=>e.src&&new URL(e.src).origin==top.location.origin&&e.offsetWidth>=_.minWidth&&e.offsetHeight>=_.minHeight).map(e=>{try{let t=e.contentWindow,r=O(e),o=r.left,s=r.top,c=1;for(;t?.parent&&t.parent!==top;)t=t.parent,r=O(t.frameElement),o+=r.left,s+=r.top,c++;return{doc:e.contentDocument,x:o,y:s,depth:c}}catch{return null}}).filter(e=>e)}function kr(){Br(),Vr()}function Ie(e){return!(e instanceof Node)&&e.element}function Te(...e){console.log("[injected-script]",...Array.isArray(e)?e:[e])}function Et(e,t){return r=>new Promise(o=>{let s=t+"-response",c=Math.random(),l=p=>{let{type:m,payload:g,nonce:y}=p.data??{};m!==s||y!==c||(e?.("Got response:",{name:t,payload:r,response:g}),o(g),d())},d=()=>{window.removeEventListener("message",l)};window.addEventListener("message",l),e?.("Sending message:",{name:t,payload:r}),window.postMessage({type:t,payload:r,nonce:c},"*")})}function Ne(e,t){return r=>{e?.("Sending message:",{type:t,payload:r}),window.postMessage({type:t,payload:r},"*")}}var Re="ads#INIT",Pe="ads#SEND_DATA",Me="ads#GET_INSTALL_ID",Ue="ads#GET_EXTERNAL_CONFIG",Oe="ads#FETCH_HTTP_RESPONSE";function De(e){let t=e.enableLogs?Te:void 0;t?.("Recieved init event",{config:e});let r=Ne(t,Pe),o=Et(t,Me),s=Et(t,Ue),c=Et(t,Oe);Ce({getInstallId:o,fetchHttpResponse:c,sendData:r,pm_log:t,getExternalConfiguration:s})}function qr(){window.addEventListener("message",({data:e})=>{e?.type===Re&&De(e.payload)})}qr();})();
`;var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wy={exports:{}};(function(e,t){(function(r,n){n(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:yy,function(r){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)r.exports=globalThis.browser;else{const n="The message port closed before a response was received.",s=i=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(T,A=void 0){super(A),this.createItem=T}get(T){return this.has(T)||this.set(T,this.createItem(T)),super.get(T)}}const l=b=>b&&typeof b=="object"&&typeof b.then=="function",u=(b,T)=>(...A)=>{i.runtime.lastError?b.reject(new Error(i.runtime.lastError.message)):T.singleCallbackArg||A.length<=1&&T.singleCallbackArg!==!1?b.resolve(A[0]):b.resolve(A)},c=b=>b==1?"argument":"arguments",d=(b,T)=>function(A,...E){if(E.length<T.minArgs)throw new Error(`Expected at least ${T.minArgs} ${c(T.minArgs)} for ${b}(), got ${E.length}`);if(E.length>T.maxArgs)throw new Error(`Expected at most ${T.maxArgs} ${c(T.maxArgs)} for ${b}(), got ${E.length}`);return new Promise((M,$)=>{if(T.fallbackToNoCallback)try{A[b](...E,u({resolve:M,reject:$},T))}catch(G){console.warn(`${b} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,G),A[b](...E),T.fallbackToNoCallback=!1,T.noCallback=!0,M()}else T.noCallback?(A[b](...E),M()):A[b](...E,u({resolve:M,reject:$},T))})},f=(b,T,A)=>new Proxy(T,{apply(E,M,$){return A.call(M,b,...$)}});let m=Function.call.bind(Object.prototype.hasOwnProperty);const p=(b,T={},A={})=>{let E=Object.create(null),M={has(G,F){return F in b||F in E},get(G,F,se){if(F in E)return E[F];if(!(F in b))return;let B=b[F];if(typeof B=="function")if(typeof T[F]=="function")B=f(b,b[F],T[F]);else if(m(A,F)){let K=d(F,A[F]);B=f(b,b[F],K)}else B=B.bind(b);else if(typeof B=="object"&&B!==null&&(m(T,F)||m(A,F)))B=p(B,T[F],A[F]);else if(m(A,"*"))B=p(B,T[F],A["*"]);else return Object.defineProperty(E,F,{configurable:!0,enumerable:!0,get(){return b[F]},set(K){b[F]=K}}),B;return E[F]=B,B},set(G,F,se,B){return F in E?E[F]=se:b[F]=se,!0},defineProperty(G,F,se){return Reflect.defineProperty(E,F,se)},deleteProperty(G,F){return Reflect.deleteProperty(E,F)}},$=Object.create(b);return new Proxy($,M)},h=b=>({addListener(T,A,...E){T.addListener(b.get(A),...E)},hasListener(T,A){return T.hasListener(b.get(A))},removeListener(T,A){T.removeListener(b.get(A))}}),g=new o(b=>typeof b!="function"?b:function(T){const A=p(T,{},{getContent:{minArgs:0,maxArgs:0}});b(A)}),w=new o(b=>typeof b!="function"?b:function(T,A,E){let M=!1,$,G=new Promise(K=>{$=function(U){M=!0,K(U)}}),F;try{F=b(T,A,$)}catch(K){F=Promise.reject(K)}const se=F!==!0&&l(F);return F!==!0&&!se&&!M?!1:((K=>{K.then(U=>{E(U)},U=>{let R;U&&(U instanceof Error||typeof U.message=="string")?R=U.message:R="An unexpected error occurred",E({__mozWebExtensionPolyfillReject__:!0,message:R})}).catch(U=>{console.error("Failed to send onMessage rejected reply",U)})})(se?F:G),!0)}),S=({reject:b,resolve:T},A)=>{i.runtime.lastError?i.runtime.lastError.message===n?T():b(new Error(i.runtime.lastError.message)):A&&A.__mozWebExtensionPolyfillReject__?b(new Error(A.message)):T(A)},_=(b,T,A,...E)=>{if(E.length<T.minArgs)throw new Error(`Expected at least ${T.minArgs} ${c(T.minArgs)} for ${b}(), got ${E.length}`);if(E.length>T.maxArgs)throw new Error(`Expected at most ${T.maxArgs} ${c(T.maxArgs)} for ${b}(), got ${E.length}`);return new Promise((M,$)=>{const G=S.bind(null,{resolve:M,reject:$});E.push(G),A.sendMessage(...E)})},v={devtools:{network:{onRequestFinished:h(g)}},runtime:{onMessage:h(w),onMessageExternal:h(w),sendMessage:_.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:_.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},C={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":C},services:{"*":C},websites:{"*":C}},p(i,v,a)};r.exports=s(chrome)}})})(wy);var Bk=wy.exports;const Ls=mf(Bk);var by={exports:{}};(function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function a(l,u){if(!i[l]){i[l]={};for(var c=0;c<l.length;c++)i[l][l.charAt(c)]=c}return i[l][u]}var o={compressToBase64:function(l){if(l==null)return"";var u=o._compress(l,6,function(c){return n.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:o._decompress(l.length,32,function(u){return a(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":o._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:o._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=o.compress(l),c=new Uint8Array(u.length*2),d=0,f=u.length;d<f;d++){var m=u.charCodeAt(d);c[d*2]=m>>>8,c[d*2+1]=m%256}return c},decompressFromUint8Array:function(l){if(l==null)return o.decompress(l);for(var u=new Array(l.length/2),c=0,d=u.length;c<d;c++)u[c]=l[c*2]*256+l[c*2+1];var f=[];return u.forEach(function(m){f.push(r(m))}),o.decompress(f.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":o._compress(l,6,function(u){return s.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),o._decompress(l.length,32,function(u){return a(s,l.charAt(u))}))},compress:function(l){return o._compress(l,16,function(u){return r(u)})},_compress:function(l,u,c){if(l==null)return"";var d,f,m={},p={},h="",g="",w="",S=2,_=3,v=2,C=[],b=0,T=0,A;for(A=0;A<l.length;A+=1)if(h=l.charAt(A),Object.prototype.hasOwnProperty.call(m,h)||(m[h]=_++,p[h]=!0),g=w+h,Object.prototype.hasOwnProperty.call(m,g))w=g;else{if(Object.prototype.hasOwnProperty.call(p,w)){if(w.charCodeAt(0)<256){for(d=0;d<v;d++)b=b<<1,T==u-1?(T=0,C.push(c(b)),b=0):T++;for(f=w.charCodeAt(0),d=0;d<8;d++)b=b<<1|f&1,T==u-1?(T=0,C.push(c(b)),b=0):T++,f=f>>1}else{for(f=1,d=0;d<v;d++)b=b<<1|f,T==u-1?(T=0,C.push(c(b)),b=0):T++,f=0;for(f=w.charCodeAt(0),d=0;d<16;d++)b=b<<1|f&1,T==u-1?(T=0,C.push(c(b)),b=0):T++,f=f>>1}S--,S==0&&(S=Math.pow(2,v),v++),delete p[w]}else for(f=m[w],d=0;d<v;d++)b=b<<1|f&1,T==u-1?(T=0,C.push(c(b)),b=0):T++,f=f>>1;S--,S==0&&(S=Math.pow(2,v),v++),m[g]=_++,w=String(h)}if(w!==""){if(Object.prototype.hasOwnProperty.call(p,w)){if(w.charCodeAt(0)<256){for(d=0;d<v;d++)b=b<<1,T==u-1?(T=0,C.push(c(b)),b=0):T++;for(f=w.charCodeAt(0),d=0;d<8;d++)b=b<<1|f&1,T==u-1?(T=0,C.push(c(b)),b=0):T++,f=f>>1}else{for(f=1,d=0;d<v;d++)b=b<<1|f,T==u-1?(T=0,C.push(c(b)),b=0):T++,f=0;for(f=w.charCodeAt(0),d=0;d<16;d++)b=b<<1|f&1,T==u-1?(T=0,C.push(c(b)),b=0):T++,f=f>>1}S--,S==0&&(S=Math.pow(2,v),v++),delete p[w]}else for(f=m[w],d=0;d<v;d++)b=b<<1|f&1,T==u-1?(T=0,C.push(c(b)),b=0):T++,f=f>>1;S--,S==0&&(S=Math.pow(2,v),v++)}for(f=2,d=0;d<v;d++)b=b<<1|f&1,T==u-1?(T=0,C.push(c(b)),b=0):T++,f=f>>1;for(;;)if(b=b<<1,T==u-1){C.push(c(b));break}else T++;return C.join("")},decompress:function(l){return l==null?"":l==""?null:o._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var d=[],f=4,m=4,p=3,h="",g=[],w,S,_,v,C,b,T,A={val:c(0),position:u,index:1};for(w=0;w<3;w+=1)d[w]=w;for(_=0,C=Math.pow(2,2),b=1;b!=C;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),_|=(v>0?1:0)*b,b<<=1;switch(_){case 0:for(_=0,C=Math.pow(2,8),b=1;b!=C;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),_|=(v>0?1:0)*b,b<<=1;T=r(_);break;case 1:for(_=0,C=Math.pow(2,16),b=1;b!=C;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),_|=(v>0?1:0)*b,b<<=1;T=r(_);break;case 2:return""}for(d[3]=T,S=T,g.push(T);;){if(A.index>l)return"";for(_=0,C=Math.pow(2,p),b=1;b!=C;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),_|=(v>0?1:0)*b,b<<=1;switch(T=_){case 0:for(_=0,C=Math.pow(2,8),b=1;b!=C;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),_|=(v>0?1:0)*b,b<<=1;d[m++]=r(_),T=m-1,f--;break;case 1:for(_=0,C=Math.pow(2,16),b=1;b!=C;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=c(A.index++)),_|=(v>0?1:0)*b,b<<=1;d[m++]=r(_),T=m-1,f--;break;case 2:return g.join("")}if(f==0&&(f=Math.pow(2,p),p++),d[T])h=d[T];else if(T===m)h=S+S.charAt(0);else return null;g.push(h),d[m++]=S+h.charAt(0),f--,S=h,f==0&&(f=Math.pow(2,p),p++)}}};return o}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(by);var Wk=by.exports;const gf=mf(Wk);function Hk(e){const t=gf.decompressFromUint8Array(new Uint8Array(e));if(t==null)throw Error("Failed to convert string to ArrayBuffer");return t}async function rm(e){if(!e.byteLength)return"";const t=new Blob([e]),r=await new Promise((n,s)=>{const i=new FileReader;i.onload=()=>{typeof i.result=="string"&&n(i.result),s(Error("Failed to read buffer as string, got "+typeof i.result))},i.onerror=()=>s(i.error),i.onabort=()=>s("FileReader aborted"),i.readAsDataURL(t)});return(r==null?void 0:r.split(",").pop())||""}function qk(e){if(!e)return Promise.resolve(new ArrayBuffer(0));try{const t="data:application/octet-binary;base64,"+e;return fetch(t).then(r=>r.arrayBuffer(),()=>new ArrayBuffer(0))}catch{return Promise.resolve(new ArrayBuffer(0))}}var Os=(e=>(e.UPLOAD_CRAWL="ads#CRAWL",e.GET_PM_EXTERNAL_CONFIG="ads#GET_EXTERNAL_CONFIGURATION",e.FETCH_HTTP_RESPONSE="ads#FETCH_HTTP_RESPONSE",e))(Os||{});function wc(e){try{return JSON.parse(e)}catch{return}}async function Gk(e){return(await Ls.storage.local.get(e))[e]}async function vy(e,t){const r={};r[e]=t,await Ls.storage.local.set(r)}async function nm(e,t,r){let n=await(r?null:Gk(e));return n==null&&(n=await t(),await vy(e,n)),n}function Ay(e){return e.split(".").slice(e.endsWith(".uk")||e.endsWith(".jp")?-3:-2).join(".")}async function sm(e){const t=await nm("configTs",Date.now),r=Date.now()-t>18e5;return nm("config",async()=>{const n=await e({type:Os.GET_PM_EXTERNAL_CONFIG,payload:void 0}),s=wc(n);if(s!=null)return s.TimeOffset=s.Now&&Date.now()-s.Now||0,Yk(s),Zk(s),zk(s),vy("configTs",Date.now()),s},r)}function Yk(e){var t;(t=e.AdRules)==null||t.filter(r=>{const n=gf.decompressFromUTF16(r.ParseTreeString||"")??"";return r.ParseTree=wc(n),r.ParseTree==null?!1:(delete r.ParseTreeString,!0)})}function Zk(e){var t;e.ParsedSiteConfigs=(t=e.SiteConfigs)==null?void 0:t.reduce((r,n)=>(r[n.d]=n.r,r),{}),delete e.SiteConfigs}function zk(e){var t;e.ParsedUrlBlackList=(t=e.UrlBlackList)==null?void 0:t.filter(r=>r.BlockAllAds).reduce((r,n)=>{var s;return(r[s=Ay(n.Hostname)]??(r[s]=[])).push(n.UrlRegex),r},{}),delete e.UrlBlackList}function im(){return window.self===window.top}class Kk{constructor(t){this.config=t}async inject(t){return new Promise((r,n)=>{const s=this.defineOnCspError(n),i=()=>{var a,o;try{document.addEventListener("securitypolicyviolation",s);const l=document.createElement(t),u=()=>{var f,m;this.config.keepInDom||l.remove(),(m=(f=this.config).onInjected)==null||m.call(f)},c=this.getManifestVersion();c===3?l.onload=u:setTimeout(u),this.setSrc(l,c),(a=this.config.logger)==null||a.log(l);const d=(o=document.documentElement)==null?void 0:o.firstElementChild;d==null||d.insertBefore(l,d.firstChild),document.removeEventListener("securitypolicyviolation",s),r()}catch(l){n(l)}finally{document.removeEventListener("DOMContentLoaded",i)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})}defineOnCspError(t){return r=>{t==null||t(Error("Blocked by CSP: "+JSON.stringify({host:window.location.hostname,blockedUri:r.blockedURI,violatedDirective:r.violatedDirective,originalPolicy:r.originalPolicy})))}}getManifestVersion(){return typeof __AD_FINDER_MANIFEST_VERSION__=="number"?__AD_FINDER_MANIFEST_VERSION__:Ls.runtime.getManifest().manifest_version}setSrc(t,r){if(r===3){if(!this.config.mv3Path)throw Error("mv3Path config must be passed for Manifest V3 extensions");t.src=Ls.runtime.getURL(this.config.mv3Path)}else if(r===2){if(!this.config.mv2Content)throw Error("mv2Content config must be passed for Manifest V2 extensions");t.innerHTML=this.config.mv2Content}else throw Error(`Unsupported manifest version ${r}`)}}class Jk{constructor(t){this.config=t}sendMessage(t,r,n,s){const i={type:t,payload:r,nonce:s};window.postMessage(i,"*",n)}onMessage(t,r){window.addEventListener("message",async n=>{var s,i;const{type:a,payload:o,nonce:l}=n.data??{};if(a!==t)return;(s=this.config.logger)==null||s.debug("[ad-finder-custom-event] Recieved message:",{type:a,payload:o});const u=await r(o);if(u===void 0)return;const{response:c,transferables:d}=u;(i=this.config.logger)==null||i.debug("[ad-finder-custom-event] Sending response:",{name:a,payload:o,response:c}),this.sendMessage(a+this.config.responseSuffix,c,d,l)})}}const Xk="ads#INIT",Qk="ads#SEND_DATA",eO="ads#GET_INSTALL_ID",tO="ads#GET_EXTERNAL_CONFIG",rO="ads#FETCH_HTTP_RESPONSE",su=class $o{constructor(t){di(this,"injector"),di(this,"messenger"),this.config=t,this.injector=new Kk({logger:t.logger,keepInDom:t.keepPathmaticsInDom,mv2Content:Vk,mv3Path:t.mv3PathmaticsPath,onInjected:this.initPathmaticsScript.bind(this)}),this.messenger=new Jk({logger:t.logger,responseSuffix:$o.MESSENGER_SUFFIX})}async isSupportedSite(){var t,r;const n=Ay(location.hostname);if(!im())return!(location.hostname===$o.GOOGLE_AUTH_HOSTNAME||$o.SUBFRAME_DOMAIN_BLOCKLIST.has(n));const s=await sm(this.config.sendMessageToBackground);return s!=null?!((r=(t=s.ParsedUrlBlackList)==null?void 0:t[n])!=null&&r.some(i=>new RegExp(i).test(location.href))):!1}async start(){var t,r,n,s,i,a;if(!document.documentElement){(t=this.config.logger)==null||t.log("Page is blank, stopping pathmatics",window.location.hostname);return}const o=await this.isSupportedSite();if((r=this.config.logger)==null||r.log("Is supported site?",o),!o){(n=this.config.logger)==null||n.log("Not supported site, stopping pathmatics",window.location.hostname);return}try{(s=this.config.logger)==null||s.log("Starting Pathmatics ad-finder...",{url:window.location.href}),this.setupMessageListeners(),await this.injector.inject("script"),(i=this.config.logger)==null||i.log("Pathmatics ad-finder injected!")}catch(l){(a=this.config.logger)==null||a.error("Failed to start Pathmatics ad-finder",l)}}setupMessageListeners(){if(Ls.storage==null)throw Error("The storage permission is required for pathmatics' ad-finder");this.messenger.onMessage(rO,async t=>{const r=await this.config.sendMessageToBackground({type:Os.FETCH_HTTP_RESPONSE,payload:t}),n=await qk(r);return{response:n,transferables:[n]}}),im()&&(this.messenger.onMessage(eO,async()=>({response:await this.config.getInstallId()})),this.messenger.onMessage(Qk,async t=>{var r,n,s,i,a;const o=wc(t);if(o==null)return;const l=o.crawlId;let u=o.zys??[];if(typeof u=="string"&&(u=wc(u)),u==null)return;const c=Date.now();for(const d of u){const f={id:`${l}-${d.hash}`,type:"pathmatics",timestamp:c,details:d};(r=this.config.logger)==null||r.log("Ad detected",f);try{await((s=(n=this.config).onAdDetected)==null?void 0:s.call(n,f))}catch(m){(i=this.config.logger)==null||i.error("onAdDetected failed",{err:m})}}await this.config.sendMessageToBackground({type:Os.UPLOAD_CRAWL,payload:o}).catch((a=this.config.logger)==null?void 0:a.error)}),this.messenger.onMessage(tO,async()=>({response:await sm(this.config.sendMessageToBackground)})))}initPathmaticsScript(){var t;(t=this.config.logger)==null||t.log("Initializing script");const r={enableLogs:this.config.enablePathmaticsLogs??!1};this.messenger.sendMessage(Xk,r)}};di(su,"MESSENGER_SUFFIX","-response"),di(su,"SUBFRAME_DOMAIN_BLOCKLIST",new Set(["google.com","okta.com","amazon.com"])),di(su,"GOOGLE_AUTH_HOSTNAME","accounts.youtube.com");function nO(e){return{...e,logger:e.logger===void 0?console:e.logger??void 0}}var _y={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(yy,function(){var r=function(i,a){if(a=a||{},typeof i!="function")throw new s("fetch must be a function");if(typeof a!="object")throw new s("defaults must be an object");if(a.retries!==void 0&&!n(a.retries))throw new s("retries must be a positive integer");if(a.retryDelay!==void 0&&!n(a.retryDelay)&&typeof a.retryDelay!="function")throw new s("retryDelay must be a positive integer or a function returning a positive integer");if(a.retryOn!==void 0&&!Array.isArray(a.retryOn)&&typeof a.retryOn!="function")throw new s("retryOn property expects an array or function");var o={retries:3,retryDelay:1e3,retryOn:[]};return a=Object.assign(o,a),function(l,u){var c=a.retries,d=a.retryDelay,f=a.retryOn;if(u&&u.retries!==void 0)if(n(u.retries))c=u.retries;else throw new s("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(n(u.retryDelay)||typeof u.retryDelay=="function")d=u.retryDelay;else throw new s("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")f=u.retryOn;else throw new s("retryOn property expects an array or function");return new Promise(function(m,p){var h=function(w){var S=typeof Request<"u"&&l instanceof Request?l.clone():l;i(S,u).then(function(_){if(Array.isArray(f)&&f.indexOf(_.status)===-1)m(_);else if(typeof f=="function")try{return Promise.resolve(f(w,null,_)).then(function(v){v?g(w,null,_):m(_)}).catch(p)}catch(v){p(v)}else w<c?g(w,null,_):m(_)}).catch(function(_){if(typeof f=="function")try{Promise.resolve(f(w,_,null)).then(function(v){v?g(w,_,null):p(_)}).catch(function(v){p(v)})}catch(v){p(v)}else w<c?g(w,_,null):p(_)})};function g(w,S,_){var v=typeof d=="function"?d(w,S,_):d;setTimeout(function(){h(++w)},v)}h(0)})}};function n(i){return Number.isInteger(i)&&i>=0}function s(i){this.name="ArgumentError",this.message=i}return r})})(_y);var sO=_y.exports;const iO=mf(sO);function aO(e){return Math.random()*e+e/2}function oO(e){return iO(fetch,{retryOn(t,r,n){var s;return r!==null||n==null||n.status>=500?((s=e.logger)==null||s.log(`retrying, attempt number ${t+1}`),!0):!1},retries:5,retryDelay(t){const r=Math.pow(2,t)*500;return aO(r)}})}class cO{constructor(t){di(this,"fetch"),this.config=t,this.fetch=oO(t)}async upload(t){var r,n,s;if(!await this.config.isEnabled())return;const i=this.prepareData(t);(r=this.config.logger)==null||r.log("Uploading data:",i);const a=await this.fetch(this.config.crawlUploadUrl,{method:"POST",body:gf.compressToUint8Array(JSON.stringify(i)),headers:{"Content-Type":"application/octet-stream"}}).then(o=>{var l;return(l=this.config.logger)==null?void 0:l.log({status:o.status})}).catch((n=this.config.logger)==null?void 0:n.error);(s=this.config.logger)==null||s.log("Response:",a)}prepareData(t){return{...t,PartnerVersion:Ls.runtime.getManifest().version,ExtensionId:Ls.runtime.id,ExtensionVersion:this.config.extensionVersion,UserAgent:navigator.userAgent,BrowserLanguage:navigator.language,BlankZys:null,PanelPartnerId:this.config.panelPartnerId}}}async function lO(e){const t=await fetch(e).then(r=>r.arrayBuffer());return Hk(t)}function IM(e){const t=nO(e),r=new cO(t);return{async processAdFinderMessage(n){const s=i=>{var a;throw(a=t.logger)==null||a.error("Error handling message from ad-finder: "+JSON.stringify(n),i),i};switch(n.type){case Os.UPLOAD_CRAWL:return r.upload(n.payload).catch(s);case Os.GET_PM_EXTERNAL_CONFIG:return lO(`${e.pmExternalConfigUrl}?installId=${await e.getInstallId()}`).catch(s);case Os.FETCH_HTTP_RESPONSE:return fetch(n.payload).then(i=>{const a=parseInt(i.headers.get("Content-Length")??"");return!isNaN(a)&&a>1<<25?new ArrayBuffer(0):i.arrayBuffer()}).then(i=>i.byteLength>1<<25?rm(new ArrayBuffer(0)):rm(i))}}}}const uO={productSelector:['div[aria-label="Product"]'],sponsoredRegex:["/s\\s*p\\s*o\\s*n/i","/s\\s*p\\s*a\\s*a\\s*h/i","/s\\s*p\\s*a\\s*w\\s*h/i","/a\\s*d\\s*v\\s*e\\s*r\\s*t\\s*i\\s*s\\s*e\\s*r/i","/i\\s*s\\s*\\s*a\\s*n\\s*\\s*a\\s*d/i","/p\\s*a\\s*i\\s*d\\s*\\s*a\\s*d/i"],companyName:[".e-1f1gsmn",".e-1opt332",".e-lyu7du",".e-czl9lw"],searchTerm:["#search-bar-input"],productTitle:[".e-u2e78b",".e-1exr31r",".e-wrmemy",".e-pp216q",".e-1ptz7jy",".e-147kl2c",".e-9773mu",".e-xahufp"],productSize:[".e-owckh2",".e-1hb8rq9",".e-1188c9v",".e-zjik7",".e-an4oxa",".e-cauxk8"],productPrice:[".e-1jioxed > span.screen-reader-only",".e-2feaft > span.screen-reader-only",".e-1ybpdrh > span.screen-reader-only",".e-1ghw7u1 > span.screen-reader-only",".e-hlbpyw > span.screen-reader-only",".e-1jioxed > span.screen-reader-only",".e-vzof3s > span.screen-reader-only",".e-3tcizb > span.screen-reader-only",".e-t5lw1y > span.e-13d1dsr",".e-1s70q1o"]},dO=["drug","alcohol","porn"],fO="https://chatgpt.com/",hO="https://chatgpt.com/c/",mO=["nav > .flex-col > a > span > div > div > span:nth-child(1)","nav > .flex-col > a > span > div > div"],gO=["Add Team workspace","Invite members","View plans"],pO=["Upgrade plan","Renew Plus","The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."],DM=2*Ne.Hour,yO="https://stayfocusd.st-panel-api.com/v1/remote_config/stayfocusd",wO="https://stayfocusd.st-panel-api.com/v1/remote_config/shared-web-config",bO={uploadWebUsage:!0,bugsnagIngoreMatches:["Extension context invalidated.","Could not establish connection. Receiving end does not exist.","The browser is shutting down.",'{\\s*"?isTrusted"?:\\s*true\\s*}',"Failed to execute 'abort' on 'IDBTransaction': The transaction has finished.","Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing.","^IO error: \\.\\.\\.\\/.+?: .*? \\(ChromeMethodBFE: .*\\)$","Cannot access contents of the page. Extension manifest must request permission to access the respective host.","The extensions gallery cannot be scripted."],instacartSelectors:uO,forbiddenPromptWords:dO,chatGptUrl:fO,chatGptConversationUrl:hO,chatGptStatusSelectors:mO,chatGptPremiumStrings:gO,chatGptFreeStrings:pO,adNetworks:Q1,adFields:ex};ge.object({uploadWebUsage:ge.boolean(),bugsnagIngoreMatches:ge.array(ge.string()),pageViewIgnoreList:ge.array(ge.string()).optional(),instacartSelectors:ge.object({productSelector:ge.array(ge.string()),sponsoredRegex:ge.array(ge.string()),companyName:ge.array(ge.string()),searchTerm:ge.array(ge.string()),productTitle:ge.array(ge.string()),productSize:ge.array(ge.string()),productPrice:ge.array(ge.string())}),forbiddenPromptWords:ge.array(ge.string()),chatGptUrl:ge.string(),chatGptConversationUrl:ge.string(),chatGptStatusSelectors:ge.array(ge.string()),chatGptPremiumStrings:ge.array(ge.string()),chatGptFreeStrings:ge.array(ge.string()),adNetworks:ge.array(ge.object({name:ge.string(),regexes:ge.array(ge.string())})),adFields:ge.object({source:ge.array(ge.string()),campaign:ge.array(ge.string()),medium:ge.array(ge.string()),term:ge.array(ge.string())})});const vO=AO({urls:[yO,wO],defaultConfig:bO});function AO(e){const{urls:t,defaultConfig:r}=e,n=$k({urls:t,defaultConfig:r,persistConfig:s=>Qh.setValue(s),persistLastFetchedTime:s=>em.setValue(s),restoreConfig:async()=>await Qh.getValue()??void 0,restoreLastFetchedTime:async()=>await em.getValue()??void 0});return{fetchLatest:n.fetchLatest,addChangeListener:n.addChangeListener,getLastFetchedTime(){return n.lastFetchedTime},getRestoredPromise(){return n.restoredPromise},getValue(){return n.value}}}function xy(){async function e(){if(await Dk.getValue())return!1;const o=await Rk.getValue();return o&&o<18}async function t(){return await Lk.getValue()??0}async function r(){return await Fk.getValue()??0}async function n(){return await Jh.getValue()??!1}async function s(){const a=await Xh.getValue(),o=vO.getValue().uploadWebUsage;return(a??!1)&&o}async function i(){if(await e()||await Nk.getValue())return!0;if(!await Jh.getValue())return!1;const u=await Xh.getValue(),c=await t(),d=await r();return!!u||Date.now()<c||d>3}return{isOnboardingCompleted:i,hasAcceptedToS:n,canUploadData:s}}const Uo={Android:"android",Web:"web",Desktop:"desktop"},_O={...Uo,AppGroup:"app-group"},jo={..._O,MobileWeb:"mobile-web"},RM=6*Ne.Hour;async function NM(){if(!await xy().canUploadData())return;const r=_d(),n=await Ua(),s=await r.getBrandMapping({installId:n});await hf.setValue(s)}async function hs(){return await hf.getValue()||[]}function xO(e,t,r){switch(r){case jo.Web:return e.find(n=>n.websites.includes(t));case jo.Android:return e.find(n=>n.android_apps.find(s=>s.id===t));case jo.Desktop:return e.find(n=>{var s;return(s=n.desktop_apps)==null?void 0:s.find(i=>i.name===t||SO([t],i.alternative_names??[],i.reg_exps??[]))})}}function LM(e){var t,r,n;return(e==null?void 0:e.icon_url)??((t=e==null?void 0:e.android_apps[0])==null?void 0:t.icon_url)??((n=(r=e==null?void 0:e.desktop_apps)==null?void 0:r[0])==null?void 0:n.icon_url)}function SO(e,t,r){return e.some(n=>t.includes(n))||r.some(n=>TO(e,n))}function TO(e,t){try{const r=new RegExp("^"+t+"$","i");return e.some(n=>r.test(n))}catch{return!1}}class iu{constructor(t){Me(this,"obj",{});if(t!=null&&t.length)for(const r of t)this.obj[r]=!0}add(t){return this.obj[t]=!0,this}has(t){return this.obj[t]!=null}toArray(){return Object.keys(this.obj)}}function Eo(e){switch(e){case"android":return Uo.Android;case"web":return Uo.Web;case"windows":case"mac":case"linux":return Uo.Desktop}throw Error(`'${e}' platform not supported yet`)}function EO(e){return nt("device_platform_"+e.replace("-","_"))}function au(e){return nt("sessionCount",`${e}`)}function ou(e){return nt("adCount",`${e}`)}function cu(e){return new ar(e).format()}var bc={exports:{}};bc.exports;(function(e,t){var r=200,n="Expected a function",s="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Function]",p="[object GeneratorFunction]",h="[object Map]",g="[object Number]",w="[object Object]",S="[object Promise]",_="[object RegExp]",v="[object Set]",C="[object String]",b="[object Symbol]",T="[object WeakMap]",A="[object ArrayBuffer]",E="[object DataView]",M="[object Float32Array]",$="[object Float64Array]",G="[object Int8Array]",F="[object Int16Array]",se="[object Int32Array]",B="[object Uint8Array]",K="[object Uint8ClampedArray]",U="[object Uint16Array]",R="[object Uint32Array]",ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,me=/^\w*$/,Pe=/^\./,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mt=/[\\^$.*+?()[\]{}|]/g,yt=/\\(\\)?/g,De=/^\[object .+?Constructor\]$/,wt=/^(?:0|[1-9]\d*)$/,Fe={};Fe[M]=Fe[$]=Fe[G]=Fe[F]=Fe[se]=Fe[B]=Fe[K]=Fe[U]=Fe[R]=!0,Fe[l]=Fe[u]=Fe[A]=Fe[c]=Fe[E]=Fe[d]=Fe[f]=Fe[m]=Fe[h]=Fe[g]=Fe[w]=Fe[_]=Fe[v]=Fe[C]=Fe[T]=!1;var bt=typeof Pr=="object"&&Pr&&Pr.Object===Object&&Pr,Fr=typeof self=="object"&&self&&self.Object===Object&&self,gt=bt||Fr||Function("return this")(),en=t&&!t.nodeType&&t,O=en&&!0&&e&&!e.nodeType&&e,I=O&&O.exports===en,L=I&&bt.process,W=function(){try{return L&&L.binding("util")}catch{}}(),V=W&&W.isTypedArray;function q(y,k,N,z){for(var we=-1,le=y?y.length:0;++we<le;){var Ee=y[we];k(z,Ee,N(Ee),y)}return z}function ee(y,k){for(var N=-1,z=y?y.length:0;++N<z;)if(k(y[N],N,y))return!0;return!1}function J(y){return function(k){return k==null?void 0:k[y]}}function Q(y,k){for(var N=-1,z=Array(y);++N<y;)z[N]=k(N);return z}function Y(y){return function(k){return y(k)}}function pe(y,k){return y==null?void 0:y[k]}function X(y){var k=!1;if(y!=null&&typeof y.toString!="function")try{k=!!(y+"")}catch{}return k}function de(y){var k=-1,N=Array(y.size);return y.forEach(function(z,we){N[++k]=[we,z]}),N}function ye(y,k){return function(N){return y(k(N))}}function ne(y){var k=-1,N=Array(y.size);return y.forEach(function(z){N[++k]=z}),N}var ce=Array.prototype,te=Function.prototype,ve=Object.prototype,Re=gt["__core-js_shared__"],Ke=function(){var y=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),_e=te.toString,fe=ve.hasOwnProperty,at=ve.toString,st=RegExp("^"+_e.call(fe).replace(mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=gt.Symbol,An=gt.Uint8Array,Qc=ve.propertyIsEnumerable,tn=ce.splice,Xa=ye(Object.keys,Object),Pi=xn(gt,"DataView"),Kn=xn(gt,"Map"),Jn=xn(gt,"Promise"),rn=xn(gt,"Set"),Xn=xn(gt,"WeakMap"),nn=xn(Object,"create"),Mi=D(Pi),Qn=D(Kn),el=D(Jn),tl=D(rn),rl=D(Xn),$s=vt?vt.prototype:void 0,Ii=$s?$s.valueOf:void 0,Di=$s?$s.toString:void 0;function _r(y){var k=-1,N=y?y.length:0;for(this.clear();++k<N;){var z=y[k];this.set(z[0],z[1])}}function sn(){this.__data__=nn?nn(null):{}}function nl(y){return this.has(y)&&delete this.__data__[y]}function sl(y){var k=this.__data__;if(nn){var N=k[y];return N===s?void 0:N}return fe.call(k,y)?k[y]:void 0}function il(y){var k=this.__data__;return nn?k[y]!==void 0:fe.call(k,y)}function al(y,k){var N=this.__data__;return N[y]=nn&&k===void 0?s:k,this}_r.prototype.clear=sn,_r.prototype.delete=nl,_r.prototype.get=sl,_r.prototype.has=il,_r.prototype.set=al;function xr(y){var k=-1,N=y?y.length:0;for(this.clear();++k<N;){var z=y[k];this.set(z[0],z[1])}}function Sr(){this.__data__=[]}function ol(y){var k=this.__data__,N=Vs(k,y);if(N<0)return!1;var z=k.length-1;return N==z?k.pop():tn.call(k,N,1),!0}function cl(y){var k=this.__data__,N=Vs(k,y);return N<0?void 0:k[N][1]}function ll(y){return Vs(this.__data__,y)>-1}function ul(y,k){var N=this.__data__,z=Vs(N,y);return z<0?N.push([y,k]):N[z][1]=k,this}xr.prototype.clear=Sr,xr.prototype.delete=ol,xr.prototype.get=cl,xr.prototype.has=ll,xr.prototype.set=ul;function Tr(y){var k=-1,N=y?y.length:0;for(this.clear();++k<N;){var z=y[k];this.set(z[0],z[1])}}function an(){this.__data__={hash:new _r,map:new(Kn||xr),string:new _r}}function dl(y){return Hs(this,y).delete(y)}function fl(y){return Hs(this,y).get(y)}function hl(y){return Hs(this,y).has(y)}function ml(y,k){return Hs(this,y).set(y,k),this}Tr.prototype.clear=an,Tr.prototype.delete=dl,Tr.prototype.get=fl,Tr.prototype.has=hl,Tr.prototype.set=ml;function Us(y){var k=-1,N=y?y.length:0;for(this.__data__=new Tr;++k<N;)this.add(y[k])}function js(y){return this.__data__.set(y,s),this}function gl(y){return this.__data__.has(y)}Us.prototype.add=Us.prototype.push=js,Us.prototype.has=gl;function Er(y){this.__data__=new xr(y)}function $r(){this.__data__=new xr}function pl(y){return this.__data__.delete(y)}function yl(y){return this.__data__.get(y)}function wl(y){return this.__data__.has(y)}function bl(y,k){var N=this.__data__;if(N instanceof xr){var z=N.__data__;if(!Kn||z.length<r-1)return z.push([y,k]),this;N=this.__data__=new Tr(z)}return N.set(y,k),this}Er.prototype.clear=$r,Er.prototype.delete=pl,Er.prototype.get=yl,Er.prototype.has=wl,Er.prototype.set=bl;function vl(y,k){var N=We(y)||Te(y)?Q(y.length,String):[],z=N.length,we=!!z;for(var le in y)fe.call(y,le)&&!(we&&(le=="length"||Li(le,z)))&&N.push(le);return N}function Vs(y,k){for(var N=y.length;N--;)if(Ze(y[N][0],k))return N;return-1}function Bs(y,k,N,z){return Al(y,function(we,le,Ee){k(z,we,N(we),Ee)}),z}var Al=Pl(Qa),es=Ml();function Qa(y,k){return y&&es(y,k,ns)}function Ri(y,k){k=ts(k,y)?[k]:ro(k);for(var N=0,z=k.length;y!=null&&N<z;)y=y[x(k[N++])];return N&&N==z?y:void 0}function _l(y){return at.call(y)}function xl(y,k){return y!=null&&k in Object(y)}function Ni(y,k,N,z,we){return y===k?!0:y==null||k==null||!It(y)&&!ht(k)?y!==y&&k!==k:Sl(y,k,Ni,N,z,we)}function Sl(y,k,N,z,we,le){var Ee=We(y),_t=We(k),ut=u,Rt=u;Ee||(ut=dr(y),ut=ut==l?w:ut),_t||(Rt=dr(k),Rt=Rt==l?w:Rt);var nr=ut==w&&!X(y),sr=Rt==w&&!X(k),Wt=ut==Rt;if(Wt&&!nr)return le||(le=new Er),Ee||rr(y)?no(y,k,N,z,we,le):on(y,k,ut,N,z,we,le);if(!(we&a)){var fr=nr&&fe.call(y,"__wrapped__"),hr=sr&&fe.call(k,"__wrapped__");if(fr||hr){var Sn=fr?y.value():y,ln=hr?k.value():k;return le||(le=new Er),N(Sn,ln,z,we,le)}}return Wt?(le||(le=new Er),so(y,k,N,z,we,le)):!1}function eo(y,k,N,z){var we=N.length,le=we;if(y==null)return!le;for(y=Object(y);we--;){var Ee=N[we];if(Ee[2]?Ee[1]!==y[Ee[0]]:!(Ee[0]in y))return!1}for(;++we<le;){Ee=N[we];var _t=Ee[0],ut=y[_t],Rt=Ee[1];if(Ee[2]){if(ut===void 0&&!(_t in y))return!1}else{var nr=new Er,sr;if(!(sr===void 0?Ni(Rt,ut,z,i|a,nr):sr))return!1}}return!0}function Tl(y){if(!It(y)||rs(y))return!1;var k=et(y)||X(y)?st:De;return k.test(D(y))}function El(y){return ht(y)&&Ot(y.length)&&!!Fe[at.call(y)]}function to(y){return typeof y=="function"?y:y==null?Gs:typeof y=="object"?We(y)?kl(y[0],y[1]):_n(y):Ys(y)}function Ws(y){if(!ao(y))return Xa(y);var k=[];for(var N in Object(y))fe.call(y,N)&&N!="constructor"&&k.push(N);return k}function _n(y){var k=qs(y);return k.length==1&&k[0][2]?co(k[0][0],k[0][1]):function(N){return N===y||eo(N,y,k)}}function kl(y,k){return ts(y)&&oo(k)?co(x(y),k):function(N){var z=kr(N,y);return z===void 0&&z===k?cn(N,y):Ni(k,z,void 0,i|a)}}function Ol(y){return function(k){return Ri(k,y)}}function Ur(y){if(typeof y=="string")return y;if(Dt(y))return Di?Di.call(y):"";var k=y+"";return k=="0"&&1/y==-1/0?"-0":k}function ro(y){return We(y)?y:Dl(y)}function Cl(y,k){return function(N,z){var we=We(N)?q:Bs,le=k?k():{};return we(N,y,to(z),le)}}function Pl(y,k){return function(N,z){if(N==null)return N;if(!lt(N))return y(N,z);for(var we=N.length,le=-1,Ee=Object(N);++le<we&&z(Ee[le],le,Ee)!==!1;);return N}}function Ml(y){return function(k,N,z){for(var we=-1,le=Object(k),Ee=z(k),_t=Ee.length;_t--;){var ut=Ee[++we];if(N(le[ut],ut,le)===!1)break}return k}}function no(y,k,N,z,we,le){var Ee=we&a,_t=y.length,ut=k.length;if(_t!=ut&&!(Ee&&ut>_t))return!1;var Rt=le.get(y);if(Rt&&le.get(k))return Rt==k;var nr=-1,sr=!0,Wt=we&i?new Us:void 0;for(le.set(y,k),le.set(k,y);++nr<_t;){var fr=y[nr],hr=k[nr];if(z)var Sn=Ee?z(hr,fr,nr,k,y,le):z(fr,hr,nr,y,k,le);if(Sn!==void 0){if(Sn)continue;sr=!1;break}if(Wt){if(!ee(k,function(ln,ss){if(!Wt.has(ss)&&(fr===ln||N(fr,ln,z,we,le)))return Wt.add(ss)})){sr=!1;break}}else if(!(fr===hr||N(fr,hr,z,we,le))){sr=!1;break}}return le.delete(y),le.delete(k),sr}function on(y,k,N,z,we,le,Ee){switch(N){case E:if(y.byteLength!=k.byteLength||y.byteOffset!=k.byteOffset)return!1;y=y.buffer,k=k.buffer;case A:return!(y.byteLength!=k.byteLength||!z(new An(y),new An(k)));case c:case d:case g:return Ze(+y,+k);case f:return y.name==k.name&&y.message==k.message;case _:case C:return y==k+"";case h:var _t=de;case v:var ut=le&a;if(_t||(_t=ne),y.size!=k.size&&!ut)return!1;var Rt=Ee.get(y);if(Rt)return Rt==k;le|=i,Ee.set(y,k);var nr=no(_t(y),_t(k),z,we,le,Ee);return Ee.delete(y),nr;case b:if(Ii)return Ii.call(y)==Ii.call(k)}return!1}function so(y,k,N,z,we,le){var Ee=we&a,_t=ns(y),ut=_t.length,Rt=ns(k),nr=Rt.length;if(ut!=nr&&!Ee)return!1;for(var sr=ut;sr--;){var Wt=_t[sr];if(!(Ee?Wt in k:fe.call(k,Wt)))return!1}var fr=le.get(y);if(fr&&le.get(k))return fr==k;var hr=!0;le.set(y,k),le.set(k,y);for(var Sn=Ee;++sr<ut;){Wt=_t[sr];var ln=y[Wt],ss=k[Wt];if(z)var Tf=Ee?z(ss,ln,Wt,k,y,le):z(ln,ss,Wt,y,k,le);if(!(Tf===void 0?ln===ss||N(ln,ss,z,we,le):Tf)){hr=!1;break}Sn||(Sn=Wt=="constructor")}if(hr&&!Sn){var lo=y.constructor,uo=k.constructor;lo!=uo&&"constructor"in y&&"constructor"in k&&!(typeof lo=="function"&&lo instanceof lo&&typeof uo=="function"&&uo instanceof uo)&&(hr=!1)}return le.delete(y),le.delete(k),hr}function Hs(y,k){var N=y.__data__;return io(k)?N[typeof k=="string"?"string":"hash"]:N.map}function qs(y){for(var k=ns(y),N=k.length;N--;){var z=k[N],we=y[z];k[N]=[z,we,oo(we)]}return k}function xn(y,k){var N=pe(y,k);return Tl(N)?N:void 0}var dr=_l;(Pi&&dr(new Pi(new ArrayBuffer(1)))!=E||Kn&&dr(new Kn)!=h||Jn&&dr(Jn.resolve())!=S||rn&&dr(new rn)!=v||Xn&&dr(new Xn)!=T)&&(dr=function(y){var k=at.call(y),N=k==w?y.constructor:void 0,z=N?D(N):void 0;if(z)switch(z){case Mi:return E;case Qn:return h;case el:return S;case tl:return v;case rl:return T}return k});function Il(y,k,N){k=ts(k,y)?[k]:ro(k);for(var z,we=-1,Ee=k.length;++we<Ee;){var le=x(k[we]);if(!(z=y!=null&&N(y,le)))break;y=y[le]}if(z)return z;var Ee=y?y.length:0;return!!Ee&&Ot(Ee)&&Li(le,Ee)&&(We(y)||Te(y))}function Li(y,k){return k=k??o,!!k&&(typeof y=="number"||wt.test(y))&&y>-1&&y%1==0&&y<k}function ts(y,k){if(We(y))return!1;var N=typeof y;return N=="number"||N=="symbol"||N=="boolean"||y==null||Dt(y)?!0:me.test(y)||!ie.test(y)||k!=null&&y in Object(k)}function io(y){var k=typeof y;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?y!=="__proto__":y===null}function rs(y){return!!Ke&&Ke in y}function ao(y){var k=y&&y.constructor,N=typeof k=="function"&&k.prototype||ve;return y===N}function oo(y){return y===y&&!It(y)}function co(y,k){return function(N){return N==null?!1:N[y]===k&&(k!==void 0||y in Object(N))}}var Dl=ae(function(y){y=jr(y);var k=[];return Pe.test(y)&&k.push(""),y.replace(Le,function(N,z,we,le){k.push(we?le.replace(yt,"$1"):z||N)}),k});function x(y){if(typeof y=="string"||Dt(y))return y;var k=y+"";return k=="0"&&1/y==-1/0?"-0":k}function D(y){if(y!=null){try{return _e.call(y)}catch{}try{return y+""}catch{}}return""}var j=Cl(function(y,k,N){y[N?0:1].push(k)},function(){return[[],[]]});function ae(y,k){if(typeof y!="function"||k&&typeof k!="function")throw new TypeError(n);var N=function(){var z=arguments,we=k?k.apply(this,z):z[0],le=N.cache;if(le.has(we))return le.get(we);var Ee=y.apply(this,z);return N.cache=le.set(we,Ee),Ee};return N.cache=new(ae.Cache||Tr),N}ae.Cache=Tr;function Ze(y,k){return y===k||y!==y&&k!==k}function Te(y){return At(y)&&fe.call(y,"callee")&&(!Qc.call(y,"callee")||at.call(y)==l)}var We=Array.isArray;function lt(y){return y!=null&&Ot(y.length)&&!et(y)}function At(y){return ht(y)&&lt(y)}function et(y){var k=It(y)?at.call(y):"";return k==m||k==p}function Ot(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=o}function It(y){var k=typeof y;return!!y&&(k=="object"||k=="function")}function ht(y){return!!y&&typeof y=="object"}function Dt(y){return typeof y=="symbol"||ht(y)&&at.call(y)==b}var rr=V?Y(V):El;function jr(y){return y==null?"":Ur(y)}function kr(y,k,N){var z=y==null?void 0:Ri(y,k);return z===void 0?N:z}function cn(y,k){return y!=null&&Il(y,k,xl)}function ns(y){return lt(y)?vl(y):Ws(y)}function Gs(y){return y}function Ys(y){return ts(y)?J(x(y)):Ol(y)}e.exports=j})(bc,bc.exports);var kO=bc.exports;const am=Yn(kO),Jc=(e,[t,r])=>e.filter(n=>n.startTime>=t&&n.startTime<r).length,Sy=(e,t)=>e.reduce((r,n)=>r+YE(t,[n.startTime,n.endTime]),0);function OO(e,t){return wf({seriesList:Ty(e),bucketDuration:t.bucketDuration??Ne.Hour,getLabel:yf(t,Ci()),getYValue:Sy,isToday:t.isToday,resetTime:t.resetTime})}function CO(e,t){return bf({seriesList:Ey(e),bucketDuration:Ne.Day,domain:pf(t),getLabel:r=>lf(r,!1),getYValue:Sy,resetTime:t.resetTime})}function PO(e,t){return wf({seriesList:Ty(e),bucketDuration:t.bucketDuration??Ne.Hour,getLabel:yf(t,Ci()),getYValue:Jc,isToday:t.isToday,resetTime:t.resetTime})}function MO(e,t){return bf({seriesList:Ey(e),bucketDuration:Ne.Day,domain:pf(t),getLabel:r=>lf(r,!1),getYValue:Jc,resetTime:t.resetTime})}function IO(e,t){return wf({seriesList:RO(e),bucketDuration:t.bucketDuration??Ne.Hour,getLabel:yf(t,Ci()),getYValue:Jc,isToday:t.isToday,resetTime:t.resetTime})}function DO(e,t){return bf({seriesList:NO(e),bucketDuration:Ne.Day,domain:pf(t),getLabel:r=>lf(r,!1),getYValue:Jc,resetTime:t.resetTime})}function Ty(e){const t=Date.now();return e.map(r=>({name:r.name,platform:r.platform,values:r.values.reduce((n,s)=>{const i=zc(s.startedAt),a=s.startedAt-i,o=(s.endedAt??t)-i;if(o<=Ne.Day)n.push({session:s,startTime:a,endTime:o});else{n.push({session:s,startTime:a,endTime:Ne.Day});const l=o%Ne.Day;n.push({session:s,startTime:new ar(0*Ne.Hour).ms,endTime:l})}return n},[])}))}function Ey(e){const t=Date.now();return e.map(r=>({name:r.name,platform:r.platform,values:r.values.reduce((n,s)=>{const i=s.startedAt,a=s.endedAt??t;return n.push({session:s,startTime:i,endTime:a}),n},[])}))}function RO(e){return e.map(t=>({name:t.name,platform:t.platform,values:t.values.map(r=>{const n=zc(r.timestamp),s=r.timestamp-n;return{ad:r,startTime:s,endTime:s}})}))}function NO(e){return e.map(t=>({name:t.name,platform:t.platform,values:t.values.map(r=>({ad:r,startTime:r.timestamp,endTime:r.timestamp}))}))}function LO(e,t,r){let n,s;const i=e.flatMap(a=>a.values);if(i.length===0)n=8*Ne.Hour+t,s=20*Ne.Hour+Ne.Second-t;else{const[a,o]=am(i,f=>f.startTime<r),[l,u]=am(i,f=>f.endTime<=r),c=o.length>0?Bh(o.map(f=>f.startTime)):Bh(a.map(f=>f.startTime))+Ne.Day,d=l.length>0?Wh(l.map(f=>f.endTime))+Ne.Day:Wh(u.map(f=>f.endTime));n=Math.floor(c/t)*t,s=d}return{startTime:n,endTime:s}}function pf(e){return{startTime:e.startDate,endTime:e.endDate}}function yf({is24HourFormat:e},t){return r=>KE(r,{is24HourFormat:e,baseTime:t})}function wf({seriesList:e,bucketDuration:t,getLabel:r,getYValue:n,isToday:s,resetTime:i}){const a={labels:[],series:e.map(d=>({name:d.name,values:[],additionalData:d.platform}))},o=LO(e,t,i),l=Math.max(o.startTime-t,i),u=Math.min(o.endTime,Ne.Day+i);let c=l;for(const d of uf(l,u,t)){const f=d%Ne.Day,m=f,p=Math.min(f+t,Ne.Day);a.labels.push(r(f)),e.forEach((h,g)=>{e[g].values.length>0&&a.series[g].values.push(n(h.values,[m,p]))}),c=d+t}return c<Ne.Day+i&&(a.labels.push(r(c)),e.forEach((d,f)=>{!s&&d.values.length>0&&a.series[f].values.push(0)})),a}function bf({seriesList:e,bucketDuration:t,domain:r,getLabel:n,getYValue:s,resetTime:i}){const a={labels:[],series:e.map(u=>({name:u.name,additionalData:u.platform,values:[]}))},[o,l]=oy(r.startTime,r.endTime,i);for(const u of uf(o,l,t)){const c=u,d=u+t;a.labels.push(n(c)),e.forEach((f,m)=>{e[m].values.length>0&&a.series[m].values.push(s(f.values,[c,d]))})}return a}var ky=(e=>(e.Stayfocusd="Stayfocusd",e))(ky||{});function FO(e){return ks(e,()=>{throw Error(`Value not provided for "${e}"`)},!0)}function Oy(){return FO(ky.Stayfocusd)}var vf=(e=>(e[e.GetPopupTimer=0]="GetPopupTimer",e[e.GetTimerForBlockAll=1]="GetTimerForBlockAll",e[e.GetTimersForGroups=2]="GetTimersForGroups",e[e.GetNuclearTimer=3]="GetNuclearTimer",e[e.UsageHighlights=4]="UsageHighlights",e[e.UsageSummary=5]="UsageSummary",e[e.UsageSummaryForLineChart=6]="UsageSummaryForLineChart",e[e.GetAppGroups=7]="GetAppGroups",e[e.PairingCode=8]="PairingCode",e[e.DeviceGroup=9]="DeviceGroup",e[e.Devices=10]="Devices",e))(vf||{}),Af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oi=typeof window>"u"||"Deno"in globalThis;function Ku(){}function FM(e,t){return typeof e=="function"?e(t):e}function Ju(e){return typeof e=="number"&&e>=0&&e!==1/0}function Cy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vo(e,t){return typeof e=="function"?e(t):e}function Cr(e,t){return typeof e=="function"?e(t):e}function $M(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==$O(a,t.options))return!1}else if(!_f(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function UM(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Xu(t.options.mutationKey)!==Xu(i))return!1}else if(!_f(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function $O(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xu)(e)}function Xu(e){return JSON.stringify(e,(t,r)=>ed(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function _f(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>_f(e[r],t[r])):!1}function Py(e,t){if(e===t)return e;const r=om(e)&&om(t);if(r||ed(e)&&ed(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,o=r?[]:{};let l=0;for(let u=0;u<a;u++){const c=r?u:i[u];(!r&&n.includes(c)||r)&&e[c]===void 0&&t[c]===void 0?(o[c]=void 0,l++):(o[c]=Py(e[c],t[c]),o[c]===e[c]&&e[c]!==void 0&&l++)}return s===a&&l===s?e:o}return t}function Qu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function om(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ed(e){if(!cm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!cm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cm(e){return Object.prototype.toString.call(e)==="[object Object]"}function UO(e){return new Promise(t=>{setTimeout(t,e)})}function td(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Py(e,t):t}function jM(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function VM(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var My=Symbol();function jO(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===My?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ps,Rn,fi,bm,VO=(bm=class extends Af{constructor(){super();Se(this,ps);Se(this,Rn);Se(this,fi);ue(this,fi,t=>{if(!Oi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){P(this,Rn)||this.setEventListener(P(this,fi))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Rn))==null||t.call(this),ue(this,Rn,void 0))}setEventListener(t){var r;ue(this,fi,t),(r=P(this,Rn))==null||r.call(this),ue(this,Rn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){P(this,ps)!==t&&(ue(this,ps,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof P(this,ps)=="boolean"?P(this,ps):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ps=new WeakMap,Rn=new WeakMap,fi=new WeakMap,bm),Iy=new VO,hi,Nn,mi,vm,BO=(vm=class extends Af{constructor(){super();Se(this,hi,!0);Se(this,Nn);Se(this,mi);ue(this,mi,t=>{if(!Oi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){P(this,Nn)||this.setEventListener(P(this,mi))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Nn))==null||t.call(this),ue(this,Nn,void 0))}setEventListener(t){var r;ue(this,mi,t),(r=P(this,Nn))==null||r.call(this),ue(this,Nn,t(this.setOnline.bind(this)))}setOnline(t){P(this,hi)!==t&&(ue(this,hi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return P(this,hi)}},hi=new WeakMap,Nn=new WeakMap,mi=new WeakMap,vm),Dy=new BO;function rd(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function WO(e){return Math.min(1e3*2**e,3e4)}function Ry(e){return(e??"online")==="online"?Dy.isOnline():!0}var Ny=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function lu(e){return e instanceof Ny}function HO(e){let t=!1,r=0,n=!1,s;const i=rd(),a=h=>{var g;n||(f(new Ny(h)),(g=e.abort)==null||g.call(e))},o=()=>{t=!0},l=()=>{t=!1},u=()=>Iy.isFocused()&&(e.networkMode==="always"||Dy.isOnline())&&e.canRun(),c=()=>Ry(e.networkMode)&&e.canRun(),d=h=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,h),s==null||s(),i.resolve(h))},f=h=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,h),s==null||s(),i.reject(h))},m=()=>new Promise(h=>{var g;s=w=>{(n||u())&&h(w)},(g=e.onPause)==null||g.call(e)}).then(()=>{var h;s=void 0,n||(h=e.onContinue)==null||h.call(e)}),p=()=>{if(n)return;let h;const g=r===0?e.initialPromise:void 0;try{h=g??e.fn()}catch(w){h=Promise.reject(w)}Promise.resolve(h).then(d).catch(w=>{var b;if(n)return;const S=e.retry??(Oi?0:3),_=e.retryDelay??WO,v=typeof _=="function"?_(r,w):_,C=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,w);if(t||!C){f(w);return}r++,(b=e.onFail)==null||b.call(e,r,w),UO(v).then(()=>u()?void 0:m()).then(()=>{t?f(w):p()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?p():m().then(p),i)}}var qO=e=>setTimeout(e,0);function GO(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=qO;const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var Ly=GO(),ys,Am,YO=(Am=class{constructor(){Se(this,ys)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ju(this.gcTime)&&ue(this,ys,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Oi?1/0:5*60*1e3))}clearGcTimeout(){P(this,ys)&&(clearTimeout(P(this,ys)),ue(this,ys,void 0))}},ys=new WeakMap,Am),gi,pi,yr,ws,Lt,La,bs,Or,fn,_m,BM=(_m=class extends YO{constructor(t){super();Se(this,Or);Se(this,gi);Se(this,pi);Se(this,yr);Se(this,ws);Se(this,Lt);Se(this,La);Se(this,bs);ue(this,bs,!1),ue(this,La,t.defaultOptions),this.setOptions(t.options),this.observers=[],ue(this,ws,t.client),ue(this,yr,P(this,ws).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ue(this,gi,ZO(this.options)),this.state=t.state??P(this,gi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Lt))==null?void 0:t.promise}setOptions(t){this.options={...P(this,La),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,yr).remove(this)}setData(t,r){const n=td(this.state.data,t,this.options);return $e(this,Or,fn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){$e(this,Or,fn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=P(this,Lt))==null?void 0:n.promise;return(s=P(this,Lt))==null||s.cancel(t),r?r.then(Ku).catch(Ku):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,gi))}isActive(){return this.observers.some(t=>Cr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===My||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Cy(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Lt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Lt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(P(this,Lt)&&(P(this,bs)?P(this,Lt).cancel({revert:!0}):P(this,Lt).cancelRetry()),this.scheduleGc()),P(this,yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$e(this,Or,fn).call(this,{type:"invalidate"})}fetch(t,r){var l,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,Lt))return P(this,Lt).continueRetry(),P(this,Lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ue(this,bs,!0),n.signal)})},i=()=>{const d=jO(this.options,r),f={client:P(this,ws),queryKey:this.queryKey,meta:this.meta};return s(f),ue(this,bs,!1),this.options.persister?this.options.persister(d,f,this):d(f)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:P(this,ws),state:this.state,fetchFn:i};s(a),(l=this.options.behavior)==null||l.onFetch(a,this),ue(this,pi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&$e(this,Or,fn).call(this,{type:"fetch",meta:(c=a.fetchOptions)==null?void 0:c.meta});const o=d=>{var f,m,p,h;lu(d)&&d.silent||$e(this,Or,fn).call(this,{type:"error",error:d}),lu(d)||((m=(f=P(this,yr).config).onError)==null||m.call(f,d,this),(h=(p=P(this,yr).config).onSettled)==null||h.call(p,this.state.data,d,this)),this.scheduleGc()};return ue(this,Lt,HO({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var f,m,p,h;if(d===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(g){o(g);return}(m=(f=P(this,yr).config).onSuccess)==null||m.call(f,d,this),(h=(p=P(this,yr).config).onSettled)==null||h.call(p,d,this.state.error,this),this.scheduleGc()},onError:o,onFail:(d,f)=>{$e(this,Or,fn).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{$e(this,Or,fn).call(this,{type:"pause"})},onContinue:()=>{$e(this,Or,fn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),P(this,Lt).start()}},gi=new WeakMap,pi=new WeakMap,yr=new WeakMap,ws=new WeakMap,Lt=new WeakMap,La=new WeakMap,bs=new WeakMap,Or=new WeakSet,fn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Fy(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return lu(s)&&s.revert&&P(this,pi)?{...P(this,pi),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ly.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),P(this,yr).notify({query:this,type:"updated",action:t})})},_m);function Fy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ry(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ZO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ir,Ue,Fa,Gt,vs,yi,Ln,Fn,$a,wi,bi,As,_s,$n,vi,qe,ea,nd,sd,id,ad,od,cd,ld,$y,xm,zO=(xm=class extends Af{constructor(t,r){super();Se(this,qe);Se(this,ir);Se(this,Ue);Se(this,Fa);Se(this,Gt);Se(this,vs);Se(this,yi);Se(this,Ln);Se(this,Fn);Se(this,$a);Se(this,wi);Se(this,bi);Se(this,As);Se(this,_s);Se(this,$n);Se(this,vi,new Set);this.options=r,ue(this,ir,t),ue(this,Fn,null),ue(this,Ln,rd()),this.options.experimental_prefetchInRender||P(this,Ln).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Ue).addObserver(this),lm(P(this,Ue),this.options)?$e(this,qe,ea).call(this):this.updateResult(),$e(this,qe,ad).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ud(P(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ud(P(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$e(this,qe,od).call(this),$e(this,qe,cd).call(this),P(this,Ue).removeObserver(this)}setOptions(t){const r=this.options,n=P(this,Ue);if(this.options=P(this,ir).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cr(this.options.enabled,P(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$e(this,qe,ld).call(this),P(this,Ue).setOptions(this.options),r._defaulted&&!Qu(this.options,r)&&P(this,ir).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Ue),observer:this});const s=this.hasListeners();s&&um(P(this,Ue),n,this.options,r)&&$e(this,qe,ea).call(this),this.updateResult(),s&&(P(this,Ue)!==n||Cr(this.options.enabled,P(this,Ue))!==Cr(r.enabled,P(this,Ue))||Vo(this.options.staleTime,P(this,Ue))!==Vo(r.staleTime,P(this,Ue)))&&$e(this,qe,nd).call(this);const i=$e(this,qe,sd).call(this);s&&(P(this,Ue)!==n||Cr(this.options.enabled,P(this,Ue))!==Cr(r.enabled,P(this,Ue))||i!==P(this,$n))&&$e(this,qe,id).call(this,i)}getOptimisticResult(t){const r=P(this,ir).getQueryCache().build(P(this,ir),t),n=this.createResult(r,t);return JO(this,n)&&(ue(this,Gt,n),ue(this,yi,this.options),ue(this,vs,P(this,Ue).state)),n}getCurrentResult(){return P(this,Gt)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){P(this,vi).add(t)}getCurrentQuery(){return P(this,Ue)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=P(this,ir).defaultQueryOptions(t),n=P(this,ir).getQueryCache().build(P(this,ir),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return $e(this,qe,ea).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,Gt)))}createResult(t,r){var E;const n=P(this,Ue),s=this.options,i=P(this,Gt),a=P(this,vs),o=P(this,yi),u=t!==n?t.state:P(this,Fa),{state:c}=t;let d={...c},f=!1,m;if(r._optimisticResults){const M=this.hasListeners(),$=!M&&lm(t,r),G=M&&um(t,n,r,s);($||G)&&(d={...d,...Fy(c.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:h,status:g}=d;m=d.data;let w=!1;if(r.placeholderData!==void 0&&m===void 0&&g==="pending"){let M;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(M=i.data,w=!0):M=typeof r.placeholderData=="function"?r.placeholderData((E=P(this,bi))==null?void 0:E.state.data,P(this,bi)):r.placeholderData,M!==void 0&&(g="success",m=td(i==null?void 0:i.data,M,r),f=!0)}if(r.select&&m!==void 0&&!w)if(i&&m===(a==null?void 0:a.data)&&r.select===P(this,$a))m=P(this,wi);else try{ue(this,$a,r.select),m=r.select(m),m=td(i==null?void 0:i.data,m,r),ue(this,wi,m),ue(this,Fn,null)}catch(M){ue(this,Fn,M)}P(this,Fn)&&(p=P(this,Fn),m=P(this,wi),h=Date.now(),g="error");const S=d.fetchStatus==="fetching",_=g==="pending",v=g==="error",C=_&&S,b=m!==void 0,A={status:g,fetchStatus:d.fetchStatus,isPending:_,isSuccess:g==="success",isError:v,isInitialLoading:C,isLoading:C,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:h,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!_,isLoadingError:v&&!b,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:v&&b,isStale:xf(t,r),refetch:this.refetch,promise:P(this,Ln)};if(this.options.experimental_prefetchInRender){const M=F=>{A.status==="error"?F.reject(A.error):A.data!==void 0&&F.resolve(A.data)},$=()=>{const F=ue(this,Ln,A.promise=rd());M(F)},G=P(this,Ln);switch(G.status){case"pending":t.queryHash===n.queryHash&&M(G);break;case"fulfilled":(A.status==="error"||A.data!==G.value)&&$();break;case"rejected":(A.status!=="error"||A.error!==G.reason)&&$();break}}return A}updateResult(){const t=P(this,Gt),r=this.createResult(P(this,Ue),this.options);if(ue(this,vs,P(this,Ue).state),ue(this,yi,this.options),P(this,vs).data!==void 0&&ue(this,bi,P(this,Ue)),Qu(r,t))return;ue(this,Gt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!P(this,vi).size)return!0;const a=new Set(i??P(this,vi));return this.options.throwOnError&&a.add("error"),Object.keys(P(this,Gt)).some(o=>{const l=o;return P(this,Gt)[l]!==t[l]&&a.has(l)})};$e(this,qe,$y).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$e(this,qe,ad).call(this)}},ir=new WeakMap,Ue=new WeakMap,Fa=new WeakMap,Gt=new WeakMap,vs=new WeakMap,yi=new WeakMap,Ln=new WeakMap,Fn=new WeakMap,$a=new WeakMap,wi=new WeakMap,bi=new WeakMap,As=new WeakMap,_s=new WeakMap,$n=new WeakMap,vi=new WeakMap,qe=new WeakSet,ea=function(t){$e(this,qe,ld).call(this);let r=P(this,Ue).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ku)),r},nd=function(){$e(this,qe,od).call(this);const t=Vo(this.options.staleTime,P(this,Ue));if(Oi||P(this,Gt).isStale||!Ju(t))return;const n=Cy(P(this,Gt).dataUpdatedAt,t)+1;ue(this,As,setTimeout(()=>{P(this,Gt).isStale||this.updateResult()},n))},sd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Ue)):this.options.refetchInterval)??!1},id=function(t){$e(this,qe,cd).call(this),ue(this,$n,t),!(Oi||Cr(this.options.enabled,P(this,Ue))===!1||!Ju(P(this,$n))||P(this,$n)===0)&&ue(this,_s,setInterval(()=>{(this.options.refetchIntervalInBackground||Iy.isFocused())&&$e(this,qe,ea).call(this)},P(this,$n)))},ad=function(){$e(this,qe,nd).call(this),$e(this,qe,id).call(this,$e(this,qe,sd).call(this))},od=function(){P(this,As)&&(clearTimeout(P(this,As)),ue(this,As,void 0))},cd=function(){P(this,_s)&&(clearInterval(P(this,_s)),ue(this,_s,void 0))},ld=function(){const t=P(this,ir).getQueryCache().build(P(this,ir),this.options);if(t===P(this,Ue))return;const r=P(this,Ue);ue(this,Ue,t),ue(this,Fa,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},$y=function(t){Ly.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(P(this,Gt))}),P(this,ir).getQueryCache().notify({query:P(this,Ue),type:"observerResultsUpdated"})})},xm);function KO(e,t){return Cr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lm(e,t){return KO(e,t)||e.state.data!==void 0&&ud(e,t,t.refetchOnMount)}function ud(e,t,r){if(Cr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&xf(e,t)}return!1}function um(e,t,r,n){return(e!==t||Cr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&xf(e,r)}function xf(e,t){return Cr(t.enabled,e)!==!1&&e.isStaleByTime(Vo(t.staleTime,e))}function JO(e,t){return!Qu(e.getCurrentResult(),t)}var XO="VUE_QUERY_CLIENT";function QO(e){const t=e?`:${e}`:"";return`${XO}${t}`}function dm(e,t){Object.keys(e).forEach(r=>{e[r]=t[r]})}function dd(e,t,r="",n=0){if(t){const s=t(e,r,n);if(s===void 0&&Xe(e)||s!==void 0)return s}if(Array.isArray(e))return e.map((s,i)=>dd(s,t,String(i),n+1));if(typeof e=="object"&&tC(e)){const s=Object.entries(e).map(([i,a])=>[i,dd(a,t,i,n+1)]);return Object.fromEntries(s)}return e}function eC(e,t){return dd(e,t)}function Bo(e,t=!1){return eC(e,(r,n,s)=>{if(s===1&&n==="queryKey")return Bo(r,!0);if(t&&rC(r))return Bo(r(),t);if(Xe(r))return Bo(ef(r),t)})}function tC(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function rC(e){return typeof e=="function"}function fm(e,t){return typeof e=="function"?e(...t):!!e}function nC(e=""){if(!Ep())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=QO(e),r=ks(t);if(!r)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return r}function sC(e,t,r){const n=nC(),s=dt(()=>{const m=Bo(t);typeof m.enabled=="function"&&(m.enabled=m.enabled());const p=n.defaultQueryOptions(m);return p._optimisticResults=n.isRestoring.value?"isRestoring":"optimistic",p}),i=new e(n,s.value),a=Jg(i.getCurrentResult());let o=()=>{};Ut(n.isRestoring,m=>{m||(o(),o=i.subscribe(p=>{dm(a,p)}))},{immediate:!0});const l=()=>{i.setOptions(s.value),dm(a,i.getCurrentResult())};Ut(s,l),Gd(()=>{o()});const u=(...m)=>(l(),a.refetch(...m)),c=()=>new Promise((m,p)=>{let h=()=>{};const g=()=>{if(s.value.enabled!==!1){i.setOptions(s.value);const w=i.getOptimisticResult(s.value);w.isStale?(h(),i.fetchOptimistic(s.value).then(m,S=>{fm(s.value.throwOnError,[S,i.getCurrentQuery()])?p(S):m(i.getCurrentResult())})):(h(),m(w))}};g(),h=Ut(s,g)});Ut(()=>a.error,m=>{if(a.isError&&!a.isFetching&&fm(s.value.throwOnError,[m,i.getCurrentQuery()]))throw m});const f=ep(a);for(const m in a)typeof a[m]=="function"&&(f[m]=a[m]);return f.suspense=c,f.refetch=u,f}function Uy(e,t){return sC(zO,e)}function iC(){const e=Oy();return Uy({queryKey:[vf.GetTimersForGroups],queryFn:()=>e.timers.getAllTimersByType(vr.Group),refetchOnMount:!0,refetchOnReconnect:!0,refetchOnWindowFocus:!0})}function aC(e){return{id:e.id,website_urls:e.websiteUrls,brand_ids:e.brandIds,limit_type:e.limitType,is_enabled:e.isEnabled,daily_limit_duration:e.dailyLimitDuration?Gu(e.dailyLimitDuration):void 0,daily_limit_block_type:e.dailyLimitBlockType,daily_limit_metric_type:e.dailyLimitMetricType,custom_limit_name:e.customLimitName}}function oC(e){return(e.limit_type==Ai.DailyUsageLimit||e.limit_type==Ai.BlockPermanently)&&(e.website_urls&&e.website_urls.length>0||e.brand_ids&&e.brand_ids.length>0)&&(e.daily_limit_block_type==null||e.daily_limit_block_type==_c.Block)&&(e.daily_limit_metric_type==null||e.daily_limit_metric_type==xc.UsageTime)}function hm(e){if(oC(e))return{id:e.id,websiteUrls:e.website_urls??[],limitType:e.limit_type,isEnabled:e.is_enabled,brandIds:e.brand_ids??[],isSynced:!0,dailyLimitDuration:e.limit_type==Ai.BlockPermanently?0:e.daily_limit_duration*Ne.Second,dailyLimitBlockType:_c.Block,dailyLimitMetricType:xc.UsageTime,customLimitName:e.custom_limit_name??""}}async function cC(e,t,r){async function n(s,i=!1){let a="";if(s.length>0)if(i){const l=(await hs()).find(u=>u.brand_id==s[0]);l&&(a=l.name)}else a=s[0];return s.length==1?a:`${a} ${nt("more",s.length.toString())}`}if(e)return e;if(t.length>0)return await n(t);if(r.length>0)return await n(r,!0)}async function jy(e){return{id:e.id,name:await cC(e.customLimitName,e.websiteUrls,e.brandIds??[]),allowedTimeMs:e.dailyLimitDuration,brandIds:e.brandIds,type:vr.Group,blocklist:e.websiteUrls,isEnabled:e.isEnabled,isSynced:e.isSynced}}function lC(e){return{id:e.id,customLimitName:e.name,dailyLimitDuration:e.allowedTimeMs,websiteUrls:e.blocklist,brandIds:e.brandIds,isEnabled:e.isEnabled,isSynced:e.isSynced,limitType:e.allowedTimeMs==0?Ai.BlockPermanently:Ai.DailyUsageLimit,dailyLimitBlockType:_c.Block,dailyLimitMetricType:xc.UsageTime}}function uC(){async function e(n){const s=await Mt.getValue(),i=s[n];return i.isSynced=!0,await Mt.setValue(s),lC(i)}async function t(n){const s=await Mt.getValue();delete s[n],await Mt.setValue(s)}async function r(n){const s=await Mt.getValue(),i=s[n.id];if(i)i.name=n.customLimitName??"",i.allowedTimeMs=n.dailyLimitDuration??0,i.isEnabled=n.isEnabled,i.isSynced=n.isSynced,i.blocklist=n.websiteUrls,i.brandIds=n.brandIds;else{const a=await jy(n);s[a.id]=a}await Mt.setValue(s)}return{upsertLimit:r,removeUsageLimit:t,setSyncFlagUsageLimit:e}}function Vy(){const e=_d(),t=uC();async function r(f,m){const p=await n();p&&await m(p),await f()}async function n(){const f=await yc.getValue();return(f==null?void 0:f.key)??null}async function s(){const f=await n();return f?await e.getGroupConfig({deviceGroupKey:f}):null}async function i(){const f=await s();return f?f.generic_usage_limits.reduce((m,p)=>{const h=hm(p);return h&&m.push(h),m},[]):[]}async function a(f=null){let m=await Mt.getValue();if(f||(f=await s()),f){m=Object.fromEntries(Object.entries(m).filter(([,g])=>!g.isSynced));const h=f.generic_usage_limits;for(let g=0;g<h.length;g++){const w=h[g],S=hm(w);if(S){const _=await jy(S);m[_.id]=_}}}else Object.values(m).forEach(h=>{if(h.isSynced)return delete m[h.id]});await Mt.setValue(m)}async function o(){const f=await s(),m=(f==null?void 0:f.ignored_websites)||[],p=(f==null?void 0:f.ignored_apps)||[],h=(f==null?void 0:f.ignored_desktop_apps)||[];await my.setValue(m),await gy.setValue(h),await py.setValue(p),await a(f)}async function l(f){const m=await t.setSyncFlagUsageLimit(f);await u(m)}async function u(f){await r(async()=>{await t.upsertLimit(f)},async m=>{f.isSynced&&await e.addGenericUsageLimit({key:m,genericLimits:[aC(f)]})})}async function c(f){await r(async()=>{await t.removeUsageLimit(f)},async m=>{await e.removeGenericUsageLimit({key:m,limitIds:[f]})})}async function d(f){await e.removeDeviceFromDeviceGroup(f),await o()}return{update:o,removeDevice:d,addGenericUsageLimit:u,removeGenericUsageLimit:c,getGenericUsageLimits:i,updateGenericUsageLimits:a,syncNewGenericUsageLimit:l}}function dC(e){const{state:t,...r}=pT(e.getValue,e.fallback);let n;return Za(()=>{n=e.watch(s=>{t.value=s})}),rf(()=>{n==null||n()}),{state:dt({get(){return t.value},set(s){e.setValue(s),t.value=s}}),...r}}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let By;const Xc=e=>By=e,Wy=Symbol();function fd(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ua;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ua||(ua={}));function WM(){const e=Lg(!0),t=e.run(()=>Qt({}));let r=[],n=[];const s=Qd({install(i){Xc(s),s._a=i,i.provide(Wy,s),i.config.globalProperties.$pinia=s,n.forEach(a=>r.push(a)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return s}const Hy=()=>{};function mm(e,t,r,n=Hy){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!r&&qd()&&Gd(s),s}function Xs(e,...t){e.slice().forEach(r=>{r(...t)})}const fC=e=>e(),gm=Symbol(),uu=Symbol();function hd(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,n)=>e.set(n,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],s=e[r];fd(s)&&fd(n)&&e.hasOwnProperty(r)&&!Xe(n)&&!yn(n)?e[r]=hd(s,n):e[r]=n}return e}const hC=Symbol();function mC(e){return!fd(e)||!e.hasOwnProperty(hC)}const{assign:On}=Object;function gC(e){return!!(Xe(e)&&e.effect)}function pC(e,t,r,n){const{state:s,actions:i,getters:a}=t,o=r.state.value[e];let l;function u(){o||(r.state.value[e]=s?s():{});const c=ep(r.state.value[e]);return On(c,i,Object.keys(a||{}).reduce((d,f)=>(d[f]=Qd(dt(()=>{Xc(r);const m=r._s.get(e);return a[f].call(m,m)})),d),{}))}return l=qy(e,u,t,r,n,!0),l}function qy(e,t,r={},n,s,i){let a;const o=On({actions:{}},r),l={deep:!0};let u,c,d=[],f=[],m;const p=n.state.value[e];!i&&!p&&(n.state.value[e]={}),Qt({});let h;function g(A){let E;u=c=!1,typeof A=="function"?(A(n.state.value[e]),E={type:ua.patchFunction,storeId:e,events:m}):(hd(n.state.value[e],A),E={type:ua.patchObject,payload:A,storeId:e,events:m});const M=h=Symbol();Ya().then(()=>{h===M&&(u=!0)}),c=!0,Xs(d,E,n.state.value[e])}const w=i?function(){const{state:E}=r,M=E?E():{};this.$patch($=>{On($,M)})}:Hy;function S(){a.stop(),d=[],f=[],n._s.delete(e)}const _=(A,E="")=>{if(gm in A)return A[uu]=E,A;const M=function(){Xc(n);const $=Array.from(arguments),G=[],F=[];function se(U){G.push(U)}function B(U){F.push(U)}Xs(f,{args:$,name:M[uu],store:C,after:se,onError:B});let K;try{K=A.apply(this&&this.$id===e?this:C,$)}catch(U){throw Xs(F,U),U}return K instanceof Promise?K.then(U=>(Xs(G,U),U)).catch(U=>(Xs(F,U),Promise.reject(U))):(Xs(G,K),K)};return M[gm]=!0,M[uu]=E,M},v={_p:n,$id:e,$onAction:mm.bind(null,f),$patch:g,$reset:w,$subscribe(A,E={}){const M=mm(d,A,E.detached,()=>$()),$=a.run(()=>Ut(()=>n.state.value[e],G=>{(E.flush==="sync"?c:u)&&A({storeId:e,type:ua.direct,events:m},G)},On({},l,E)));return M},$dispose:S},C=jc(v);n._s.set(e,C);const T=(n._a&&n._a.runWithContext||fC)(()=>n._e.run(()=>(a=Lg()).run(()=>t({action:_}))));for(const A in T){const E=T[A];if(Xe(E)&&!gC(E)||yn(E))i||(p&&mC(E)&&(Xe(E)?E.value=p[A]:hd(E,p[A])),n.state.value[e][A]=E);else if(typeof E=="function"){const M=_(E,A);T[A]=M,o.actions[A]=E}}return On(C,T),On(Ve(C),T),Object.defineProperty(C,"$state",{get:()=>n.state.value[e],set:A=>{g(E=>{On(E,A)})}}),n._p.forEach(A=>{On(C,a.run(()=>A({store:C,app:n._a,pinia:n,options:o})))}),p&&i&&r.hydrate&&r.hydrate(C.$state,p),u=!0,c=!0,C}/*! #__NO_SIDE_EFFECTS__ */function yC(e,t,r){let n,s;const i=typeof t=="function";typeof e=="string"?(n=e,s=i?r:t):(s=e,n=e.id);function a(o,l){const u=Ep();return o=o||(u?ks(Wy,null):null),o&&Xc(o),o=By,o._s.has(n)||(i?qy(n,t,s,o):pC(n,s,o)),o._s.get(n)}return a.$id=n,a}function wC(e){{const t=Ve(e),r={};for(const n in t){const s=t[n];s.effect?r[n]=dt({get:()=>e[n],set(i){e[n]=i}}):(Xe(s)||yn(s))&&(r[n]=tp(e,n))}return r}}const bC=yC("device-group",()=>{const e=Vy(),{state:t}=dC(yc);async function r(i){t.value=i,await yc.setValue(Ve(i))}async function n(){t.value=null}Ut(t,i=>{i||e.update()});async function s(i){await e.removeDevice(i)}return{deviceGroup:t,kickedFromGroup:n,removeDevice:s,setDeviceGroup:r}});function vC(){const{data:e}=iC(),{deviceGroup:t}=wC(bC());return{groups:dt(()=>{if(t.value&&Vy().updateGenericUsageLimits(),e.value)return Mk(e.value)})}}function du(e,t){return Math.round(t/e*100)}var md=(e=>(e[e.Duration=0]="Duration",e[e.Ads=1]="Ads",e[e.Sessions=2]="Sessions",e))(md||{}),gd=(e=>(e[e.All=0]="All",e[e.Blocked=1]="Blocked",e[e.Allowed=2]="Allowed",e))(gd||{}),pd=(e=>(e.AppType="app-type",e.Device="device",e))(pd||{});function HM(e,t,r,n,s,i){const a=Oy(),o=vC(),{data:l,error:u,isFetching:c}=Uy({queryKey:[vf.UsageSummary,e,n,s],queryFn:async()=>{var v;return a.usage.getUsageSummary(e.value.startDate,e.value.endDate,(v=n==null?void 0:n.value)==null?void 0:v.key,s==null?void 0:s.value)},placeholderData:()=>[]}),d=dt(()=>{const v=l.value??[];if(!i||i.value=="")return v;const C=i.value.toLowerCase();return v.filter(b=>b.appId.toLowerCase().includes(C))}),f=dt(()=>{const v=d.value??[];switch(t.value){case 0:return v;case 2:return v.filter(C=>C.allowed);case 1:return v.filter(C=>C.blocked)}}),m=hT(async()=>await a.usage.getMetaDataForApps(f.value)),p=dt(()=>{var v;return((v=m.value)==null?void 0:v.reduce((C,b)=>C+b.totalDuration,0))??0}),h=dt(()=>{var v;return((v=m.value)==null?void 0:v.reduce((C,b)=>C+b.adCount,0))??0}),g=dt(()=>{var v;return((v=m.value)==null?void 0:v.reduce((C,b)=>C+b.sessionCount,0))??0}),w=dt(()=>{const v=m.value?m.value.slice():[];switch(r.value){case 0:return v.filter(C=>C.totalDuration>Ne.Second).sort((C,b)=>b.totalDuration-C.totalDuration);case 1:return v.filter(C=>C.adCount!=0).sort((C,b)=>b.adCount-C.adCount)??[];case 2:return v.sort((C,b)=>b.sessionCount-C.sessionCount)}}),S=dt(()=>w.value.map(v=>{var b;const C=AC(r.value,v,p.value,h.value,g.value);return{...v,...C,group:(b=o.groups.value)==null?void 0:b.find(T=>{var A;return(A=T.websiteUrls)==null?void 0:A.includes(v.appId)})}}));return{summary:dt(()=>{var C;if(!i||i.value=="")return S.value;const v=i.value.toLowerCase();return(C=S.value)==null?void 0:C.filter(b=>b.brandName.toLowerCase().includes(v))}),totalSessionCount:g,totalAdCount:h,totalDuration:p,error:u,isFetching:c}}function AC(e,t,r,n,s){switch(e){case 0:{const i=r==0?1:r;return{primaryMetricValue:t.totalDuration,primaryMetricIntegerPercent:du(i,t.totalDuration),primaryMetric:cu(t.totalDuration),secondaryMetric:au(t.sessionCount),tertiaryMetric:ou(t.adCount),primaryMetricPerPlatforms:t.valuePerPlatforms}}case 1:{const i=n==0?1:n;return{primaryMetricValue:t.adCount,primaryMetricIntegerPercent:du(i,t.adCount),primaryMetric:ou(t.adCount),secondaryMetric:cu(t.totalDuration),tertiaryMetric:au(t.sessionCount),primaryMetricPerPlatforms:t.valuePerPlatforms}}case 2:{const i=s==0?1:s;return{primaryMetricValue:t.sessionCount,primaryMetricIntegerPercent:du(i,t.sessionCount),primaryMetric:au(t.sessionCount),secondaryMetric:cu(t.totalDuration),tertiaryMetric:ou(t.adCount),primaryMetricPerPlatforms:t.valuePerPlatforms}}}}function _C(e,t,r){var s;const n=xC(((s=e==null?void 0:e.find(i=>i.install_id===t.createdBy))==null?void 0:s.name)??"web");return(n==="android"||n==="ios")&&r==="web"?"mobile-web":r}function xC(e){const t=e.toLowerCase();return t.includes("android")||t.includes("wear")||t.includes("google sdk")?"android":t.includes("ios")?"ios":t.includes("windows")?"windows":t.includes("mac")?"mac":t.includes("linux")?"linux":(t.includes("web")||t.includes("chrome")||t.includes("firefox")||t.includes("safari"),"web")}class Sf{static register(t){this.caches.add(t)}static clearAll(){this.caches.forEach(t=>t.clear())}static cleanupAll(){this.caches.forEach(t=>t.cleanupExpired())}}Me(Sf,"caches",new Set);const SC=Ne.Minute*5;class TC{constructor(t=SC){Me(this,"cache",new Map);this.cacheTime=t,Sf.register(this)}get(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp<this.cacheTime?r.data:(this.cache.delete(t),null):null}set(t,r){this.cache.set(t,{data:r,timestamp:Date.now()})}clear(){this.cache.clear()}cleanupExpired(){const t=Date.now();for(const[r,{timestamp:n}]of this.cache.entries())t-n>=this.cacheTime&&this.cache.delete(r)}}let EC=()=>({emit(e,...t){for(let r=this.events[e]||[],n=0,s=r.length;n<s;n++)r[n](...t)},events:{},on(e,t){var r;return((r=this.events)[e]||(r[e]=[])).push(t),()=>{var n;this.events[e]=(n=this.events[e])==null?void 0:n.filter(s=>t!==s)}}});const Gy=EC();function kC(e){const t=_d();async function r(u,c){return(await e.sessionsRepo.findSessions(u,c)??[]).map(m=>{const p=Gu(m.startedAt)*Ne.Second,h=m.endedAt!=null?p+Gu(m.endedAt-m.startedAt)*Ne.Second:null;return{...m,startedAt:p,endedAt:h}}).map(m=>l(m))}const n=new TC;Gy.on("cleanCache",()=>{Sf.clearAll()});async function s(u,c,d){if(!d)return[];const f=`${d}_${u}_${c}`,m=n.get(f);if(m)return m;const p=await Ua(),h=zE(u,c,90),w=(await Promise.all(h.map(S=>t.listDeviceGroupSessions({deviceGroupKey:d,startTime:S.startDate,endTime:S.endDate,installId:p})))).flat().filter(S=>!!S).map(S=>({id:S.appId+S.startedAt,appId:S.appId,createdBy:S.installId,startedAt:S.startedAt,endedAt:S.endedAt,imported:!0,platform:S.platform}));return n.set(f,w),w}async function i(u,c,d){const f=await r(u,c),m=await s(u,c,d);return[...f,...m]}async function a(u,c,d){return await s(u,c,d)}async function o(u){if(u.length==0)return{};const c=t.getAndroidAppInfo({appIds:[...u]}),d={};for(const f of await c)d[f.app_id]={displayName:f.display_name,iconUrl:f.icon_url};return d}function l(u){return{...u,platform:"web"}}return{filterSessions:i,filterRemoteSessions:a,findAppMetadata:o}}function OC(e,t){const r=n=>n[t];return e.reduce((n,s)=>{var a;const i=r(s);return n[i]=((a=n[i])==null?void 0:a.concat(s))??[s],n},{})}const[qM,CC]=Sc("usage-service",PC,{logger:CT});function PC(e){const t=ox(),r=kC(t),n=t.adsRepo,s=t.pageViewsRepo;Gy.on("dailyReset",async()=>{const g=await s.getActivePageViews();if(g.length==1){const w=g[0];await s.endPageView(g[0],Date.now()),w.startedAt=Date.now(),await s.startPageView(w)}});const i=async()=>yc.getValue(),a=async()=>{const g=await Zu.getValue();return new ar(g.hours,Ne.Hour).plus(new ar(g.minutes,Ne.Minute))},o=async(g,w)=>{const S=await a(),[_,v]=oy(g,w,S.ms);return{start:_,end:v}},l=g=>Math.round(g/Ne.Second)*Ne.Second,u=async(g,w)=>{const{blocklist:S,brands:_}=await la(),v=await hs(),C=await pc.getValue();let b;return g==gd.Blocked&&(b="blocked"),g==gd.Allowed&&(b="allowed"),b&&(w=w.filter(T=>Yu(T.appId,{type:vr.Group,blocklist:S,brandIds:_},C,S,v)==b)),w},c=(g,w)=>g?w.filter(S=>S.appId.includes(g)):w,d=async g=>{const w=new iu(await py.getValue()),S=new iu(await gy.getValue()),_=new iu(await my.getValue());return g.filter(({appId:v})=>!(w.has(v)||S.has(v)||_.has(v)))},f=async(g,w,S,_)=>{const v=await Zu.getValue(),C=v.hours*Ne.Hour+v.minutes*Ne.Minute,b={...g,resetTime:C};let T=await r.filterSessions(g.startDate,g.endDate,g.deviceGroupKey);g.deviceInstallId&&(T=T.filter(E=>E.createdBy==g.deviceInstallId)),T=await u(g.websiteType,T),T=c(g.searchText,T),T=await d(T);const A=await m(T,g);if(g.primaryMetric===md.Ads){const E=await n.findAds(g.startDate,g.endDate),M=p(A,E);return w(M,b)}return g.primaryMetric===md.Sessions?S(A,b):_(A,b)},m=async(g,w)=>{switch(w.groupBy){case pd.AppType:{const S={desktop:[],web:[],android:[],"mobile-web":[]};return g.forEach(_=>{var b;const v=Eo(_.platform),C=_C(w.devices??[],_,v);(b=S[C])==null||b.push(_)}),Object.entries(S).map(([_,v])=>({name:EO(_),platform:_,values:v}))}case pd.Device:{const S=await Ua();return Object.entries(OC(g,"createdBy")).map(([_,v])=>{var C,b;return{name:S==_?nt("thisDevice"):((b=(C=w.devices)==null?void 0:C.find(T=>T.install_id===_))==null?void 0:b.name)??_,values:v}})}}return[{values:g}]},p=(g,w)=>g.map(S=>{const _=S.values.map(v=>v.id);return{name:S.name,platform:S.platform,values:w.filter(v=>_.includes(v.sessionId))}}),h=async g=>{const w=await hs();return await Array.from(new Set(g.map(v=>({appId:v.appId,platform:v.platform})))).reduce(async(v,C)=>{var A;const b=await v,T=(A=xO(w,C.appId,Eo(C.platform)))==null?void 0:A.name;return b[C.appId]=T??C.appId,b},Promise.resolve({}))};return{getTodaysUsage:async()=>{const g=await a(),w=new wr().startOfDay.plus(g),S=w.ms>Date.now()?new wr(WE()).plus(g):w,_=S.add(ar.DAY),v=await s.findPageViewsByStartedAt(S.ms,_.ms),C=await i();if(C){const T=(await r.filterRemoteSessions(S.ms,_.ms,C==null?void 0:C.key)).map(A=>({id:A.id,path:"",startedAt:A.startedAt,endedAt:A.endedAt,appId:A.appId,createdBy:A.createdBy}));return{local:v,remote:T}}return{local:v,remote:[]}},getUsageHighlights:async(g,w)=>{const{start:S,end:_}=await o(g,w),v=await r.filterSessions(S,_)??[],C=await n.findAds(S,_),{blocklist:b,brands:T}=await la(),A=await hs(),E=v.reduce((K,U)=>{const R=new Date(U.startedAt).getHours();return R in K||(K[R]=0),K[R]+=U.endedAt?U.endedAt-U.startedAt:0,K},{}),M=Object.keys(E).reduce((K,U)=>E[K]>E[U]?K:Number(U),0),$=v.reduce((K,U)=>{const R=U.appId;return R in K||(K[R]={count:0,totalDuration:0,blocked:gc(R,b,T,A)=="blocked"}),K[R].count+=1,K[R].totalDuration+=U.endedAt?U.endedAt-U.startedAt:0,K},{}),G=v.reduce((K,U)=>K+(U.endedAt?l(U.endedAt-U.startedAt):0),0),F=Object.values($).filter(K=>K.blocked),se=F.length,B=F.reduce((K,U)=>K+U.count,0);return{sessionCount:v.length,totalDuration:G,blockedAppCount:se,blockedSessionCount:B,appCount:Object.keys($).length,favoriteHour:M,adCount:C.length}},getUsageSummary:async(g,w,S,_)=>{const{start:v,end:C}=await o(g,w);let b=await r.filterSessions(v,C,S);b=await d(b);const T=await n.findAds(v,C);_&&_!="all"&&(b=b.filter(se=>se.createdBy==_));const{blocklist:A,brands:E}=await la(),M=await hs(),$=await pc.getValue(),G=await h(b),F=b.reduce((se,B)=>{const K=Le=>Le.endedAt?l(Le.endedAt-Le.startedAt):0,U=Le=>T.filter(mt=>mt.sessionId==Le.id).length,R=Eo(B.platform),ie=B.appId,me=G[ie];se[me]||(se[me]={appId:ie,brandName:G[ie],sessionCount:0,totalDuration:0,blocked:gc(ie,A,E,M)=="blocked",allowed:$.some(Le=>ui(ie,Le)),adCount:0,valuePerPlatforms:[],platform:Eo(B.platform)});const Pe=se[me].valuePerPlatforms.find(Le=>Le.platform==R);return Pe?(Pe.duration+=K(B),Pe.sessionsCount+=1,Pe.adsCount+=U(B)):se[me].valuePerPlatforms.push({platform:R,duration:K(B),sessionsCount:1,adsCount:U(B)}),se[me].sessionCount+=1,se[me].adCount+=U(B),se[me].totalDuration+=K(B),se},{});return Object.values(F)},getMetaDataForApps:async g=>{const w=g.reduce((_,v)=>(v.platform==jo.Android&&_.add(v.appId),_),new Set),S=await r.findAppMetadata(Array.from(w));return g.map(_=>({..._,...S[_.appId]}))},getChartData:async g=>{const{start:w,end:S}=await o(g.startDate,g.endDate);return g.startDate=w,g.endDate=S,g.isDailyChart?f(g,DO,MO,CO):f(g,IO,PO,OO)},uploadAll:async()=>{await e.uploadAll()}}}const Yy="@wxt-dev/analytics";function MC(e){var t;if(typeof chrome>"u"||!((t=chrome==null?void 0:chrome.runtime)!=null&&t.id))throw Error("Cannot use WXT analytics in contexts without access to the browser.runtime APIs");return e==null&&console.warn("[@wxt-dev/analytics] Config not provided to createAnalytics. If you're using WXT, add the 'analytics' property to '<srcDir>/app.config.ts'."),location.pathname==="/background.js"?IC(e):DC()}function IC(e){var m;const t=(e==null?void 0:e.userId)??fu("wxt-analytics:user-id"),r=(e==null?void 0:e.userProperties)??fu("wxt-analytics:user-properties",{}),n=(e==null?void 0:e.enabled)??fu("local:wxt-analytics:enabled",!1),s=chrome.runtime.getPlatformInfo(),i=Dm.UAParser();let a=Promise.resolve(t.getValue()).then(p=>p??globalThis.crypto.randomUUID()),o=r.getValue();const l=chrome.runtime.getManifest(),u=()=>({timestamp:Date.now(),sessionId:void 0,language:navigator.language,referrer:void 0,screen:void 0,url:location.href,title:void 0}),c=async p=>{const h=await s;return{meta:p,user:{id:await a,properties:{version:(e==null?void 0:e.version)??l.version_name??l.version,wxtMode:"production",wxtBrowser:"chrome",arch:h.arch,os:h.os,browser:i.browser.name,browserVersion:i.browser.version,...await o}}}},d={identify:async(p,h={},g=u())=>{var S,_;a=Promise.resolve(p),o=Promise.resolve(h),await Promise.all([(S=t.setValue)==null?void 0:S.call(t,p),(_=r.setValue)==null?void 0:_.call(r,h)]);const w=await c(g);e!=null&&e.debug&&console.debug("[@wxt-dev/analytics] identify",w),await n.getValue()?await Promise.allSettled(f.map(v=>v.identify(w))):e!=null&&e.debug&&console.debug("[@wxt-dev/analytics] Analytics disabled, identify() not uploaded")},page:async(p,h=u())=>{var S,_;const w={...await c(h),page:{url:(h==null?void 0:h.url)??((S=globalThis.location)==null?void 0:S.href),location:p,title:(h==null?void 0:h.title)??((_=globalThis.document)==null?void 0:_.title)}};e!=null&&e.debug&&console.debug("[@wxt-dev/analytics] page",w),await n.getValue()?await Promise.allSettled(f.map(v=>v.page(w))):e!=null&&e.debug&&console.debug("[@wxt-dev/analytics] Analytics disabled, page() not uploaded")},track:async(p,h,g=u())=>{const S={...await c(g),event:{name:p,properties:h}};e!=null&&e.debug&&console.debug("[@wxt-dev/analytics] track",S),await n.getValue()?await Promise.allSettled(f.map(_=>_.track(S))):e!=null&&e.debug&&console.debug("[@wxt-dev/analytics] Analytics disabled, track() not uploaded")},setEnabled:async p=>{var h;await((h=n.setValue)==null?void 0:h.call(n,p))},autoTrack:()=>()=>{}},f=((m=e==null?void 0:e.providers)==null?void 0:m.map(p=>p(d,e)))??[];return chrome.runtime.onConnect.addListener(p=>{p.name===Yy&&p.onMessage.addListener(({fn:h,args:g})=>{var w;(w=d[h])==null||w.call(d,...g)})}),d}function DC(){const e=chrome.runtime.connect({name:Yy}),t=Date.now(),r=()=>{var i;return{sessionId:t,timestamp:Date.now(),language:navigator.language,referrer:((i=globalThis.document)==null?void 0:i.referrer)||void 0,screen:globalThis.window?`${globalThis.window.screen.width}x${globalThis.window.screen.height}`:void 0,url:location.href,title:document.title||void 0}},n=i=>(...a)=>{e.postMessage({fn:i,args:[...a,r()]})},s={identify:n("identify"),page:n("page"),track:n("track"),setEnabled:n("setEnabled"),autoTrack:i=>{const a=o=>{var u,c;const l=o.target;!l||!RC.has(l.tagName)&&!NC.has(l.getAttribute("role"))||s.track("click",{tagName:(u=l.tagName)==null?void 0:u.toLowerCase(),id:l.id||void 0,className:l.className||void 0,textContent:((c=l.textContent)==null?void 0:c.substring(0,50))||void 0,href:l.href})};return i.addEventListener("click",a,{capture:!0,passive:!0}),()=>{i.removeEventListener("click",a)}}};return s}function fu(e,t){return{getValue:async()=>(await chrome.storage.local.get(e))[e]??t,setValue:r=>chrome.storage.local.set({[e]:r})}}const RC=new Set(["A","BUTTON","INPUT","SELECT","TEXTAREA"]),NC=new Set(["button","link","checkbox","menuitem","tab","radio"]);function LC(e){return t=>(r,n)=>e(r,n,t)}function ko(e,...t){}const FC={debug:(...e)=>ko(console.debug,...e),log:(...e)=>ko(console.log,...e),warn:(...e)=>ko(console.warn,...e),error:(...e)=>ko(console.error,...e)},vc=class vc extends Event{constructor(t,r){super(vc.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=r}};Me(vc,"EVENT_NAME",wd("wxt:locationchange"));let yd=vc;function wd(e){var t;return`${(t=ca==null?void 0:ca.runtime)==null?void 0:t.id}:html:${e}`}function $C(e){let t,r;return{run(){t==null&&(r=new URL(location.href),t=e.setInterval(()=>{let n=new URL(location.href);n.href!==r.href&&(window.dispatchEvent(new yd(n,r)),r=n)},1e3))}}}const da=class da{constructor(t,r){Me(this,"isTopFrame",window.self===window.top);Me(this,"abortController");Me(this,"locationWatcher",$C(this));Me(this,"receivedMessageIds",new Set);this.contentScriptName=t,this.options=r,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return ca.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,r){const n=setInterval(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearInterval(n)),n}setTimeout(t,r){const n=setTimeout(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearTimeout(n)),n}requestAnimationFrame(t){const r=requestAnimationFrame((...n)=>{this.isValid&&t(...n)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(t,r){const n=requestIdleCallback((...s)=>{this.signal.aborted||t(...s)},r);return this.onInvalidated(()=>cancelIdleCallback(n)),n}addEventListener(t,r,n,s){var i;r==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(i=t.addEventListener)==null||i.call(t,r.startsWith("wxt:")?wd(r):r,n,{...s,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),FC.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:da.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){var i,a,o;const r=((i=t.data)==null?void 0:i.type)===da.SCRIPT_STARTED_MESSAGE_TYPE,n=((a=t.data)==null?void 0:a.contentScriptName)===this.contentScriptName,s=!this.receivedMessageIds.has((o=t.data)==null?void 0:o.messageId);return r&&n&&s}listenForNewerScripts(t){let r=!0;const n=s=>{if(this.verifyScriptStartedEvent(s)){this.receivedMessageIds.add(s.data.messageId);const i=r;if(r=!1,i&&(t!=null&&t.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",n),this.onInvalidated(()=>removeEventListener("message",n))}};Me(da,"SCRIPT_STARTED_MESSAGE_TYPE",wd("wxt:content-script-started"));let pm=da;const UC=Symbol("null");let jC=0;class VC extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[t]=arguments;if(t!=null){if(typeof t[Symbol.iterator]!="function")throw new TypeError(typeof t+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[r,n]of t)this.set(r,n)}}_getPublicKeys(t,r=!1){if(!Array.isArray(t))throw new TypeError("The keys parameter must be an array");const n=this._getPrivateKey(t,r);let s;return n&&this._publicKeys.has(n)?s=this._publicKeys.get(n):r&&(s=[...t],this._publicKeys.set(n,s)),{privateKey:n,publicKey:s}}_getPrivateKey(t,r=!1){const n=[];for(let s of t){s===null&&(s=UC);const i=typeof s=="object"||typeof s=="function"?"_objectHashes":typeof s=="symbol"?"_symbolHashes":!1;if(!i)n.push(s);else if(this[i].has(s))n.push(this[i].get(s));else if(r){const a=`@@mkm-ref-${jC++}@@`;this[i].set(s,a),n.push(a)}else return!1}return JSON.stringify(n)}set(t,r){const{publicKey:n}=this._getPublicKeys(t,!0);return super.set(n,r)}get(t){const{publicKey:r}=this._getPublicKeys(t);return super.get(r)}has(t){const{publicKey:r}=this._getPublicKeys(t);return super.has(r)}delete(t){const{publicKey:r,privateKey:n}=this._getPublicKeys(t);return!!(r&&super.delete(r)&&this._publicKeys.delete(n))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new VC;const BC=100,WC=LC((e,t,r)=>{const n=async(s,i,a)=>{const o=new URL(t!=null&&t.debug?"/debug/mp/collect":"/mp/collect","https://www.google-analytics.com");r.apiSecret&&o.searchParams.set("api_secret",r.apiSecret),r.measurementId&&o.searchParams.set("measurement_id",r.measurementId);const l={language:s.meta.language,screen:s.meta.screen,...s.user.properties},u=Object.fromEntries(Object.entries(l).map(([c,d])=>[c,d==null?void 0:{value:d}]));await fetch(o.href,{method:"POST",body:JSON.stringify({client_id:s.user.id,consent:{ad_user_data:"DENIED",ad_personalization:"DENIED"},user_properties:u,events:[{name:i,params:{session_id:s.meta.sessionId,engagement_time_msec:BC,...a}}]})})};return{identify:()=>Promise.resolve(),page:s=>n(s,"page_view",{page_title:s.page.title,page_location:s.page.location}),track:s=>n(s,s.event.name,s.event.properties)}}),HC={analytics:{providers:[WC({measurementId:"G-RD9W7TJ9TZ",apiSecret:"XaR9YDEpQc6GG_m2eeA5Jw"})],userId:{getValue:Ua,setValue:()=>{}},enabled:{getValue:async()=>{const{canUploadData:e}=xy();return await e()},setValue:()=>{}}}};function qC(){return HC}const GM=MC(qC().analytics);function YM(){}export{Ho as $,cM as A,hf as B,vr as C,ar as D,Yu as E,EP as F,nt as G,UP as H,uM as I,Ak as J,xk as K,wk as L,OP as M,vk as N,UE as O,DP as P,ox as Q,QC as R,vO as S,Ne as T,tk as U,rk as V,ri as W,lM as X,CT as Y,Rk as Z,IM as _,$P as a,tr as a$,DM as a0,Qp as a1,RM as a2,NM as a3,Vy as a4,Sf as a5,ZC as a6,eP as a7,qM as a8,FP as a9,fP as aA,Ve as aB,uP as aC,Gc as aD,Uu as aE,mP as aF,Jt as aG,GM as aH,WM as aI,ky as aJ,vC as aK,fs as aL,aP as aM,Xe as aN,Oy as aO,Mk as aP,Gh as aQ,LP as aR,MP as aS,dC as aT,Tk as aU,iC as aV,rM as aW,Uy as aX,vf as aY,hT as aZ,Og as a_,YM as aa,oc as ab,lP as ac,ef as ad,Jg as ae,jc as af,ks as ag,dt as ah,vP as ai,_S as aj,Qt as ak,Ut as al,Ya as am,yP as an,Fc as ao,Lc as ap,ju as aq,GS as ar,dP as as,Qx as at,bP as au,Wp as av,cr as aw,qS as ax,vx as ay,gP as az,ca as b,TM as b$,hx as b0,xe as b1,iP as b2,Hd as b3,Zl as b4,rS as b5,ke as b6,pP as b7,Tt as b8,cP as b9,VM as bA,jM as bB,Iy as bC,Dy as bD,Vo as bE,FM as bF,Xu as bG,_f as bH,My as bI,Bo as bJ,QO as bK,Oi as bL,CC as bM,pM as bN,yM as bO,dM as bP,fM as bQ,hM as bR,mM as bS,gM as bT,wM as bU,bM as bV,vM as bW,AM as bX,_M as bY,xM as bZ,SM as b_,Qe as ba,tP as bb,tS as bc,lS as bd,gp as be,Pa as bf,Ru as bg,jd as bh,kg as bi,nP as bj,Xr as bk,sP as bl,Jr as bm,Ha as bn,Wd as bo,Qr as bp,Af as bq,$O as br,BM as bs,Ly as bt,$M as bu,YO as bv,HO as bw,UM as bx,Ku as by,jO as bz,WP as c,ZP as c$,EM as c0,AP as c1,Nh as c2,oP as c3,rP as c4,HS as c5,Za as c6,rf as c7,xP as c8,nC as c9,du as cA,EO as cB,md as cC,au as cD,ou as cE,cu as cF,jo as cG,rT as cH,Xd as cI,BE as cJ,pd as cK,SP as cL,gd as cM,sy as cN,HM as cO,hy as cP,nk as cQ,PP as cR,zu as cS,zh as cT,Hu as cU,HE as cV,IT as cW,qu as cX,qh as cY,lC as cZ,TP as c_,wC as ca,bC as cb,oM as cc,nM as cd,Jh as ce,Xh as cf,Dk as cg,Lk as ch,Fk as ci,Nk as cj,hP as ck,xc as cl,_c as cm,Ai as cn,fy as co,aM as cp,yC as cq,KP as cr,XP as cs,QP as ct,iM as cu,eM as cv,Ci as cw,JP as cx,YP as cy,_P as cz,Mt as d,jP as d0,wP as d1,Kh as d2,PM as d3,MM as d4,CP as d5,CM as d6,OT as d7,IP as d8,kM as d9,OM as da,Ck as db,RP as dc,NP as dd,Fo as de,_k as df,tM as dg,Lo as dh,sM as di,Sc as dj,Oe as dk,H as dl,JE as dm,Tv as dn,pT as dp,Pr as dq,TT as dr,LM as ds,Qu as dt,dm as du,ep as dv,Gd as dw,fm as dx,Gy as e,VP as f,Ua as g,Ik as h,_d as i,HP as j,Yn as k,YC as l,je as m,zP as n,BP as o,Zu as p,wr as q,xy as r,yk as s,or as t,qP as u,kP as v,pc as w,GP as x,hs as y,la as z};
